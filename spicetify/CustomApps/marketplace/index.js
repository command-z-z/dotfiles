var marketplace=(()=>{var R,P=Object.create,A=Object.defineProperty,T=Object.defineProperties,M=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertyNames,F=Object.getOwnPropertySymbols,U=Object.getPrototypeOf,G=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,K=(e,t,r)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,i=(e,t)=>{for(var r in t=t||{})G.call(t,r)&&K(e,r,t[r]);if(F)for(var r of F(t))z.call(t,r)&&K(e,r,t[r]);return e},W=(e,t)=>T(e,D(t)),m=(e=>"undefined"!=typeof require?require:"undefined"!=typeof Proxy?new Proxy(e,{get:(e,t)=>("undefined"!=typeof require?require:e)[t]}):e)(function(e){if("react"===e)return Spicetify.React;if("react-dom"===e)return Spicetify.ReactDOM;if("undefined"!=typeof require)return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),e=(e,t)=>function(){return t||(0,e[$(e)[0]])((t={exports:{}}).exports,t),t.exports},J=(t,r,n,a)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let e of $(r))G.call(t,e)||e===n||A(t,e,{get:()=>r[e],enumerable:!(a=M(r,e))||a.enumerable});return t},t=(e,t,r)=>(r=null!=e?P(U(e)):{},J(!t&&e&&e.__esModule?r:A(r,"default",{value:e,enumerable:!0}),e)),X=e({"node_modules/semver/internal/constants.js"(e,t){var r=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:r,MAX_SAFE_COMPONENT_LENGTH:16}}}),Y=e({"node_modules/semver/internal/debug.js"(e,t){var r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};t.exports=r}}),Q=e({"node_modules/semver/internal/re.js"(e,t){var r=X()["MAX_SAFE_COMPONENT_LENGTH"],a=Y(),o=(e=t.exports={}).re=[],s=e.src=[],i=e.t={},l=0,t=(e,t,r)=>{var n=l++;a(e,n,t),i[e]=n,s[n]=t,o[n]=new RegExp(t,r?"g":void 0)};t("NUMERICIDENTIFIER","0|[1-9]\\d*"),t("NUMERICIDENTIFIERLOOSE","[0-9]+"),t("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),t("MAINVERSION",`(${s[i.NUMERICIDENTIFIER]})\\.(${s[i.NUMERICIDENTIFIER]})\\.(${s[i.NUMERICIDENTIFIER]})`),t("MAINVERSIONLOOSE",`(${s[i.NUMERICIDENTIFIERLOOSE]})\\.(${s[i.NUMERICIDENTIFIERLOOSE]})\\.(${s[i.NUMERICIDENTIFIERLOOSE]})`),t("PRERELEASEIDENTIFIER",`(?:${s[i.NUMERICIDENTIFIER]}|${s[i.NONNUMERICIDENTIFIER]})`),t("PRERELEASEIDENTIFIERLOOSE",`(?:${s[i.NUMERICIDENTIFIERLOOSE]}|${s[i.NONNUMERICIDENTIFIER]})`),t("PRERELEASE",`(?:-(${s[i.PRERELEASEIDENTIFIER]}(?:\\.${s[i.PRERELEASEIDENTIFIER]})*))`),t("PRERELEASELOOSE",`(?:-?(${s[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[i.PRERELEASEIDENTIFIERLOOSE]})*))`),t("BUILDIDENTIFIER","[0-9A-Za-z-]+"),t("BUILD",`(?:\\+(${s[i.BUILDIDENTIFIER]}(?:\\.${s[i.BUILDIDENTIFIER]})*))`),t("FULLPLAIN",`v?${s[i.MAINVERSION]}${s[i.PRERELEASE]}?${s[i.BUILD]}?`),t("FULL",`^${s[i.FULLPLAIN]}$`),t("LOOSEPLAIN",`[v=\\s]*${s[i.MAINVERSIONLOOSE]}${s[i.PRERELEASELOOSE]}?${s[i.BUILD]}?`),t("LOOSE",`^${s[i.LOOSEPLAIN]}$`),t("GTLT","((?:<|>)?=?)"),t("XRANGEIDENTIFIERLOOSE",s[i.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),t("XRANGEIDENTIFIER",s[i.NUMERICIDENTIFIER]+"|x|X|\\*"),t("XRANGEPLAIN",`[v=\\s]*(${s[i.XRANGEIDENTIFIER]})(?:\\.(${s[i.XRANGEIDENTIFIER]})(?:\\.(${s[i.XRANGEIDENTIFIER]})(?:${s[i.PRERELEASE]})?${s[i.BUILD]}?)?)?`),t("XRANGEPLAINLOOSE",`[v=\\s]*(${s[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[i.XRANGEIDENTIFIERLOOSE]})(?:${s[i.PRERELEASELOOSE]})?${s[i.BUILD]}?)?)?`),t("XRANGE",`^${s[i.GTLT]}\\s*${s[i.XRANGEPLAIN]}$`),t("XRANGELOOSE",`^${s[i.GTLT]}\\s*${s[i.XRANGEPLAINLOOSE]}$`),t("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),t("COERCERTL",s[i.COERCE],!0),t("LONETILDE","(?:~>?)"),t("TILDETRIM",`(\\s*)${s[i.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",t("TILDE",`^${s[i.LONETILDE]}${s[i.XRANGEPLAIN]}$`),t("TILDELOOSE",`^${s[i.LONETILDE]}${s[i.XRANGEPLAINLOOSE]}$`),t("LONECARET","(?:\\^)"),t("CARETTRIM",`(\\s*)${s[i.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",t("CARET",`^${s[i.LONECARET]}${s[i.XRANGEPLAIN]}$`),t("CARETLOOSE",`^${s[i.LONECARET]}${s[i.XRANGEPLAINLOOSE]}$`),t("COMPARATORLOOSE",`^${s[i.GTLT]}\\s*(${s[i.LOOSEPLAIN]})$|^$`),t("COMPARATOR",`^${s[i.GTLT]}\\s*(${s[i.FULLPLAIN]})$|^$`),t("COMPARATORTRIM",`(\\s*)${s[i.GTLT]}\\s*(${s[i.LOOSEPLAIN]}|${s[i.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",t("HYPHENRANGE",`^\\s*(${s[i.XRANGEPLAIN]})\\s+-\\s+(${s[i.XRANGEPLAIN]})\\s*$`),t("HYPHENRANGELOOSE",`^\\s*(${s[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[i.XRANGEPLAINLOOSE]})\\s*$`),t("STAR","(<|>)?=?\\s*\\*"),t("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),t("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}}),Z=e({"node_modules/semver/internal/parse-options.js"(e,t){var r=["includePrerelease","loose","rtl"];t.exports=t=>t?"object"!=typeof t?{loose:!0}:r.filter(e=>t[e]).reduce((e,t)=>(e[t]=!0,e),{}):{}}}),ee=e({"node_modules/semver/internal/identifiers.js"(e,t){var a=/^[0-9]+$/,r=(e,t)=>{var r=a.test(e),n=a.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n||(!n||r)&&e<t?-1:1};t.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}}}),H=e({"node_modules/semver/classes/semver.js"(e,t){var a=Y(),{MAX_LENGTH:n,MAX_SAFE_INTEGER:o}=X(),{re:s,t:i}=Q(),l=Z(),c=ee()["compareIdentifiers"],u=class{constructor(e,t){if(t=l(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>n)throw new TypeError(`version is longer than ${n} characters`);a("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?s[i.LOOSE]:s[i.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){var t=+e;if(0<=t&&t<o)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.`+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(a("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(a("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return c(r,n)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{var r=this.build[t],n=e.build[t];if(a("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return c(r,n)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;0<=--e;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0!==c(this.prerelease[0],t)||isNaN(this.prerelease[1]))&&(this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this}};t.exports=u}}),te=e({"node_modules/semver/functions/parse.js"(e,t){var n=X()["MAX_LENGTH"],{re:a,t:o}=Q(),s=H(),i=Z();t.exports=(e,t)=>{if(t=i(t),e instanceof s)return e;if("string"!=typeof e)return null;if(e.length>n)return null;const r=t.loose?a[o.LOOSE]:a[o.FULL];if(!r.test(e))return null;try{return new s(e,t)}catch(e){return null}}}}),re=e({"node_modules/semver/functions/valid.js"(e,t){var r=te();t.exports=(e,t)=>{e=r(e,t);return e?e.version:null}}}),ne=e({"node_modules/semver/functions/clean.js"(e,t){var r=te();t.exports=(e,t)=>{e=r(e.trim().replace(/^[=v]+/,""),t);return e?e.version:null}}}),ae=e({"node_modules/semver/functions/inc.js"(e,t){var a=H();t.exports=(e,t,r,n)=>{"string"==typeof r&&(n=r,r=void 0);try{return new a(e instanceof a?e.version:e,r).inc(t,n).version}catch(e){return null}}}}),q=e({"node_modules/semver/functions/compare.js"(e,t){var n=H();t.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))}}),oe=e({"node_modules/semver/functions/eq.js"(e,t){var n=q();t.exports=(e,t,r)=>0===n(e,t,r)}}),se=e({"node_modules/semver/functions/diff.js"(e,t){var s=te(),i=oe();t.exports=(e,t)=>{if(i(e,t))return null;var r=s(e),n=s(t),e=r.prerelease.length||n.prerelease.length,a=e?"pre":"",t=e?"prerelease":"";for(const o in r)if(("major"===o||"minor"===o||"patch"===o)&&r[o]!==n[o])return a+o;return t}}}),ie=e({"node_modules/semver/functions/major.js"(e,t){var r=H();t.exports=(e,t)=>new r(e,t).major}}),le=e({"node_modules/semver/functions/minor.js"(e,t){var r=H();t.exports=(e,t)=>new r(e,t).minor}}),ce=e({"node_modules/semver/functions/patch.js"(e,t){var r=H();t.exports=(e,t)=>new r(e,t).patch}}),ue=e({"node_modules/semver/functions/prerelease.js"(e,t){var r=te();t.exports=(e,t)=>{e=r(e,t);return e&&e.prerelease.length?e.prerelease:null}}}),pe=e({"node_modules/semver/functions/rcompare.js"(e,t){var n=q();t.exports=(e,t,r)=>n(t,e,r)}}),de=e({"node_modules/semver/functions/compare-loose.js"(e,t){var r=q();t.exports=(e,t)=>r(e,t,!0)}}),he=e({"node_modules/semver/functions/compare-build.js"(e,t){var a=H();t.exports=(e,t,r)=>{const n=new a(e,r);e=new a(t,r);return n.compare(e)||n.compareBuild(e)}}}),fe=e({"node_modules/semver/functions/sort.js"(e,t){var n=he();t.exports=(e,r)=>e.sort((e,t)=>n(e,t,r))}}),me=e({"node_modules/semver/functions/rsort.js"(e,t){var n=he();t.exports=(e,r)=>e.sort((e,t)=>n(t,e,r))}}),ge=e({"node_modules/semver/functions/gt.js"(e,t){var n=q();t.exports=(e,t,r)=>0<n(e,t,r)}}),ve=e({"node_modules/semver/functions/lt.js"(e,t){var n=q();t.exports=(e,t,r)=>n(e,t,r)<0}}),be=e({"node_modules/semver/functions/neq.js"(e,t){var n=q();t.exports=(e,t,r)=>0!==n(e,t,r)}}),ye=e({"node_modules/semver/functions/gte.js"(e,t){var n=q();t.exports=(e,t,r)=>0<=n(e,t,r)}}),we=e({"node_modules/semver/functions/lte.js"(e,t){var n=q();t.exports=(e,t,r)=>n(e,t,r)<=0}}),Ee=e({"node_modules/semver/functions/cmp.js"(e,t){var a=oe(),o=be(),s=ge(),i=ye(),l=ve(),c=we();t.exports=(e,t,r,n)=>{switch(t){case"===":return(e="object"==typeof e?e.version:e)===(r="object"==typeof r?r.version:r);case"!==":return(e="object"==typeof e?e.version:e)!==(r="object"==typeof r?r.version:r);case"":case"=":case"==":return a(e,r,n);case"!=":return o(e,r,n);case">":return s(e,r,n);case">=":return i(e,r,n);case"<":return l(e,r,n);case"<=":return c(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}}}),Se=e({"node_modules/semver/functions/coerce.js"(e,t){var a=H(),o=te(),{re:s,t:i}=Q();t.exports=(e,t)=>{if(e instanceof a)return e;if("string"!=typeof(e="number"==typeof e?String(e):e))return null;let r=null;if((t=t||{}).rtl){for(var n;(n=s[i.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&n.index+n[0].length===r.index+r[0].length||(r=n),s[i.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;s[i.COERCERTL].lastIndex=-1}else r=e.match(s[i.COERCE]);return null===r?null:o(`${r[2]}.${r[3]||"0"}.`+(r[4]||"0"),t)}}}),ke=e({"node_modules/yallist/iterator.js"(e,t){"use strict";t.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}}}),_e=e({"node_modules/yallist/yallist.js"(e,t){"use strict";function o(e){var t=this;if((t=t instanceof o?t:new o).tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(0<arguments.length)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}function s(e,t,r,n){if(!(this instanceof s))return new s(e,t,r,n);this.list=n,this.value=e,t?(t.next=this).prev=t:this.prev=null,r?(r.prev=this).next=r:this.next=null}(t.exports=o).Node=s,(o.create=o).prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},o.prototype.unshiftNode=function(e){var t;e!==this.head&&(e.list&&e.list.removeNode(e),t=this.head,e.list=this,(e.next=t)&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++)},o.prototype.pushNode=function(e){var t;e!==this.tail&&(e.list&&e.list.removeNode(e),t=this.tail,e.list=this,(e.prev=t)&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++)},o.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++){n=r=void 0;var r=this,n=arguments[e];r.tail=new s(n,r.tail,null,r),r.head||(r.head=r.tail),r.length++}return this.length},o.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++){n=r=void 0;var r=this,n=arguments[e];r.head=new s(n,null,r.head,r),r.tail||(r.tail=r.head),r.length++}return this.length},o.prototype.pop=function(){var e;if(this.tail)return e=this.tail.value,this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e},o.prototype.shift=function(){var e;if(this.head)return e=this.head.value,this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e},o.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},o.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},o.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},o.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},o.prototype.map=function(e,t){t=t||this;for(var r=new o,n=this.head;null!==n;)r.push(e.call(t,n.value,this)),n=n.next;return r},o.prototype.mapReverse=function(e,t){t=t||this;for(var r=new o,n=this.tail;null!==n;)r.push(e.call(t,n.value,this)),n=n.prev;return r},o.prototype.reduce=function(e,t){var r,n=this.head;if(1<arguments.length)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var a=0;null!==n;a++)r=e(r,n.value,a),n=n.next;return r},o.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(1<arguments.length)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var a=this.length-1;null!==n;a--)r=e(r,n.value,a),n=n.prev;return r},o.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},o.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},o.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new o;if(!(t<e||t<0)){e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,a=this.head;null!==a&&n<e;n++)a=a.next;for(;null!==a&&n<t;n++,a=a.next)r.push(a.value)}return r},o.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new o;if(!(t<e||t<0)){e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,a=this.tail;null!==a&&t<n;n--)a=a.prev;for(;null!==a&&e<n;n--,a=a.prev)r.push(a.value)}return r},o.prototype.splice=function(e,t,...r){(e=e>this.length?this.length-1:e)<0&&(e=this.length+e);for(var n=0,a=this.head;null!==a&&n<e;n++)a=a.next;for(var o=[],n=0;a&&n<t;n++)o.push(a.value),a=this.removeNode(a);(a=null===a?this.tail:a)!==this.head&&a!==this.tail&&(a=a.prev);for(n=0;n<r.length;n++)a=function(e,t,r){r=t===e.head?new s(r,null,t,e):new s(r,t,t.next,e);null===r.next&&(e.tail=r);null===r.prev&&(e.head=r);return e.length++,r}(this,a,r[n]);return o},o.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{ke()(o)}catch(e){}}}),xe=e({"node_modules/lru-cache/index.js"(e,t){"use strict";var r=_e(),s=Symbol("max"),i=Symbol("length"),l=Symbol("lengthCalculator"),o=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),p=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),a=Symbol("updateAgeOnGet"),n=()=>1,f=(e,t,r)=>{const n=e[h].get(t);if(n){t=n.value;if(m(e,t)){if(v(e,n),!e[o])return}else r&&(e[a]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},m=(e,t)=>{var r;return!(!t||!t.maxAge&&!e[c])&&(r=Date.now()-t.now,t.maxAge?r>t.maxAge:e[c]&&r>e[c])},g=t=>{if(t[i]>t[s])for(let e=t[d].tail;t[i]>t[s]&&null!==e;){var r=e.prev;v(t,e),e=r}},v=(e,t)=>{var r;t&&(r=t.value,e[u]&&e[u](r.key,r.value),e[i]-=r.length,e[h].delete(r.key),e[d].removeNode(t))},b=class{constructor(e,t,r,n,a){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=a||0}},y=(e,t,r,n)=>{let a=r.value;m(e,a)&&(v(e,r),e[o]||(a=void 0)),a&&t.call(n,a.value,a.key,e)};t.exports=class{constructor(e){if((e=(e="number"==typeof e?{max:e}:e)||{}).max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[s]=e.max||1/0;var t=e.length||n;if(this[l]="function"!=typeof t?n:t,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[p]=e.noDisposeOnSet||!1,this[a]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[s]=e||1/0,g(this)}get max(){return this[s]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,g(this)}get maxAge(){return this[c]}set lengthCalculator(e){(e="function"!=typeof e?n:e)!==this[l]&&(this[l]=e,this[i]=0,this[d].forEach(e=>{e.length=this[l](e.value,e.key),this[i]+=e.length})),g(this)}get lengthCalculator(){return this[l]}get length(){return this[i]}get itemCount(){return this[d].length}rforEach(t,r){r=r||this;for(let e=this[d].tail;null!==e;){var n=e.prev;y(this,t,e,r),e=n}}forEach(t,r){r=r||this;for(let e=this[d].head;null!==e;){var n=e.next;y(this,t,e,r),e=n}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[u]&&this[d]&&this[d].length&&this[d].forEach(e=>this[u](e.key,e.value)),this[h]=new Map,this[d]=new r,this[i]=0}dump(){return this[d].map(e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,r){if((r=r||this[c])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");var n=r?Date.now():0,a=this[l](t,e);if(this[h].has(e)){if(a>this[s])return v(this,this[h].get(e)),!1;const o=this[h].get(e).value;this[u]&&!this[p]&&this[u](e,o.value),o.now=n,o.maxAge=r,o.value=t,this[i]+=a-o.length,o.length=a,this.get(e)}else{if((a=new b(e,t,a,n,r)).length>this[s])return this[u]&&this[u](e,t),!1;this[i]+=a.length,this[d].unshift(a),this[h].set(e,this[d].head)}return g(this),!0}has(e){return!!this[h].has(e)&&(e=this[h].get(e).value,!m(this,e))}get(e){return f(this,e,!0)}peek(e){return f(this,e,!1)}pop(){var e=this[d].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[h].get(e))}load(t){this.reset();var r=Date.now();for(let e=t.length-1;0<=e;e--){var n=t[e],a=n.e||0;0===a?this.set(n.k,n.v):0<(a=a-r)&&this.set(n.k,n.v,a)}}prune(){this[h].forEach((e,t)=>f(this,t,!1))}}}}),V=e({"node_modules/semver/classes/range.js"(e,t){var n=class{constructor(e,t){if(t=a(t),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof l)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);if(1<this.set.length){t=this.set[0];if(this.set=this.set.filter(e=>!m(e[0])),0===this.set.length)this.set=[t];else if(1<this.set.length)for(const r of this.set)if(1===r.length&&o(r[0])){this.set=[r];break}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();var t=`parseRange:${Object.keys(this.options).join(",")}:`+e,r=i.get(t);if(r)return r;var r=this.options.loose,n=r?d[h.HYPHENRANGELOOSE]:d[h.HYPHENRANGE];e=e.replace(n,O(this.options.includePrerelease)),p("hyphen replace",e),e=e.replace(d[h.COMPARATORTRIM],c),p("comparator trim",e);let a=(e=(e=(e=e.replace(d[h.TILDETRIM],u)).replace(d[h.CARETTRIM],f)).split(/\s+/).join(" ")).split(" ").map(e=>g(e,this.options)).join(" ").split(/\s+/).map(e=>x(e,this.options));r&&(a=a.filter(e=>(p("loose invalid filter",e,this.options),!!e.match(d[h.COMPARATORLOOSE])))),p("range list",a);const o=new Map;for(const s of a.map(e=>new l(e,this.options))){if(m(s))return[s];o.set(s.value,s)}1<o.size&&o.has("")&&o.delete("");n=[...o.values()];return i.set(t,n),n}intersects(e,r){if(e instanceof n)return this.set.some(t=>s(t,r)&&e.set.some(e=>s(e,r)&&t.every(t=>e.every(e=>t.intersects(e,r)))));throw new TypeError("a Range is required")}test(t){if(t){if("string"==typeof t)try{t=new r(t,this.options)}catch(e){return!1}for(let e=0;e<this.set.length;e++)if(j(this.set[e],t,this.options))return!0}return!1}};t.exports=n;var i=new(xe())({max:1e3}),a=Z(),l=Oe(),p=Y(),r=H(),{re:d,t:h,comparatorTrimReplace:c,tildeTrimReplace:u,caretTrimReplace:f}=Q(),m=e=>"<0.0.0-0"===e.value,o=e=>""===e.value,s=(e,t)=>{let r=!0;const n=e.slice();let a=n.pop();for(;r&&n.length;)r=n.every(e=>a.intersects(e,t)),a=n.pop();return r},g=(e,t)=>(p("comp",e,t),e=w(e,t),p("caret",e),e=b(e,t),p("tildes",e),e=S(e,t),p("xrange",e),e=_(e,t),p("stars",e),e),v=e=>!e||"x"===e.toLowerCase()||"*"===e,b=(e,t)=>e.trim().split(/\s+/).map(e=>y(e,t)).join(" "),y=(s,e)=>{e=e.loose?d[h.TILDELOOSE]:d[h.TILDE];return s.replace(e,(e,t,r,n,a)=>{p("tilde",s,e,t,r,n,a);let o;return o=v(t)?"":v(r)?`>=${t}.0.0 <${+t+1}.0.0-0`:v(n)?`>=${t}.${r}.0 <${t}.${+r+1}.0-0`:a?(p("replaceTilde pr",a),`>=${t}.${r}.${n}-${a} <${t}.${+r+1}.0-0`):`>=${t}.${r}.${n} <${t}.${+r+1}.0-0`,p("tilde return",o),o})},w=(e,t)=>e.trim().split(/\s+/).map(e=>E(e,t)).join(" "),E=(s,e)=>{p("caret",s,e);var t=e.loose?d[h.CARETLOOSE]:d[h.CARET];const i=e.includePrerelease?"-0":"";return s.replace(t,(e,t,r,n,a)=>{p("caret",s,e,t,r,n,a);let o;return o=v(t)?"":v(r)?`>=${t}.0.0${i} <${+t+1}.0.0-0`:v(n)?"0"===t?`>=${t}.${r}.0${i} <${t}.${+r+1}.0-0`:`>=${t}.${r}.0${i} <${+t+1}.0.0-0`:a?(p("replaceCaret pr",a),"0"===t?"0"===r?`>=${t}.${r}.${n}-${a} <${t}.${r}.${+n+1}-0`:`>=${t}.${r}.${n}-${a} <${t}.${+r+1}.0-0`:`>=${t}.${r}.${n}-${a} <${+t+1}.0.0-0`):(p("no pr"),"0"===t?"0"===r?`>=${t}.${r}.${n}${i} <${t}.${r}.${+n+1}-0`:`>=${t}.${r}.${n}${i} <${t}.${+r+1}.0-0`:`>=${t}.${r}.${n} <${+t+1}.0.0-0`),p("caret return",o),o})},S=(e,t)=>(p("replaceXRanges",e,t),e.split(/\s+/).map(e=>k(e,t)).join(" ")),k=(c,u)=>{c=c.trim();var e=u.loose?d[h.XRANGELOOSE]:d[h.XRANGE];return c.replace(e,(e,t,r,n,a,o)=>{p("xRange",c,e,t,r,n,a,o);var s=v(r),i=s||v(n),l=i||v(a);return"="===t&&l&&(t=""),o=u.includePrerelease?"-0":"",s?e=">"===t||"<"===t?"<0.0.0-0":"*":t&&l?(i&&(n=0),a=0,">"===t?(t=">=",a=i?(r=+r+1,n=0):(n=+n+1,0)):"<="===t&&(t="<",i?r=+r+1:n=+n+1),e=t+r+`.${n}.`+a+(o="<"===t?"-0":o)):i?e=`>=${r}.0.0${o} <${+r+1}.0.0-0`:l&&(e=`>=${r}.${n}.0${o} <${r}.${+n+1}.0-0`),p("xRange return",e),e})},_=(e,t)=>(p("replaceStars",e,t),e.trim().replace(d[h.STAR],"")),x=(e,t)=>(p("replaceGTE0",e,t),e.trim().replace(d[t.includePrerelease?h.GTE0PRE:h.GTE0],"")),O=h=>(e,t,r,n,a,o,s,i,l,c,u,p,d)=>((t=v(r)?"":v(n)?`>=${r}.0.0`+(h?"-0":""):v(a)?`>=${r}.${n}.0`+(h?"-0":""):o?">="+t:">="+t+(h?"-0":""))+" "+(i=v(l)?"":v(c)?`<${+l+1}.0.0-0`:v(u)?`<${l}.${+c+1}.0-0`:p?`<=${l}.${c}.${u}-`+p:h?`<${l}.${c}.${+u+1}-0`:"<="+i)).trim(),j=(t,r,e)=>{for(let e=0;e<t.length;e++)if(!t[e].test(r))return!1;if(!r.prerelease.length||e.includePrerelease)return!0;for(let e=0;e<t.length;e++)if(p(t[e].semver),t[e].semver!==l.ANY&&0<t[e].semver.prerelease.length){var n=t[e].semver;if(n.major===r.major&&n.minor===r.minor&&n.patch===r.patch)return!0}return!1}}}),Oe=e({"node_modules/semver/classes/comparator.js"(e,t){var r=Symbol("SemVer ANY"),i=class{static get ANY(){return r}constructor(e,t){if(t=n(t),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}s("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(e){var t=this.options.loose?a[o.COMPARATORLOOSE]:a[o.COMPARATOR],t=e.match(t);if(!t)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==t[1]?t[1]:"","="===this.operator&&(this.operator=""),t[2]?this.semver=new c(t[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(s("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){var r,n,a,o,s;if(e instanceof i)return t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator?""===this.value||new u(e.value,t).test(this.value):""===e.operator?""===e.value||new u(this.value,t).test(e.semver):(r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),a=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=l(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),t=l(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator),r||n||a&&o||s||t);throw new TypeError("a Comparator is required")}},n=(t.exports=i,Z()),{re:a,t:o}=Q(),l=Ee(),s=Y(),c=H(),u=V()}}),je=e({"node_modules/semver/functions/satisfies.js"(e,t){var n=V();t.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}}}),Ie=e({"node_modules/semver/ranges/to-comparators.js"(e,t){var r=V();t.exports=(e,t)=>new r(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))}}),Ce=e({"node_modules/semver/ranges/max-satisfying.js"(e,t){var s=H(),i=V();t.exports=(e,t,r)=>{let n=null,a=null,o=null;try{o=new i(t,r)}catch(e){return null}return e.forEach(e=>{!o.test(e)||n&&-1!==a.compare(e)||(n=e,a=new s(n,r))}),n}}}),Ne=e({"node_modules/semver/ranges/min-satisfying.js"(e,t){var s=H(),i=V();t.exports=(e,t,r)=>{let n=null,a=null,o=null;try{o=new i(t,r)}catch(e){return null}return e.forEach(e=>{!o.test(e)||n&&1!==a.compare(e)||(n=e,a=new s(n,r))}),n}}}),Le=e({"node_modules/semver/ranges/min-version.js"(e,t){var o=H(),r=V(),s=ge();t.exports=(t,e)=>{t=new r(t,e);let n=new o("0.0.0");if(t.test(n))return n;if(n=new o("0.0.0-0"),t.test(n))return n;n=null;for(let e=0;e<t.set.length;++e){const a=t.set[e];let r=null;a.forEach(e=>{const t=new o(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!s(t,r)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}),!r||n&&!s(n,r)||(n=r)}return n&&t.test(n)?n:null}}}),Re=e({"node_modules/semver/ranges/valid.js"(e,t){var r=V();t.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}}}),Pe=e({"node_modules/semver/ranges/outside.js"(e,t){var r=H(),d=Oe(),h=d["ANY"],f=V(),m=je(),g=ge(),v=ve(),b=we(),y=ye();t.exports=(n,a,e,o)=>{n=new r(n,o),a=new f(a,o);let s,i,l,c,u;switch(e){case">":s=g,i=b,l=v,c=">",u=">=";break;case"<":s=v,i=y,l=g,c="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(m(n,a,o))return!1;for(let e=0;e<a.set.length;++e){const p=a.set[e];let t=null,r=null;if(p.forEach(e=>{e.semver===h&&(e=new d(">=0.0.0")),t=t||e,r=r||e,s(e.semver,t.semver,o)?t=e:l(e.semver,r.semver,o)&&(r=e)}),t.operator===c||t.operator===u)return!1;if((!r.operator||r.operator===c)&&i(n,r.semver))return!1;if(r.operator===u&&l(n,r.semver))return!1}return!0}}}),Ae=e({"node_modules/semver/ranges/gtr.js"(e,t){var n=Pe();t.exports=(e,t,r)=>n(e,t,">",r)}}),Te=e({"node_modules/semver/ranges/ltr.js"(e,t){var n=Pe();t.exports=(e,t,r)=>n(e,t,"<",r)}}),Me=e({"node_modules/semver/ranges/intersects.js"(e,t){var n=V();t.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t))}}),De=e({"node_modules/semver/ranges/simplify.js"(e,t){var h=je(),f=q();t.exports=(e,t,r)=>{const n=[];let a=null,o=null;var s,i,l=e.sort((e,t)=>f(e,t,r));for(const d of l){var c=h(d,t,r);a=c?(o=d,a||d):(o&&n.push([a,o]),o=null)}a&&n.push([a,null]);const u=[];for([s,i]of n)s===i?u.push(s):i||s!==l[0]?i?s===l[0]?u.push("<="+i):u.push(s+" - "+i):u.push(">="+s):u.push("*");var e=u.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return e.length<p.length?e:t}}}),$e=e({"node_modules/semver/ranges/subset.js"(e,t){var i=V(),v=Oe(),b=v["ANY"],y=je(),w=q(),E=(e,t,r)=>{return!e||!(0<(r=w(e.semver,t.semver,r)))&&(r<0||">"===t.operator&&">="===e.operator)?t:e},S=(e,t,r)=>{return!e||!((r=w(e.semver,t.semver,r))<0)&&(0<r||"<"===t.operator&&"<="===e.operator)?t:e};t.exports=(t,r,n={})=>{if(t!==r){t=new i(t,n),r=new i(r,n);let e=!1;e:for(const o of t.set){for(const s of r.set){var a=((i,l,c)=>{if(i!==l){if(1===i.length&&i[0].semver===b){if(1===l.length&&l[0].semver===b)return!0;i=c.includePrerelease?[new v(">=0.0.0-0")]:[new v(">=0.0.0")]}if(1===l.length&&l[0].semver===b){if(c.includePrerelease)return!0;l=[new v(">=0.0.0")]}const d=new Set;let e,t;for(const h of i)">"===h.operator||">="===h.operator?e=E(e,h,c):"<"===h.operator||"<="===h.operator?t=S(t,h,c):d.add(h.semver);if(1<d.size)return null;let r;if(e&&t){if(0<(r=w(e.semver,t.semver,c)))return null;if(0===r&&(">="!==e.operator||"<="!==t.operator))return null}for(const f of d){if(e&&!y(f,String(e),c))return null;if(t&&!y(f,String(t),c))return null;for(const m of l)if(!y(f,String(m),c))return!1;return!0}var u,p;let n,a,o=!(!t||c.includePrerelease||!t.semver.prerelease.length)&&t.semver,s=!(!e||c.includePrerelease||!e.semver.prerelease.length)&&e.semver;o&&1===o.prerelease.length&&"<"===t.operator&&0===o.prerelease[0]&&(o=!1);for(const g of l){if(a=a||">"===g.operator||">="===g.operator,n=n||"<"===g.operator||"<="===g.operator,e)if(s&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===s.major&&g.semver.minor===s.minor&&g.semver.patch===s.patch&&(s=!1),">"===g.operator||">="===g.operator){if((u=E(e,g,c))===g&&u!==e)return!1}else if(">="===e.operator&&!y(e.semver,String(g),c))return!1;if(t)if(o&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===o.major&&g.semver.minor===o.minor&&g.semver.patch===o.patch&&(o=!1),"<"===g.operator||"<="===g.operator){if((p=S(t,g,c))===g&&p!==t)return!1}else if("<="===t.operator&&!y(t.semver,String(g),c))return!1;if(!g.operator&&(t||e)&&0!==r)return!1}if(e&&n&&!t&&0!==r)return!1;if(t&&a&&!e&&0!==r)return!1;if(s||o)return!1}return true})(o,s,n);if(e=e||null!==a,a)continue e}if(e)return!1}}return!0}}}),Fe=e({"node_modules/semver/index.js"(M,e){var t=Q(),r=X(),n=H(),a=ee(),o=te(),s=re(),i=ne(),l=ae(),c=se(),u=ie(),p=le(),d=ce(),h=ue(),f=q(),m=pe(),g=de(),v=he(),b=fe(),y=me(),w=ge(),E=ve(),S=oe(),k=be(),_=ye(),x=we(),O=Ee(),j=Se(),I=Oe(),C=V(),N=je(),L=Ie(),R=Ce(),P=Ne(),A=Le(),T=Re(),D=Pe(),$=Ae(),F=Te(),B=Me(),U=De(),G=$e();e.exports={parse:o,valid:s,clean:i,inc:l,diff:c,major:u,minor:p,patch:d,prerelease:h,compare:f,rcompare:m,compareLoose:g,compareBuild:v,sort:b,rsort:y,gt:w,lt:E,eq:S,neq:k,gte:_,lte:x,cmp:O,coerce:j,Comparator:I,Range:C,satisfies:N,toComparators:L,maxSatisfying:R,minSatisfying:P,minVersion:A,validRange:T,outside:D,gtr:$,ltr:F,intersects:B,simplifyRange:U,subset:G,SemVer:n,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,compareIdentifiers:a.compareIdentifiers,rcompareIdentifiers:a.rcompareIdentifiers}}}),Be=e({"node_modules/node-vibrant/lib/util.js"(n){"use strict";function r(e){e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return null===e?null:[e[1],e[2],e[3]].map(function(e){return parseInt(e,16)})}function a(e,t,r){return t/=255,r/=255,e=.04045<(e/=255)?Math.pow((e+.005)/1.055,2.4):e/12.92,t=.04045<t?Math.pow((t+.005)/1.055,2.4):t/12.92,r=.04045<r?Math.pow((r+.005)/1.055,2.4):r/12.92,[.4124*(e*=100)+.3576*(t*=100)+.1805*(r*=100),.2126*e+.7152*t+.0722*r,.0193*e+.1192*t+.9505*r]}function o(e,t,r){return t/=100,r/=108.883,e=.008856<(e/=95.047)?Math.pow(e,1/3):7.787*e+16/116,[116*(t=.008856<t?Math.pow(t,1/3):7.787*t+16/116)-16,500*(e-t),200*(t-(r=.008856<r?Math.pow(r,1/3):7.787*r+16/116))]}function s(e,t,r){e=a(e,t,r);return o(e[0],e[1],e[2])}function i(e,t){var r=e[0],n=e[1],e=e[2],a=t[0],o=t[1],t=t[2],s=r-a,i=n-o,l=e-t,n=Math.sqrt(n*n+e*e),e=a-r,a=Math.sqrt(o*o+t*t)-n,r=Math.sqrt(s*s+i*i+l*l),o=Math.sqrt(r)>Math.sqrt(Math.abs(e))+Math.sqrt(Math.abs(a))?Math.sqrt(r*r-e*e-a*a):0;return e/=1,a/=1+.045*n,o/=1+.015*n,Math.sqrt(e*e+a*a+o*o)}function l(e,t){return i(s.apply(void 0,e),s.apply(void 0,t))}Object.defineProperty(n,"__esModule",{value:!0}),n.DELTAE94_DIFF_STATUS={NA:0,PERFECT:1,CLOSE:2,GOOD:10,SIMILAR:50},n.SIGBITS=5,n.RSHIFT=8-n.SIGBITS,n.defer=function(){var r,n,e=new Promise(function(e,t){r=e,n=t});return{resolve:r,reject:n,promise:e}},n.hexToRgb=r,n.rgbToHex=function(e,t,r){return"#"+((1<<24)+(e<<16)+(t<<8)+r).toString(16).slice(1,7)},n.rgbToHsl=function(e,t,r){e/=255,t/=255,r/=255;var n,a=Math.max(e,t,r),o=Math.min(e,t,r),s=(a+o)/2;if(a===o)n=l=0;else{var i=a-o,l=.5<s?i/(2-a-o):i/(a+o);switch(a){case e:n=(t-r)/i+(t<r?6:0);break;case t:n=(r-e)/i+2;break;case r:n=(e-t)/i+4}n/=6}return[n,l,s]},n.hslToRgb=function(e,t,r){var n,a,o;function s(e,t,r){return r<0&&(r+=1),1<r&&--r,r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}return 0===t?n=a=o=r:(n=s(t=2*r-(r=r<.5?r*(1+t):r+t-r*t),r,e+1/3),a=s(t,r,e),o=s(t,r,e-1/3)),[255*n,255*a,255*o]},n.rgbToXyz=a,n.xyzToCIELab=o,n.rgbToCIELab=s,n.deltaE94=i,n.rgbDiff=l,n.hexDiff=function(e,t){return l(r(e),r(t))},n.getColorDiffStatus=function(e){return e<n.DELTAE94_DIFF_STATUS.NA?"N/A":e<=n.DELTAE94_DIFF_STATUS.PERFECT?"Perfect":e<=n.DELTAE94_DIFF_STATUS.CLOSE?"Close":e<=n.DELTAE94_DIFF_STATUS.GOOD?"Good":e<n.DELTAE94_DIFF_STATUS.SIMILAR?"Similar":"Wrong"},n.getColorIndex=function(e,t,r){return(e<<2*n.SIGBITS)+(t<<n.SIGBITS)+r}}}),Ue=e({"node_modules/lodash/_arrayFilter.js"(e,t){t.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[a++]=s)}return o}}}),Ge=e({"node_modules/lodash/_createBaseFor.js"(e,t){t.exports=function(l){return function(e,t,r){for(var n=-1,a=Object(e),o=r(e),s=o.length;s--;){var i=o[l?s:++n];if(!1===t(a[i],i,a))break}return e}}}}),He=e({"node_modules/lodash/_baseFor.js"(e,t){var r=Ge()();t.exports=r}}),qe=e({"node_modules/lodash/_baseTimes.js"(e,t){t.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}}}),Ve=e({"node_modules/lodash/_freeGlobal.js"(e,t){var r="object"==typeof global&&global&&global.Object===Object&&global;t.exports=r}}),o=e({"node_modules/lodash/_root.js"(e,t){var r=Ve(),n="object"==typeof self&&self&&self.Object===Object&&self,r=r||n||Function("return this")();t.exports=r}}),ze=e({"node_modules/lodash/_Symbol.js"(e,t){var r=o().Symbol;t.exports=r}}),Ke=e({"node_modules/lodash/_getRawTag.js"(e,t){var r=ze(),n=Object.prototype,o=n.hasOwnProperty,s=n.toString,i=r?r.toStringTag:void 0;t.exports=function(e){var t=o.call(e,i),r=e[i];try{var n=!(e[i]=void 0)}catch(e){}var a=s.call(e);return n&&(t?e[i]=r:delete e[i]),a}}}),We=e({"node_modules/lodash/_objectToString.js"(e,t){var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}}}),Je=e({"node_modules/lodash/_baseGetTag.js"(e,t){var r=ze(),n=Ke(),a=We(),o=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(o&&o in Object(e)?n:a)(e)}}}),Xe=e({"node_modules/lodash/isObjectLike.js"(e,t){t.exports=function(e){return null!=e&&"object"==typeof e}}}),Ye=e({"node_modules/lodash/_baseIsArguments.js"(e,t){var r=Je(),n=Xe();t.exports=function(e){return n(e)&&"[object Arguments]"==r(e)}}}),Qe=e({"node_modules/lodash/isArguments.js"(e,t){var r=Ye(),n=Xe(),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(e){return n(e)&&o.call(e,"callee")&&!s.call(e,"callee")};t.exports=a}}),B=e({"node_modules/lodash/isArray.js"(e,t){var r=Array.isArray;t.exports=r}}),Ze=e({"node_modules/lodash/stubFalse.js"(e,t){t.exports=function(){return!1}}}),et=e({"node_modules/lodash/isBuffer.js"(e,t){var r=o(),n=Ze(),e="object"==typeof e&&e&&!e.nodeType&&e,a=e&&"object"==typeof t&&t&&!t.nodeType&&t,a=a&&a.exports===e?r.Buffer:void 0,e=a?a.isBuffer:void 0;t.exports=e||n}}),tt=e({"node_modules/lodash/_isIndex.js"(e,t){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&-1<e&&e%1==0&&e<t}}}),rt=e({"node_modules/lodash/isLength.js"(e,t){t.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}}}),nt=e({"node_modules/lodash/_baseIsTypedArray.js"(e,t){var r=Je(),n=rt(),a=Xe(),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(e){return a(e)&&n(e.length)&&!!o[r(e)]}}}),at=e({"node_modules/lodash/_baseUnary.js"(e,t){t.exports=function(t){return function(e){return t(e)}}}}),ot=e({"node_modules/lodash/_nodeUtil.js"(e,t){var r=Ve(),e="object"==typeof e&&e&&!e.nodeType&&e,n=e&&"object"==typeof t&&t&&!t.nodeType&&t,a=n&&n.exports===e&&r.process,e=function(){try{var e=n&&n.require&&n.require("util").types;return e?e:a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=e}}),st=e({"node_modules/lodash/isTypedArray.js"(e,t){var r=nt(),n=at(),a=ot(),a=a&&a.isTypedArray,n=a?n(a):r;t.exports=n}}),it=e({"node_modules/lodash/_arrayLikeKeys.js"(e,t){var u=qe(),p=Qe(),d=B(),h=et(),f=tt(),m=st(),g=Object.prototype.hasOwnProperty;t.exports=function(e,t){var r,n=d(e),a=!n&&p(e),o=!n&&!a&&h(e),s=!n&&!a&&!o&&m(e),i=n||a||o||s,l=i?u(e.length,String):[],c=l.length;for(r in e)!t&&!g.call(e,r)||i&&("length"==r||o&&("offset"==r||"parent"==r)||s&&("buffer"==r||"byteLength"==r||"byteOffset"==r)||f(r,c))||l.push(r);return l}}}),lt=e({"node_modules/lodash/_isPrototype.js"(e,t){var r=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}}}),ct=e({"node_modules/lodash/_overArg.js"(e,t){t.exports=function(t,r){return function(e){return t(r(e))}}}}),ut=e({"node_modules/lodash/_nativeKeys.js"(e,t){var r=ct()(Object.keys,Object);t.exports=r}}),pt=e({"node_modules/lodash/_baseKeys.js"(e,t){var n=lt(),a=ut(),o=Object.prototype.hasOwnProperty;t.exports=function(e){if(!n(e))return a(e);var t,r=[];for(t in Object(e))o.call(e,t)&&"constructor"!=t&&r.push(t);return r}}}),dt=e({"node_modules/lodash/isObject.js"(e,t){t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}}),ht=e({"node_modules/lodash/isFunction.js"(e,t){var r=Je(),n=dt();t.exports=function(e){return!!n(e)&&("[object Function]"==(e=r(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}}}),ft=e({"node_modules/lodash/isArrayLike.js"(e,t){var r=ht(),n=rt();t.exports=function(e){return null!=e&&n(e.length)&&!r(e)}}}),mt=e({"node_modules/lodash/keys.js"(e,t){var r=it(),n=pt(),a=ft();t.exports=function(e){return(a(e)?r:n)(e)}}}),gt=e({"node_modules/lodash/_baseForOwn.js"(e,t){var r=He(),n=mt();t.exports=function(e,t){return e&&r(e,t,n)}}}),vt=e({"node_modules/lodash/_createBaseEach.js"(e,t){var i=ft();t.exports=function(o,s){return function(e,t){if(null!=e){if(!i(e))return o(e,t);for(var r=e.length,n=s?r:-1,a=Object(e);(s?n--:++n<r)&&!1!==t(a[n],n,a););}return e}}}}),bt=e({"node_modules/lodash/_baseEach.js"(e,t){var r=gt(),r=vt()(r);t.exports=r}}),yt=e({"node_modules/lodash/_baseFilter.js"(e,t){var r=bt();t.exports=function(e,n){var a=[];return r(e,function(e,t,r){n(e,t,r)&&a.push(e)}),a}}}),wt=e({"node_modules/lodash/_listCacheClear.js"(e,t){t.exports=function(){this.__data__=[],this.size=0}}}),Et=e({"node_modules/lodash/eq.js"(e,t){t.exports=function(e,t){return e===t||e!=e&&t!=t}}}),St=e({"node_modules/lodash/_assocIndexOf.js"(e,t){var n=Et();t.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}}}),kt=e({"node_modules/lodash/_listCacheDelete.js"(e,t){var r=St(),n=Array.prototype.splice;t.exports=function(e){var t=this.__data__;return!((e=r(t,e))<0)&&(e==t.length-1?t.pop():n.call(t,e,1),--this.size,!0)}}}),_t=e({"node_modules/lodash/_listCacheGet.js"(e,t){var r=St();t.exports=function(e){var t=this.__data__;return(e=r(t,e))<0?void 0:t[e][1]}}}),xt=e({"node_modules/lodash/_listCacheHas.js"(e,t){var r=St();t.exports=function(e){return-1<r(this.__data__,e)}}}),Ot=e({"node_modules/lodash/_listCacheSet.js"(e,t){var a=St();t.exports=function(e,t){var r=this.__data__,n=a(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}}}),jt=e({"node_modules/lodash/_ListCache.js"(e,t){var r=wt(),n=kt(),a=_t(),o=xt(),s=Ot();function i(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}i.prototype.clear=r,i.prototype.delete=n,i.prototype.get=a,i.prototype.has=o,i.prototype.set=s,t.exports=i}}),It=e({"node_modules/lodash/_stackClear.js"(e,t){var r=jt();t.exports=function(){this.__data__=new r,this.size=0}}}),Ct=e({"node_modules/lodash/_stackDelete.js"(e,t){t.exports=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e}}}),Nt=e({"node_modules/lodash/_stackGet.js"(e,t){t.exports=function(e){return this.__data__.get(e)}}}),Lt=e({"node_modules/lodash/_stackHas.js"(e,t){t.exports=function(e){return this.__data__.has(e)}}}),Rt=e({"node_modules/lodash/_coreJsData.js"(e,t){var r=o()["__core-js_shared__"];t.exports=r}}),Pt=e({"node_modules/lodash/_isMasked.js"(e,t){var r=Rt(),n=(r=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(e){return!!n&&n in e}}}),At=e({"node_modules/lodash/_toSource.js"(e,t){var r=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}}}),Tt=e({"node_modules/lodash/_baseIsNative.js"(e,t){var r=ht(),n=Pt(),a=dt(),o=At(),s=/^\[object .+?Constructor\]$/,i=Function.prototype,l=Object.prototype,i=i.toString,l=l.hasOwnProperty,c=RegExp("^"+i.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return!(!a(e)||n(e))&&(r(e)?c:s).test(o(e))}}}),Mt=e({"node_modules/lodash/_getValue.js"(e,t){t.exports=function(e,t){return null==e?void 0:e[t]}}}),Dt=e({"node_modules/lodash/_getNative.js"(e,t){var r=Tt(),n=Mt();t.exports=function(e,t){return e=n(e,t),r(e)?e:void 0}}}),$t=e({"node_modules/lodash/_Map.js"(e,t){var r=Dt()(o(),"Map");t.exports=r}}),Ft=e({"node_modules/lodash/_nativeCreate.js"(e,t){var r=Dt()(Object,"create");t.exports=r}}),Bt=e({"node_modules/lodash/_hashClear.js"(e,t){var r=Ft();t.exports=function(){this.__data__=r?r(null):{},this.size=0}}}),Ut=e({"node_modules/lodash/_hashDelete.js"(e,t){t.exports=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e}}}),Gt=e({"node_modules/lodash/_hashGet.js"(e,t){var n=Ft(),a=Object.prototype.hasOwnProperty;t.exports=function(e){var t,r=this.__data__;return n?"__lodash_hash_undefined__"===(t=r[e])?void 0:t:a.call(r,e)?r[e]:void 0}}}),Ht=e({"node_modules/lodash/_hashHas.js"(e,t){var r=Ft(),n=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:n.call(t,e)}}}),qt=e({"node_modules/lodash/_hashSet.js"(e,t){var n=Ft();t.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}}}),Vt=e({"node_modules/lodash/_Hash.js"(e,t){var r=Bt(),n=Ut(),a=Gt(),o=Ht(),s=qt();function i(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}i.prototype.clear=r,i.prototype.delete=n,i.prototype.get=a,i.prototype.has=o,i.prototype.set=s,t.exports=i}}),zt=e({"node_modules/lodash/_mapCacheClear.js"(e,t){var r=Vt(),n=jt(),a=$t();t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||n),string:new r}}}}),Kt=e({"node_modules/lodash/_isKeyable.js"(e,t){t.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}}}),Wt=e({"node_modules/lodash/_getMapData.js"(e,t){var r=Kt();t.exports=function(e,t){return e=e.__data__,r(t)?e["string"==typeof t?"string":"hash"]:e.map}}}),Jt=e({"node_modules/lodash/_mapCacheDelete.js"(e,t){var r=Wt();t.exports=function(e){return e=r(this,e).delete(e),this.size-=e?1:0,e}}}),Xt=e({"node_modules/lodash/_mapCacheGet.js"(e,t){var r=Wt();t.exports=function(e){return r(this,e).get(e)}}}),Yt=e({"node_modules/lodash/_mapCacheHas.js"(e,t){var r=Wt();t.exports=function(e){return r(this,e).has(e)}}}),Qt=e({"node_modules/lodash/_mapCacheSet.js"(e,t){var a=Wt();t.exports=function(e,t){var r=a(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}}}),Zt=e({"node_modules/lodash/_MapCache.js"(e,t){var r=zt(),n=Jt(),a=Xt(),o=Yt(),s=Qt();function i(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}i.prototype.clear=r,i.prototype.delete=n,i.prototype.get=a,i.prototype.has=o,i.prototype.set=s,t.exports=i}}),er=e({"node_modules/lodash/_stackSet.js"(e,t){var a=jt(),o=$t(),s=Zt();t.exports=function(e,t){var r=this.__data__;if(r instanceof a){var n=r.__data__;if(!o||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new s(n)}return r.set(e,t),this.size=r.size,this}}}),tr=e({"node_modules/lodash/_Stack.js"(e,t){var r=jt(),n=It(),a=Ct(),o=Nt(),s=Lt(),i=er();function l(e){e=this.__data__=new r(e);this.size=e.size}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=s,l.prototype.set=i,t.exports=l}}),rr=e({"node_modules/lodash/_setCacheAdd.js"(e,t){t.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}}}),nr=e({"node_modules/lodash/_setCacheHas.js"(e,t){t.exports=function(e){return this.__data__.has(e)}}}),ar=e({"node_modules/lodash/_SetCache.js"(e,t){var n=Zt(),r=rr(),a=nr();function o(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}o.prototype.add=o.prototype.push=r,o.prototype.has=a,t.exports=o}}),or=e({"node_modules/lodash/_arraySome.js"(e,t){t.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}}}),sr=e({"node_modules/lodash/_cacheHas.js"(e,t){t.exports=function(e,t){return e.has(t)}}}),ir=e({"node_modules/lodash/_equalArrays.js"(e,t){var g=ar(),v=or(),b=sr();t.exports=function(e,t,r,n,a,o){var s=1&r,i=e.length,l=t.length;if(i!=l&&!(s&&i<l))return!1;var l=o.get(e),c=o.get(t);if(l&&c)return l==t&&c==e;var u=-1,p=!0,d=2&r?new g:void 0;for(o.set(e,t),o.set(t,e);++u<i;){var h,f=e[u],m=t[u];if(void 0!==(h=n?s?n(m,f,u,t,e,o):n(f,m,u,e,t,o):h)){if(h)continue;p=!1;break}if(d){if(!v(t,function(e,t){if(!b(d,t)&&(f===e||a(f,e,r,n,o)))return d.push(t)})){p=!1;break}}else if(f!==m&&!a(f,m,r,n,o)){p=!1;break}}return o.delete(e),o.delete(t),p}}}),lr=e({"node_modules/lodash/_Uint8Array.js"(e,t){var r=o().Uint8Array;t.exports=r}}),cr=e({"node_modules/lodash/_mapToArray.js"(e,t){t.exports=function(e){var r=-1,n=Array(e.size);return e.forEach(function(e,t){n[++r]=[t,e]}),n}}}),ur=e({"node_modules/lodash/_setToArray.js"(e,t){t.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}}}),pr=e({"node_modules/lodash/_equalByTag.js"(e,t){var r=ze(),c=lr(),u=Et(),p=ir(),d=cr(),h=ur(),r=r?r.prototype:void 0,f=r?r.valueOf:void 0;t.exports=function(e,t,r,n,a,o,s){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return e.byteLength==t.byteLength&&o(new c(e),new c(t))?!0:!1;case"[object Boolean]":case"[object Date]":case"[object Number]":return u(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var i=d;case"[object Set]":i=i||h;if(e.size!=t.size&&!(1&n))return!1;var l=s.get(e);if(l)return l==t;n|=2,s.set(e,t);l=p(i(e),i(t),n,a,o,s);return s.delete(e),l;case"[object Symbol]":if(f)return f.call(e)==f.call(t)}return!1}}}),dr=e({"node_modules/lodash/_arrayPush.js"(e,t){t.exports=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}}}),hr=e({"node_modules/lodash/_baseGetAllKeys.js"(e,t){var n=dr(),a=B();t.exports=function(e,t,r){return t=t(e),a(e)?t:n(t,r(e))}}}),fr=e({"node_modules/lodash/stubArray.js"(e,t){t.exports=function(){return[]}}}),mr=e({"node_modules/lodash/_getSymbols.js"(e,t){var r=Ue(),n=fr(),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols;t.exports=o?function(t){return null==t?[]:(t=Object(t),r(o(t),function(e){return a.call(t,e)}))}:n}}),gr=e({"node_modules/lodash/_getAllKeys.js"(e,t){var r=hr(),n=mr(),a=mt();t.exports=function(e){return r(e,a,n)}}}),vr=e({"node_modules/lodash/_equalObjects.js"(e,t){var b=gr(),y=Object.prototype.hasOwnProperty;t.exports=function(e,t,r,n,a,o){var s=1&r,i=b(e),l=i.length;if(l!=b(t).length&&!s)return!1;for(var c=l;c--;){var u=i[c];if(!(s?u in t:y.call(t,u)))return!1}var p=o.get(e),d=o.get(t);if(p&&d)return p==t&&d==e;for(var h=!0,f=(o.set(e,t),o.set(t,e),s);++c<l;){var m,g=e[u=i[c]],v=t[u];if(!(void 0===(m=n?s?n(v,g,u,t,e,o):n(g,v,u,e,t,o):m)?g===v||a(g,v,r,n,o):m)){h=!1;break}f=f||"constructor"==u}return h&&!f&&(p=e.constructor)!=(d=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof p&&p instanceof p&&"function"==typeof d&&d instanceof d)&&(h=!1),o.delete(e),o.delete(t),h}}}),br=e({"node_modules/lodash/_DataView.js"(e,t){var r=Dt()(o(),"DataView");t.exports=r}}),yr=e({"node_modules/lodash/_Promise.js"(e,t){var r=Dt()(o(),"Promise");t.exports=r}}),wr=e({"node_modules/lodash/_Set.js"(e,t){var r=Dt()(o(),"Set");t.exports=r}}),Er=e({"node_modules/lodash/_WeakMap.js"(e,t){var r=Dt()(o(),"WeakMap");t.exports=r}}),Sr=e({"node_modules/lodash/_getTag.js"(e,t){var r=br(),n=$t(),a=yr(),o=wr(),s=Er(),i=Je(),l=At(),c="[object Map]",u="[object Promise]",p="[object Set]",d="[object WeakMap]",h="[object DataView]",f=l(r),m=l(n),g=l(a),v=l(o),b=l(s),y=i;(r&&y(new r(new ArrayBuffer(1)))!=h||n&&y(new n)!=c||a&&y(a.resolve())!=u||o&&y(new o)!=p||s&&y(new s)!=d)&&(y=function(e){var t=i(e),e="[object Object]"==t?e.constructor:void 0,e=e?l(e):"";if(e)switch(e){case f:return h;case m:return c;case g:return u;case v:return p;case b:return d}return t}),t.exports=y}}),kr=e({"node_modules/lodash/_baseIsEqualDeep.js"(e,t){var p=tr(),d=ir(),h=pr(),f=vr(),m=Sr(),g=B(),v=et(),b=st(),y="[object Arguments]",w="[object Array]",E="[object Object]",S=Object.prototype.hasOwnProperty;t.exports=function(e,t,r,n,a,o){var s=g(e),i=g(t),l=s?w:m(e),i=i?w:m(t),c=(l=l==y?E:l)==E,u=(i=i==y?E:i)==E;if((i=l==i)&&v(e)){if(!v(t))return!1;c=!(s=!0)}if(i&&!c)return o=o||new p,s||b(e)?d(e,t,r,n,a,o):h(e,t,l,r,n,a,o);if(!(1&r)){s=c&&S.call(e,"__wrapped__"),l=u&&S.call(t,"__wrapped__");if(s||l)return a(s?e.value():e,l?t.value():t,r,n,o=o||new p)}return!!i&&(o=o||new p,f(e,t,r,n,a,o))}}}),_r=e({"node_modules/lodash/_baseIsEqual.js"(e,t){var s=kr(),i=Xe();t.exports=function e(t,r,n,a,o){return t===r||(null==t||null==r||!i(t)&&!i(r)?t!=t&&r!=r:s(t,r,n,a,e,o))}}}),xr=e({"node_modules/lodash/_baseIsMatch.js"(e,t){var h=tr(),f=_r();t.exports=function(e,t,r,n){var a=r.length,o=a,s=!n;if(null==e)return!o;for(e=Object(e);a--;){var i=r[a];if(s&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++a<o;){var l=(i=r[a])[0],c=e[l],u=i[1];if(s&&i[2]){if(void 0===c&&!(l in e))return!1}else{var p,d=new h;if(!(void 0===(p=n?n(c,u,l,e,t,d):p)?f(u,c,3,n,d):p))return!1}}return!0}}}),Or=e({"node_modules/lodash/_isStrictComparable.js"(e,t){var r=dt();t.exports=function(e){return e==e&&!r(e)}}}),jr=e({"node_modules/lodash/_getMatchData.js"(e,t){var o=Or(),s=mt();t.exports=function(e){for(var t=s(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,o(a)]}return t}}}),Ir=e({"node_modules/lodash/_matchesStrictComparable.js"(e,t){t.exports=function(t,r){return function(e){return null!=e&&(e[t]===r&&(void 0!==r||t in Object(e)))}}}}),Cr=e({"node_modules/lodash/_baseMatches.js"(e,t){var n=xr(),a=jr(),o=Ir();t.exports=function(t){var r=a(t);return 1==r.length&&r[0][2]?o(r[0][0],r[0][1]):function(e){return e===t||n(e,t,r)}}}}),Nr=e({"node_modules/lodash/isSymbol.js"(e,t){var r=Je(),n=Xe();t.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==r(e)}}}),Lr=e({"node_modules/lodash/_isKey.js"(e,t){var n=B(),a=Nr(),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(e,t){var r;return!n(e)&&(!("number"!=(r=typeof e)&&"symbol"!=r&&"boolean"!=r&&null!=e&&!a(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t)))}}}),Rr=e({"node_modules/lodash/memoize.js"(e,t){var r=Zt();function s(n,a){if("function"!=typeof n||null!=a&&"function"!=typeof a)throw new TypeError("Expected a function");function o(){var e=arguments,t=a?a.apply(this,e):e[0],r=o.cache;return r.has(t)?r.get(t):(e=n.apply(this,e),o.cache=r.set(t,e)||r,e)}return o.cache=new(s.Cache||r),o}s.Cache=r,t.exports=s}}),Pr=e({"node_modules/lodash/_memoizeCapped.js"(e,t){var r=Rr();t.exports=function(e){var t=(e=r(e,function(e){return 500===t.size&&t.clear(),e})).cache;return e}}}),Ar=e({"node_modules/lodash/_stringToPath.js"(e,t){var r=Pr(),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,r=r(function(e){var a=[];return 46===e.charCodeAt(0)&&a.push(""),e.replace(n,function(e,t,r,n){a.push(r?n.replace(o,"$1"):t||e)}),a});t.exports=r}}),Tr=e({"node_modules/lodash/_arrayMap.js"(e,t){t.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}}}),Mr=e({"node_modules/lodash/_baseToString.js"(e,t){var r=ze(),n=Tr(),a=B(),o=Nr(),r=r?r.prototype:void 0,s=r?r.toString:void 0;t.exports=function e(t){var r;return"string"==typeof t?t:a(t)?n(t,e)+"":o(t)?s?s.call(t):"":"0"==(r=t+"")&&1/t==-1/0?"-0":r}}}),Dr=e({"node_modules/lodash/toString.js"(e,t){var r=Mr();t.exports=function(e){return null==e?"":r(e)}}}),$r=e({"node_modules/lodash/_castPath.js"(e,t){var r=B(),n=Lr(),a=Ar(),o=Dr();t.exports=function(e,t){return r(e)?e:n(e,t)?[e]:a(o(e))}}}),Fr=e({"node_modules/lodash/_toKey.js"(e,t){var r=Nr();t.exports=function(e){var t;return"string"==typeof e||r(e)?e:"0"==(t=e+"")&&1/e==-1/0?"-0":t}}}),Br=e({"node_modules/lodash/_baseGet.js"(e,t){var a=$r(),o=Fr();t.exports=function(e,t){for(var r=0,n=(t=a(t,e)).length;null!=e&&r<n;)e=e[o(t[r++])];return r&&r==n?e:void 0}}}),Ur=e({"node_modules/lodash/get.js"(e,t){var n=Br();t.exports=function(e,t,r){return void 0===(e=null==e?void 0:n(e,t))?r:e}}}),Gr=e({"node_modules/lodash/_baseHasIn.js"(e,t){t.exports=function(e,t){return null!=e&&t in Object(e)}}}),Hr=e({"node_modules/lodash/_hasPath.js"(e,t){var i=$r(),l=Qe(),c=B(),u=tt(),p=rt(),d=Fr();t.exports=function(e,t,r){for(var n=-1,a=(t=i(t,e)).length,o=!1;++n<a;){var s=d(t[n]);if(!(o=null!=e&&r(e,s)))break;e=e[s]}return o||++n!=a?o:!!(a=null==e?0:e.length)&&p(a)&&u(s,a)&&(c(e)||l(e))}}}),qr=e({"node_modules/lodash/hasIn.js"(e,t){var r=Gr(),n=Hr();t.exports=function(e,t){return null!=e&&n(e,t,r)}}}),Vr=e({"node_modules/lodash/_baseMatchesProperty.js"(e,t){var a=_r(),o=Ur(),s=qr(),i=Lr(),l=Or(),c=Ir(),u=Fr();t.exports=function(r,n){return i(r)&&l(n)?c(u(r),n):function(e){var t=o(e,r);return void 0===t&&t===n?s(e,r):a(n,t,3)}}}}),zr=e({"node_modules/lodash/identity.js"(e,t){t.exports=function(e){return e}}}),Kr=e({"node_modules/lodash/_baseProperty.js"(e,t){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}}}),Wr=e({"node_modules/lodash/_basePropertyDeep.js"(e,t){var r=Br();t.exports=function(t){return function(e){return r(e,t)}}}}),Jr=e({"node_modules/lodash/property.js"(e,t){var r=Kr(),n=Wr(),a=Lr(),o=Fr();t.exports=function(e){return a(e)?r(o(e)):n(e)}}}),Xr=e({"node_modules/lodash/_baseIteratee.js"(e,t){var r=Cr(),n=Vr(),a=zr(),o=B(),s=Jr();t.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?n(e[0],e[1]):r(e):s(e)}}}),Yr=e({"node_modules/lodash/filter.js"(e,t){var r=Ue(),n=yt(),a=Xr(),o=B();t.exports=function(e,t){return(o(e)?r:n)(e,a(t,3))}}}),Qr=e({"node_modules/node-vibrant/lib/color.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Be(),t=Yr();function r(e,t){this._rgb=e,this._population=t}r.applyFilter=function(e,n){return"function"==typeof n?t(e,function(e){var t=e.r,r=e.g,e=e.b;return n(t,r,e,255)}):e},Object.defineProperty(r.prototype,"r",{get:function(){return this._rgb[0]},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"g",{get:function(){return this._rgb[1]},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"b",{get:function(){return this._rgb[2]},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rgb",{get:function(){return this._rgb},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hsl",{get:function(){var e,t,r;return this._hsl||(e=(r=this._rgb)[0],t=r[1],r=r[2],this._hsl=n.rgbToHsl(e,t,r)),this._hsl},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hex",{get:function(){var e,t,r;return this._hex||(e=(r=this._rgb)[0],t=r[1],r=r[2],this._hex=n.rgbToHex(e,t,r)),this._hex},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"population",{get:function(){return this._population},enumerable:!0,configurable:!0}),r.prototype.toJSON=function(){return{rgb:this.rgb,population:this.population}},r.prototype.getRgb=function(){return this._rgb},r.prototype.getHsl=function(){return this.hsl},r.prototype.getPopulation=function(){return this._population},r.prototype.getHex=function(){return this.hex},r.prototype.getYiq=function(){var e;return this._yiq||(e=this._rgb,this._yiq=(299*e[0]+587*e[1]+114*e[2])/1e3),this._yiq},Object.defineProperty(r.prototype,"titleTextColor",{get:function(){return this._titleTextColor||(this._titleTextColor=this.getYiq()<200?"#fff":"#000"),this._titleTextColor},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bodyTextColor",{get:function(){return this._bodyTextColor||(this._bodyTextColor=this.getYiq()<150?"#fff":"#000"),this._bodyTextColor},enumerable:!0,configurable:!0}),r.prototype.getTitleTextColor=function(){return this.titleTextColor},r.prototype.getBodyTextColor=function(){return this.bodyTextColor},e.Swatch=r}}),Zr=e({"node_modules/lodash/_arrayEach.js"(e,t){t.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}}}),en=e({"node_modules/lodash/_defineProperty.js"(e,t){var r=Dt(),n=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.exports=n}}),tn=e({"node_modules/lodash/_baseAssignValue.js"(e,t){var n=en();t.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}}}),rn=e({"node_modules/lodash/_assignValue.js"(e,t){var a=tn(),o=Et(),s=Object.prototype.hasOwnProperty;t.exports=function(e,t,r){var n=e[t];s.call(e,t)&&o(n,r)&&(void 0!==r||t in e)||a(e,t,r)}}}),nn=e({"node_modules/lodash/_copyObject.js"(e,t){var c=rn(),u=tn();t.exports=function(e,t,r,n){for(var a=!r,o=(r=r||{},-1),s=t.length;++o<s;){var i=t[o],l=n?n(r[i],e[i],i,r,e):void 0;void 0===l&&(l=e[i]),(a?u:c)(r,i,l)}return r}}}),an=e({"node_modules/lodash/_baseAssign.js"(e,t){var r=nn(),n=mt();t.exports=function(e,t){return e&&r(t,n(t),e)}}}),on=e({"node_modules/lodash/_nativeKeysIn.js"(e,t){t.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}}}),sn=e({"node_modules/lodash/_baseKeysIn.js"(e,t){var a=dt(),o=lt(),s=on(),i=Object.prototype.hasOwnProperty;t.exports=function(e){if(!a(e))return s(e);var t,r=o(e),n=[];for(t in e)("constructor"!=t||!r&&i.call(e,t))&&n.push(t);return n}}}),ln=e({"node_modules/lodash/keysIn.js"(e,t){var r=it(),n=sn(),a=ft();t.exports=function(e){return a(e)?r(e,!0):n(e)}}}),cn=e({"node_modules/lodash/_baseAssignIn.js"(e,t){var r=nn(),n=ln();t.exports=function(e,t){return e&&r(t,n(t),e)}}}),un=e({"node_modules/lodash/_cloneBuffer.js"(e,t){var r=o(),e="object"==typeof e&&e&&!e.nodeType&&e,n=e&&"object"==typeof t&&t&&!t.nodeType&&t,n=n&&n.exports===e?r.Buffer:void 0,a=n?n.allocUnsafe:void 0;t.exports=function(e,t){return t?e.slice():(t=e.length,t=a?a(t):new e.constructor(t),e.copy(t),t)}}}),pn=e({"node_modules/lodash/_copyArray.js"(e,t){t.exports=function(e,t){var r=-1,n=e.length;for(t=t||Array(n);++r<n;)t[r]=e[r];return t}}}),dn=e({"node_modules/lodash/_copySymbols.js"(e,t){var r=nn(),n=mr();t.exports=function(e,t){return r(e,n(e),t)}}}),hn=e({"node_modules/lodash/_getPrototype.js"(e,t){var r=ct()(Object.getPrototypeOf,Object);t.exports=r}}),fn=e({"node_modules/lodash/_getSymbolsIn.js"(e,t){var r=dr(),n=hn(),a=mr(),o=fr(),s=Object.getOwnPropertySymbols;t.exports=s?function(e){for(var t=[];e;)r(t,a(e)),e=n(e);return t}:o}}),mn=e({"node_modules/lodash/_copySymbolsIn.js"(e,t){var r=nn(),n=fn();t.exports=function(e,t){return r(e,n(e),t)}}}),gn=e({"node_modules/lodash/_getAllKeysIn.js"(e,t){var r=hr(),n=fn(),a=ln();t.exports=function(e){return r(e,a,n)}}}),vn=e({"node_modules/lodash/_initCloneArray.js"(e,t){var n=Object.prototype.hasOwnProperty;t.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}}}),bn=e({"node_modules/lodash/_cloneArrayBuffer.js"(e,t){var r=lr();t.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}}}),yn=e({"node_modules/lodash/_cloneDataView.js"(e,t){var r=bn();t.exports=function(e,t){return t=t?r(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength)}}}),wn=e({"node_modules/lodash/_cloneRegExp.js"(e,t){var r=/\w*$/;t.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}}}),En=e({"node_modules/lodash/_cloneSymbol.js"(e,t){var r=ze(),r=r?r.prototype:void 0,n=r?r.valueOf:void 0;t.exports=function(e){return n?Object(n.call(e)):{}}}}),Sn=e({"node_modules/lodash/_cloneTypedArray.js"(e,t){var r=bn();t.exports=function(e,t){return t=t?r(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.length)}}}),kn=e({"node_modules/lodash/_initCloneByTag.js"(e,t){var a=bn(),o=yn(),s=wn(),i=En(),l=Sn();t.exports=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return a(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return o(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return l(e,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return s(e);case"[object Set]":return new n;case"[object Symbol]":return i(e)}}}}),_n=e({"node_modules/lodash/_baseCreate.js"(e,t){var r=dt(),n=Object.create;function a(){}t.exports=function(e){if(!r(e))return{};if(n)return n(e);a.prototype=e;e=new a;return a.prototype=void 0,e}}}),xn=e({"node_modules/lodash/_initCloneObject.js"(e,t){var r=_n(),n=hn(),a=lt();t.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(n(e))}}}),On=e({"node_modules/lodash/_baseIsMap.js"(e,t){var r=Sr(),n=Xe();t.exports=function(e){return n(e)&&"[object Map]"==r(e)}}}),jn=e({"node_modules/lodash/isMap.js"(e,t){var r=On(),n=at(),a=ot(),a=a&&a.isMap,n=a?n(a):r;t.exports=n}}),In=e({"node_modules/lodash/_baseIsSet.js"(e,t){var r=Sr(),n=Xe();t.exports=function(e){return n(e)&&"[object Set]"==r(e)}}}),Cn=e({"node_modules/lodash/isSet.js"(e,t){var r=In(),n=at(),a=ot(),a=a&&a.isSet,n=a?n(a):r;t.exports=n}}),Nn=e({"node_modules/lodash/_baseClone.js"(e,t){var f=tr(),m=Zr(),g=rn(),v=an(),b=cn(),y=un(),w=pn(),E=dn(),S=mn(),k=gr(),_=gn(),x=Sr(),O=vn(),j=kn(),I=xn(),C=B(),N=et(),L=jn(),R=dt(),P=Cn(),A=mt(),T=ln(),M="[object Arguments]",D="[object Function]",$="[object Object]",F={};F[M]=F["[object Array]"]=F["[object ArrayBuffer]"]=F["[object DataView]"]=F["[object Boolean]"]=F["[object Date]"]=F["[object Float32Array]"]=F["[object Float64Array]"]=F["[object Int8Array]"]=F["[object Int16Array]"]=F["[object Int32Array]"]=F["[object Map]"]=F["[object Number]"]=F[$]=F["[object RegExp]"]=F["[object Set]"]=F["[object String]"]=F["[object Symbol]"]=F["[object Uint8Array]"]=F["[object Uint8ClampedArray]"]=F["[object Uint16Array]"]=F["[object Uint32Array]"]=!0,F["[object Error]"]=F[D]=F["[object WeakMap]"]=!1,t.exports=function r(n,a,o,e,t,s){var i,l=1&a,c=2&a,u=4&a;if(void 0===(i=o?t?o(n,e,t,s):o(n):i)){if(!R(n))return n;if(e=C(n)){if(i=O(n),!l)return w(n,i)}else{var p=x(n),d=p==D||"[object GeneratorFunction]"==p;if(N(n))return y(n,l);if(p==$||p==M||d&&!t){if(i=c||d?{}:I(n),!l)return c?S(n,b(i,n)):E(n,v(i,n))}else{if(!F[p])return t?n:{};i=j(n,p,l)}}if(d=(s=s||new f).get(n))return d;s.set(n,i),P(n)?n.forEach(function(e){i.add(r(e,a,o,e,n,s))}):L(n)&&n.forEach(function(e,t){i.set(t,r(e,a,o,t,n,s))});var h=e?void 0:(u?c?_:k:c?T:A)(n);m(h||n,function(e,t){h&&(e=n[t=e]),g(i,t,r(e,a,o,t,n,s))})}return i}}}),Ln=e({"node_modules/lodash/clone.js"(e,t){var r=Nn();t.exports=function(e){return r(e,4)}}}),Rn=e({"node_modules/node-vibrant/lib/builder.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Xn(),n=Ln();function t(e,t){void 0===t&&(t={}),this._src=e,this._opts=t,this._opts.filters=n(r.default.DefaultOpts.filters)}t.prototype.maxColorCount=function(e){return this._opts.colorCount=e,this},t.prototype.maxDimension=function(e){return this._opts.maxDimension=e,this},t.prototype.addFilter=function(e){return this._opts.filters.push(e),this},t.prototype.removeFilter=function(e){e=this._opts.filters.indexOf(e);return 0<e&&this._opts.filters.splice(e),this},t.prototype.clearFilters=function(){return this._opts.filters=[],this},t.prototype.quality=function(e){return this._opts.quality=e,this},t.prototype.useImageClass=function(e){return this._opts.ImageClass=e,this},t.prototype.useGenerator=function(e){return this._opts.generator=e,this},t.prototype.useQuantizer=function(e){return this._opts.quantizer=e,this},t.prototype.build=function(){return new r.default(this._src,this._opts)},t.prototype.getPalette=function(e){return this.build().getPalette(e)},t.prototype.getSwatches=function(e){return this.build().getPalette(e)},e.default=t}}),Pn=e({"node_modules/node-vibrant/lib/quantizer/vbox.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var j=Be();function g(e,t,r,n,a,o,s){this._volume=-1,this._count=-1,this.dimension={r1:e,r2:t,g1:r,g2:n,b1:a,b2:o},this.hist=s}g.build=function(e,t){for(var r,n,a,o,s,i,l,c=1<<3*j.SIGBITS,u=new Uint32Array(c),p=r=a=0,d=n=o=Number.MAX_VALUE,h=e.length/4,f=0;f<h;){var m=4*f;f++,s=e[0+m],i=e[1+m],l=e[2+m],0!==e[3+m]&&(s>>=j.RSHIFT,i>>=j.RSHIFT,l>>=j.RSHIFT,u[j.getColorIndex(s,i,l)]+=1,p<s&&(p=s),s<d&&(d=s),r<i&&(r=i),i<n&&(n=i),a<l&&(a=l),l<o&&(o=l))}return new g(d,p,n,r,o,a,u)},g.prototype.invalidate=function(){this._volume=this._count=-1,this._avg=null},g.prototype.volume=function(){var e,t,r,n,a,o;return this._volume<0&&(e=(o=this.dimension).r1,t=o.r2,r=o.g1,n=o.g2,a=o.b1,o=o.b2,this._volume=(t-e+1)*(n-r+1)*(o-a+1)),this._volume},g.prototype.count=function(){if(this._count<0){for(var e=this.hist,t=this.dimension,r=t.r1,n=t.r2,a=t.g1,o=t.g2,s=t.b1,i=t.b2,l=0,c=r;c<=n;c++)for(var u=a;u<=o;u++)for(var p=s;p<=i;p++)l+=e[j.getColorIndex(c,u,p)];this._count=l}return this._count},g.prototype.clone=function(){var e=this.hist,t=this.dimension;return new g(t.r1,t.r2,t.g1,t.g2,t.b1,t.b2,e)},g.prototype.avg=function(){if(!this._avg){for(var e=this.hist,t=this.dimension,r=t.r1,n=t.r2,a=t.g1,o=t.g2,s=t.b1,i=t.b2,l=0,c=1<<8-j.SIGBITS,u=void 0,p=void 0,d=void 0,u=p=d=0,h=r;h<=n;h++)for(var f=a;f<=o;f++)for(var m=s;m<=i;m++){var g=e[j.getColorIndex(h,f,m)];l+=g,u+=g*(h+.5)*c,p+=g*(f+.5)*c,d+=g*(m+.5)*c}this._avg=l?[~~(u/l),~~(p/l),~~(d/l)]:[~~(c*(r+n+1)/2),~~(c*(a+o+1)/2),~~(c*(s+i+1)/2)]}return this._avg},g.prototype.contains=function(e){var t=e[0],r=e[1],e=e[2],n=this.dimension,a=n.r1,o=n.r2,s=n.g1,i=n.g2,l=n.b1,n=n.b2;return t>>=j.RSHIFT,r>>=j.RSHIFT,e>>=j.RSHIFT,a<=t&&t<=o&&s<=r&&r<=i&&l<=e&&e<=n},g.prototype.split=function(){var e=this.hist,t=this.dimension,r=t.r1,n=t.r2,a=t.g1,o=t.g2,s=t.b1,i=t.b2,t=this.count();if(!t)return[];if(1===t)return[this.clone()];var l,t=n-r+1,c=o-a+1,u=Math.max(t,c,i-s+1),p=null,d=(f=l=0,null);if(u===t)for(var d="r",p=new Uint32Array(n+1),h=r;h<=n;h++){for(var f=0,m=a;m<=o;m++)for(var g=s;g<=i;g++)f+=e[j.getColorIndex(h,m,g)];l+=f,p[h]=l}else if(u===c){d="g",p=new Uint32Array(o+1);for(m=a;m<=o;m++){f=0;for(h=r;h<=n;h++)for(g=s;g<=i;g++)f+=e[j.getColorIndex(h,m,g)];l+=f,p[m]=l}}else{d="b",p=new Uint32Array(i+1);for(g=s;g<=i;g++){f=0;for(h=r;h<=n;h++)for(m=a;m<=o;m++)f+=e[j.getColorIndex(h,m,g)];l+=f,p[g]=l}}for(var v=-1,b=new Uint32Array(p.length),y=0;y<p.length;y++){var w=p[y];v<0&&l/2<w&&(v=y),b[y]=l-w}t=this;for(var c=(u=d)+"1",u=u+"2",d=t.dimension[c],E=t.dimension[u],S=t.clone(),k=t.clone(),_=v-d,x=E-v,E=_<=x?(E=Math.min(E-1,~~(v+x/2)),Math.max(0,E)):(E=Math.max(d,~~(v-1-_/2)),Math.min(t.dimension[u],E));!p[E];)E++;for(var O=b[E];!O&&p[E-1];)O=b[--E];return S.dimension[u]=E,k.dimension[c]=E+1,[S,k]},e.default=g}}),An=e({"node_modules/node-vibrant/lib/quantizer/pqueue.js"(e){"use strict";function t(e){this._comparator=e,this.contents=[],this._sorted=!1}Object.defineProperty(e,"__esModule",{value:!0}),t.prototype._sort=function(){this._sorted||(this.contents.sort(this._comparator),this._sorted=!0)},t.prototype.push=function(e){this.contents.push(e),this._sorted=!1},t.prototype.peek=function(e){return this._sort(),e="number"==typeof e?e:this.contents.length-1,this.contents[e]},t.prototype.pop=function(){return this._sort(),this.contents.pop()},t.prototype.size=function(){return this.contents.length},t.prototype.map=function(e){return this._sort(),this.contents.map(e)},e.default=t}}),Tn=e({"node_modules/node-vibrant/lib/quantizer/mmcq.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Qr(),l=Pn(),c=An();function u(e,t){for(var r=e.size();e.size()<t;){var n=e.pop();if(!(n&&0<n.count()))break;var n=n.split(),a=n[0],n=n[1];if(e.push(a),n&&0<n.count()&&e.push(n),e.size()===r)break;r=e.size()}}e.default=function(e,t){if(0===e.length||t.colorCount<2||256<t.colorCount)throw new Error("Wrong MMCQ parameters");for(var e=l.default.build(e),r=e.hist,r=(Object.keys(r).length,new c.default(function(e,t){return e.count()-t.count()})),e=(r.push(e),u(r,.75*t.colorCount),new c.default(function(e,t){return e.count()*e.volume()-t.count()*t.volume()})),n=(e.contents=r.contents,u(e,t.colorCount-e.size()),e),a=[];n.size();){var o=n.pop(),s=o.avg();s[0],s[1],s[2];a.push(new i.Swatch(s,o.count()))}return a}}}),Mn=e({"node_modules/node-vibrant/lib/quantizer/index.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Tn();e.MMCQ=t.default,e.WebWorker=null}}),Dn=e({"node_modules/lodash/_apply.js"(e,t){t.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}}}),$n=e({"node_modules/lodash/_overRest.js"(e,t){var l=Dn(),c=Math.max;t.exports=function(o,s,i){return s=c(void 0===s?o.length-1:s,0),function(){for(var e=arguments,t=-1,r=c(e.length-s,0),n=Array(r);++t<r;)n[t]=e[s+t];for(var t=-1,a=Array(s+1);++t<s;)a[t]=e[t];return a[s]=i(n),l(o,this,a)}}}}),Fn=e({"node_modules/lodash/constant.js"(e,t){t.exports=function(e){return function(){return e}}}}),Bn=e({"node_modules/lodash/_baseSetToString.js"(e,t){var r=Fn(),n=en(),a=zr();t.exports=n?function(e,t){return n(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a}}),Un=e({"node_modules/lodash/_shortOut.js"(e,t){var o=Date.now;t.exports=function(r){var n=0,a=0;return function(){var e=o(),t=16-(e-a);if(a=e,0<t){if(800<=++n)return arguments[0]}else n=0;return r.apply(void 0,arguments)}}}}),Gn=e({"node_modules/lodash/_setToString.js"(e,t){var r=Bn(),r=Un()(r);t.exports=r}}),Hn=e({"node_modules/lodash/_baseRest.js"(e,t){var r=zr(),n=$n(),a=Gn();t.exports=function(e,t){return a(n(e,t,r),e+"")}}}),qn=e({"node_modules/lodash/_isIterateeCall.js"(e,t){var a=Et(),o=ft(),s=tt(),i=dt();t.exports=function(e,t,r){var n;return!!i(r)&&(!!("number"==(n=typeof t)?o(r)&&s(t,r.length):"string"==n&&t in r)&&a(r[t],e))}}}),Vn=e({"node_modules/lodash/defaults.js"(e,t){var r=Hn(),p=Et(),d=qn(),h=ln(),f=Object.prototype,m=f.hasOwnProperty,r=r(function(e,t){e=Object(e);var r=-1,n=t.length,a=2<n?t[2]:void 0;for(a&&d(t[0],t[1],a)&&(n=1);++r<n;)for(var o=t[r],s=h(o),i=-1,l=s.length;++i<l;){var c=s[i],u=e[c];(void 0===u||p(u,f[c])&&!m.call(e,c))&&(e[c]=o[c])}return e});t.exports=r}}),zn=e({"node_modules/node-vibrant/lib/generator/default.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=Qr(),p=Be(),d=Vn(),h={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6.5,weightPopulation:.5};function g(e,t,r,n,a,o,s){function i(e,t){return 1-Math.abs(e-t)}return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=0,a=0;a<e.length;a+=2){var o=e[a],s=e[a+1];r+=o*s,n+=s}return r/n}(i(e,t),s.weightSaturation,i(r,n),s.weightLuma,a/o,s.weightPopulation)}function f(o,e,s,i,l,c,u,p,d,h){var f=null,m=0;return e.forEach(function(e){var t,r,n=e.getHsl(),a=n[1],n=n[2];p<=a&&a<=d&&l<=n&&n<=c&&(r=e,(t=o).Vibrant!==r&&t.DarkVibrant!==r&&t.LightVibrant!==r&&t.Muted!==r&&t.DarkMuted!==r&&t.LightMuted!==r)&&(t=g(a,u,n,i,e.getPopulation(),s,h),(null===f||m<t)&&(f=e,m=t))}),f}e.default=function(e,t){t=d({},t,h);r=0,e.forEach(function(e){r=Math.max(r,e.getPopulation())});var r,n,a,o,s,i,l,c=r,e=(a=t,(n={}).Vibrant=f(n,e=e,c=c,a.targetNormalLuma,a.minNormalLuma,a.maxNormalLuma,a.targetVibrantSaturation,a.minVibrantSaturation,1,a),n.LightVibrant=f(n,e,c,a.targetLightLuma,a.minLightLuma,1,a.targetVibrantSaturation,a.minVibrantSaturation,1,a),n.DarkVibrant=f(n,e,c,a.targetDarkLuma,0,a.maxDarkLuma,a.targetVibrantSaturation,a.minVibrantSaturation,1,a),n.Muted=f(n,e,c,a.targetNormalLuma,a.minNormalLuma,a.maxNormalLuma,a.targetMutesSaturation,0,a.maxMutesSaturation,a),n.LightMuted=f(n,e,c,a.targetLightLuma,a.minLightLuma,1,a.targetMutesSaturation,0,a.maxMutesSaturation,a),n.DarkMuted=f(n,e,c,a.targetDarkLuma,0,a.maxDarkLuma,a.targetMutesSaturation,0,a.maxMutesSaturation,a),n);return c=t,null===(a=e).Vibrant&&null===a.DarkVibrant&&null===a.LightVibrant&&(null===a.DarkVibrant&&null!==a.DarkMuted&&(s=(l=a.DarkMuted.getHsl())[0],i=l[1],l=l[2],l=c.targetDarkLuma,a.DarkVibrant=new u.Swatch(p.hslToRgb(s,i,l),0)),null===a.LightVibrant&&null!==a.LightMuted&&(s=(o=a.LightMuted.getHsl())[0],i=o[1],l=o[2],l=c.targetDarkLuma,a.DarkVibrant=new u.Swatch(p.hslToRgb(s,i,l),0))),null===a.Vibrant&&null!==a.DarkVibrant?(s=(o=a.DarkVibrant.getHsl())[0],i=o[1],l=o[2],l=c.targetNormalLuma,a.Vibrant=new u.Swatch(p.hslToRgb(s,i,l),0)):null===a.Vibrant&&null!==a.LightVibrant&&(s=(o=a.LightVibrant.getHsl())[0],i=o[1],l=o[2],l=c.targetNormalLuma,a.Vibrant=new u.Swatch(p.hslToRgb(s,i,l),0)),null===a.DarkVibrant&&null!==a.Vibrant&&(s=(o=a.Vibrant.getHsl())[0],i=o[1],l=o[2],l=c.targetDarkLuma,a.DarkVibrant=new u.Swatch(p.hslToRgb(s,i,l),0)),null===a.LightVibrant&&null!==a.Vibrant&&(s=(o=a.Vibrant.getHsl())[0],i=o[1],l=o[2],l=c.targetLightLuma,a.LightVibrant=new u.Swatch(p.hslToRgb(s,i,l),0)),null===a.Muted&&null!==a.Vibrant&&(s=(o=a.Vibrant.getHsl())[0],i=o[1],l=o[2],l=c.targetMutesSaturation,a.Muted=new u.Swatch(p.hslToRgb(s,i,l),0)),null===a.DarkMuted&&null!==a.DarkVibrant&&(s=(o=a.DarkVibrant.getHsl())[0],i=o[1],l=o[2],l=c.targetMutesSaturation,a.DarkMuted=new u.Swatch(p.hslToRgb(s,i,l),0)),null===a.LightMuted&&null!==a.LightVibrant&&(s=(o=a.LightVibrant.getHsl())[0],i=o[1],l=o[2],l=c.targetMutesSaturation,a.LightMuted=new u.Swatch(p.hslToRgb(s,i,l),0)),e}}}),Kn=e({"node_modules/node-vibrant/lib/generator/index.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=zn();e.Default=t.default}}),Wn=e({"node_modules/node-vibrant/lib/filter/default.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t,r,n){return 125<=n&&!(250<e&&250<t&&250<r)}}}),Jn=e({"node_modules/node-vibrant/lib/filter/index.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Wn();e.Default=t.default,e.combineFilters=function(o){return Array.isArray(o)&&0!==o.length?function(e,t,r,n){if(0===n)return!1;for(var a=0;a<o.length;a++)if(!o[a](e,t,r,n))return!1;return!0}:null}}}),Xn=e({"node_modules/node-vibrant/lib/vibrant.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Qr(),t=Rn(),r=Be(),n=Mn(),o=Kn(),s=Jn(),i=Vn(),r=(l.from=function(e){return new t.default(e)},l.prototype._process=function(e,t){var r=t.quantizer,n=t.generator;return e.scaleDown(t),e.applyFilter(t.combinedFilter).then(function(e){return r(e.data,t)}).then(function(e){return a.Swatch.applyFilter(e,t.combinedFilter)}).then(function(e){return Promise.resolve(n(e))})},l.prototype.palette=function(){return this.swatches()},l.prototype.swatches=function(){return this._palette},l.prototype.getPalette=function(t){var r=this,n=new this.opts.ImageClass,e=n.load(this._src).then(function(e){return r._process(e,r.opts)}).then(function(e){return r._palette=e,n.remove(),e},function(e){throw n.remove(),e});return t&&e.then(function(e){return t(null,e)},function(e){return t(e)}),e},l.Builder=t.default,l.Quantizer=n,l.Generator=o,l.Filter=s,l.Util=r,l.DefaultOpts={colorCount:64,quality:5,generator:o.Default,ImageClass:null,quantizer:n.MMCQ,filters:[s.Default]},l);function l(e,t){this._src=e,this.opts=i({},t,l.DefaultOpts),this.opts.combinedFilter=s.combineFilters(this.opts.filters)}e.default=r}}),Yn=e({"node_modules/node-vibrant/lib/image/base.js"(e){"use strict";function t(){}Object.defineProperty(e,"__esModule",{value:!0}),t.prototype.scaleDown=function(e){var t,r=this.getWidth(),n=this.getHeight(),a=1;0<e.maxDimension?(t=Math.max(r,n))>e.maxDimension&&(a=e.maxDimension/t):a=1/e.quality,a<1&&this.resize(r*a,n*a,a)},t.prototype.applyFilter=function(e){var t=this.getImageData();if("function"==typeof e)for(var r,n=t.data,a=n.length/4,o=0;o<a;o++)e(n[0+(r=4*o)],n[1+r],n[2+r],n[3+r])||(n[3+r]=0);return Promise.resolve(t)},e.ImageBase=t}}),Qn=e({"node_modules/url/node_modules/punycode/punycode.js"(e,t){var r=e,n="object"==typeof e&&e&&!e.nodeType&&e,e="object"==typeof t&&t&&!t.nodeType&&t,a="object"==typeof global&&global;a.global!==a&&a.window!==a&&a.self!==a||(r=a);var o,s,g=2147483647,v=36,b=26,i=38,l=700,c=/^xn--/,u=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=v-1,y=Math.floor,w=String.fromCharCode;function E(e){throw RangeError(d[e])}function f(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function m(e,t){var r=e.split("@"),n="",r=(1<r.length&&(n=r[0]+"@",e=r[1]),(e=e.replace(p,".")).split("."));return n+f(r,t).join(".")}function S(e){for(var t,r,n=[],a=0,o=e.length;a<o;)55296<=(t=e.charCodeAt(a++))&&t<=56319&&a<o?56320==(64512&(r=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),a--):n.push(t);return n}function k(e){return f(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=w(e)}).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,r){var n=0;for(e=r?y(e/l):e>>1,e+=y(e/t);h*b>>1<e;n+=v)e=y(e/h);return y(n+(h+1)*e/(e+i))}function O(e){var t,r,n,a,o,s,i,l=[],c=e.length,u=0,p=128,d=72,h=e.lastIndexOf("-");for(h<0&&(h=0),r=0;r<h;++r)128<=e.charCodeAt(r)&&E("not-basic"),l.push(e.charCodeAt(r));for(n=0<h?h+1:0;n<c;){for(a=u,o=1,s=v;c<=n&&E("invalid-input"),i=e.charCodeAt(n++),(v<=(i=i-48<10?i-22:i-65<26?i-65:i-97<26?i-97:v)||i>y((g-u)/o))&&E("overflow"),u+=i*o,!(i<(i=s<=d?1:d+b<=s?b:s-d));s+=v)o>y(g/(i=v-i))&&E("overflow"),o*=i;d=x(u-a,t=l.length+1,0==a),y(u/t)>g-p&&E("overflow"),p+=y(u/t),u%=t,l.splice(u++,0,p)}return k(l)}function j(e){for(var t,r,n,a,o,s,i,l,c,u,p=[],d=(e=S(e)).length,h=128,f=72,m=t=0;m<d;++m)(i=e[m])<128&&p.push(w(i));for(r=n=p.length,n&&p.push("-");r<d;){for(a=g,m=0;m<d;++m)h<=(i=e[m])&&i<a&&(a=i);for(a-h>y((g-t)/(l=r+1))&&E("overflow"),t+=(a-h)*l,h=a,m=0;m<d;++m)if((i=e[m])<h&&++t>g&&E("overflow"),i==h){for(o=t,s=v;!(o<(c=s<=f?1:f+b<=s?b:s-f));s+=v)p.push(w(_(c+(u=o-c)%(c=v-c),0))),o=y(u/c);p.push(w(_(o,0))),f=x(t,l,r==n),t=0,++r}++t,++h}return p.join("")}if(o={version:"1.3.2",ucs2:{decode:S,encode:k},decode:O,encode:j,toASCII:function(e){return m(e,function(e){return u.test(e)?"xn--"+j(e):e})},toUnicode:function(e){return m(e,function(e){return c.test(e)?O(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return o});else if(n&&e)if(t.exports==n)e.exports=o;else for(s in o)o.hasOwnProperty(s)&&(n[s]=o[s]);else r.punycode=o}}),Zn=e({"node_modules/url/util.js"(e,t){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}}}),ea=e({"node_modules/querystring/decode.js"(e,t){"use strict";t.exports=function(e,t,r,n){t=t||"&",r=r||"=";var a={};if("string"==typeof e&&0!==e.length){var o=/\+/g,t=(e=e.split(t),1e3),s=(n&&"number"==typeof n.maxKeys&&(t=n.maxKeys),e.length);0<t&&t<s&&(s=t);for(var i=0;i<s;++i){var l,c=e[i].replace(o,"%20"),u=c.indexOf(r),u=0<=u?(l=c.substr(0,u),c.substr(u+1)):(l=c,""),c=decodeURIComponent(l),u=decodeURIComponent(u);Object.prototype.hasOwnProperty.call(a,c)?Array.isArray(a[c])?a[c].push(u):a[c]=[a[c],u]:a[c]=u}}return a}}}),ta=e({"node_modules/querystring/encode.js"(e,t){"use strict";function o(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}t.exports=function(r,n,a,e){return n=n||"&",a=a||"=","object"==typeof(r=null===r?void 0:r)?Object.keys(r).map(function(e){var t=encodeURIComponent(o(e))+a;return Array.isArray(r[e])?r[e].map(function(e){return t+encodeURIComponent(o(e))}).join(n):t+encodeURIComponent(o(r[e]))}).join(n):e?encodeURIComponent(o(e))+a+encodeURIComponent(o(r)):""}}}),ra=e({"node_modules/querystring/index.js"(e){"use strict";e.decode=e.parse=ea(),e.encode=e.stringify=ta()}}),na=e({"node_modules/url/url.js"(e){"use strict";var k=Qn(),_=Zn();function E(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=n,e.resolve=function(e,t){return n(e,!1,!0).resolve(t)},e.resolveObject=function(e,t){return e?n(e,!1,!0).resolveObject(t):t},e.format=function(e){_.isString(e)&&(e=n(e));return e instanceof E?e.format():E.prototype.format.call(e)},e.Url=E;var x=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,O=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,e=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),j=["'"].concat(e),I=["%","/","?",";","#"].concat(j),C=["/","?","#"],N=/^[+a-z0-9A-Z_-]{0,63}$/,L=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,R={javascript:!0,"javascript:":!0},P={javascript:!0,"javascript:":!0},A={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=ra();function n(e,t,r){var n;return e&&_.isObject(e)&&e instanceof E?e:((n=new E).parse(e,t,r),n)}E.prototype.parse=function(e,t,r){if(!_.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),n=-1!==n&&n<e.indexOf("#")?"?":"#",a=e.split(n);a[0]=a[0].replace(/\\/g,"/");var o=(o=e=a.join(n)).trim();if(!r&&1===e.split("#").length){a=O.exec(o);if(a)return this.path=o,this.href=o,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?T.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var s,n=x.exec(o);if(n&&(s=(n=n[0]).toLowerCase(),this.protocol=s,o=o.substr(n.length)),!(r||n||o.match(/^\/\/[^@\/]+@[^@\/]+/))||!(w="//"===o.substr(0,2))||n&&P[n]||(o=o.substr(2),this.slashes=!0),!P[n]&&(w||n&&!A[n])){for(var i=-1,l=0;l<C.length;l++)-1!==(c=o.indexOf(C[l]))&&(-1===i||c<i)&&(i=c);-1!==(e=-1===i?o.lastIndexOf("@"):o.lastIndexOf("@",i))&&(a=o.slice(0,e),o=o.slice(e+1),this.auth=decodeURIComponent(a));for(var c,i=-1,l=0;l<I.length;l++)-1!==(c=o.indexOf(I[l]))&&(-1===i||c<i)&&(i=c);-1===i&&(i=o.length),this.host=o.slice(0,i),o=o.slice(i),this.parseHost(),this.hostname=this.hostname||"";r="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!r)for(var u=this.hostname.split(/\./),l=0,p=u.length;l<p;l++){var d=u[l];if(d&&!d.match(N)){for(var h="",f=0,m=d.length;f<m;f++)127<d.charCodeAt(f)?h+="x":h+=d[f];if(!h.match(N)){var g=u.slice(0,l),v=u.slice(l+1),b=d.match(L);b&&(g.push(b[1]),v.unshift(b[2])),v.length&&(o="/"+v.join(".")+o),this.hostname=g.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),r||(this.hostname=k.toASCII(this.hostname));var y=this.port?":"+this.port:"",w=this.hostname||"";this.host=w+y,this.href+=this.host,r&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!R[s])for(l=0,p=j.length;l<p;l++){var E,S=j[l];-1!==o.indexOf(S)&&((E=encodeURIComponent(S))===S&&(E=escape(S)),o=o.split(S).join(E))}n=o.indexOf("#"),-1!==n&&(this.hash=o.substr(n),o=o.slice(0,n)),e=o.indexOf("?");return-1!==e?(this.search=o.substr(e),this.query=o.substr(e+1),t&&(this.query=T.parse(this.query)),o=o.slice(0,e)):t&&(this.search="",this.query={}),o&&(this.pathname=o),A[s]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(y=this.pathname||"",a=this.search||"",this.path=y+a),this.href=this.format(),this},E.prototype.format=function(){var e=this.auth||"",t=(e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@"),this.protocol||""),r=this.pathname||"",n=this.hash||"",a=!1,o="",e=(this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&_.isObject(this.query)&&Object.keys(this.query).length&&(o=T.stringify(this.query)),this.search||o&&"?"+o||"");return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||A[t])&&!1!==a?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a=a||"",n&&"#"!==n.charAt(0)&&(n="#"+n),e&&"?"!==e.charAt(0)&&(e="?"+e),t+a+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(e=e.replace("#","%23"))+n},E.prototype.resolve=function(e){return this.resolveObject(n(e,!1,!0)).format()},E.prototype.resolveObject=function(e){_.isString(e)&&((d=new E).parse(e,!1,!0),e=d);for(var t=new E,r=Object.keys(this),n=0;n<r.length;n++){var a=r[n];t[a]=this[a]}if(t.hash=e.hash,""!==e.href)if(e.slashes&&!e.protocol){for(var o=Object.keys(e),s=0;s<o.length;s++){var i=o[s];"protocol"!==i&&(t[i]=e[i])}A[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/")}else if(e.protocol&&e.protocol!==t.protocol)if(A[e.protocol]){if(t.protocol=e.protocol,e.host||P[e.protocol])t.pathname=e.pathname;else{for(var l=(e.pathname||"").split("/");l.length&&!(e.host=l.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==l[0]&&l.unshift(""),l.length<2&&l.unshift(""),t.pathname=l.join("/")}t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,(t.pathname||t.search)&&(d=t.pathname||"",h=t.search||"",t.path=d+h),t.slashes=t.slashes||e.slashes}else for(var c=Object.keys(e),u=0;u<c.length;u++){var p=c[u];t[p]=e[p]}else{var d=t.pathname&&"/"===t.pathname.charAt(0),h=e.host||e.pathname&&"/"===e.pathname.charAt(0),d=h||d||t.host&&e.pathname,f=d,m=t.pathname&&t.pathname.split("/")||[],l=e.pathname&&e.pathname.split("/")||[],g=t.protocol&&!A[t.protocol];if(g&&(t.hostname="",t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===l[0]?l[0]=e.host:l.unshift(e.host)),e.host=null),d=d&&(""===l[0]||""===m[0])),h)t.host=(e.host||""===e.host?e:t).host,t.hostname=(e.hostname||""===e.hostname?e:t).hostname,t.search=e.search,t.query=e.query,m=l;else if(l.length)(m=m||[]).pop(),m=m.concat(l),t.search=e.search,t.query=e.query;else if(!_.isNullOrUndefined(e.search))return g&&(t.hostname=t.host=m.shift(),(w=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=w.shift(),t.host=t.hostname=w.shift())),t.search=e.search,t.query=e.query,_.isNull(t.pathname)&&_.isNull(t.search)||(t.path=(t.pathname||"")+(t.search||"")),t.href=t.format(),t;if(m.length){for(var v=m.slice(-1)[0],h=(t.host||e.host||1<m.length)&&("."===v||".."===v)||""===v,b=0,y=m.length;0<=y;y--)"."===(v=m[y])?m.splice(y,1):".."===v?(m.splice(y,1),b++):b&&(m.splice(y,1),b--);if(!d&&!f)for(;b--;)m.unshift("..");!d||""===m[0]||m[0]&&"/"===m[0].charAt(0)||m.unshift(""),h&&"/"!==m.join("/").substr(-1)&&m.push("");var w,f=""===m[0]||m[0]&&"/"===m[0].charAt(0);g&&(t.hostname=t.host=!f&&m.length?m.shift():"",(w=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=w.shift(),t.host=t.hostname=w.shift())),(d=d||t.host&&m.length)&&!f&&m.unshift(""),m.length?t.pathname=m.join("/"):(t.pathname=null,t.path=null),_.isNull(t.pathname)&&_.isNull(t.search)||(t.path=(t.pathname||"")+(t.search||"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes}else t.pathname=null,t.search?t.path="/"+t.search:t.path=null}return t.href=t.format(),t},E.prototype.parseHost=function(){var e=this.host,t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}}}),aa=e({"node_modules/node-vibrant/lib/image/browser.js"(e){"use strict";var n,t=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),r=(Object.defineProperty(e,"__esModule",{value:!0}),Yn()),s=na();a=r.ImageBase,t(o,a),o.prototype._initCanvas=function(){var e=this.image,t=this._canvas=document.createElement("canvas"),r=this._context=t.getContext("2d");t.className="vibrant-canvas",t.style.display="none",this._width=t.width=e.width,this._height=t.height=e.height,r.drawImage(e,0,0),document.body.appendChild(t)},o.prototype.load=function(e){var t,r,n=this,a=null,o=null;if("string"==typeof e)a=document.createElement("img"),r=e,null===(r=s.parse(r)).protocol&&null===r.host&&null===r.port||(r=window.location.href,t=e,r=s.parse(r),t=s.parse(t),r.protocol===t.protocol&&r.hostname===t.hostname&&r.port===t.port)||(a.crossOrigin="anonymous"),o=a.src=e;else{if(!(e instanceof HTMLImageElement))return Promise.reject(new Error("Cannot load buffer as an image in browser"));o=(a=e).src}return this.image=a,new Promise(function(e,t){function r(){n._initCanvas(),e(n)}a.complete?r():(a.onload=r,a.onerror=function(e){return t(new Error("Fail to load image: "+o))})})},o.prototype.clear=function(){this._context.clearRect(0,0,this._width,this._height)},o.prototype.update=function(e){this._context.putImageData(e,0,0)},o.prototype.getWidth=function(){return this._width},o.prototype.getHeight=function(){return this._height},o.prototype.resize=function(e,t,r){var n=this._canvas,a=this._context,o=this.image;this._width=n.width=e,this._height=n.height=t,a.scale(r,r),a.drawImage(o,0,0)},o.prototype.getPixelCount=function(){return this._width*this._height},o.prototype.getImageData=function(){return this._context.getImageData(0,0,this._width,this._height)},o.prototype.remove=function(){this._canvas&&this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)};var a,r=o;function o(){return null!==a&&a.apply(this,arguments)||this}e.default=r}}),r=e({"node_modules/node-vibrant/lib/browser.js"(e,t){"use strict";var r=Xn(),n=aa();r.default.DefaultOpts.ImageClass=n.default,t.exports=r.default}}),oa=e({"node_modules/chroma-js/chroma.js"(e,t){var r;r=function(){"use strict";for(var e=function(e,t,r){return void 0===r&&(r=1),e<(t=void 0===t?0:t)?t:r<e?r:e},M=e,D={},t=0,$=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];t<$.length;t+=1){var F=$[t];D["[object "+F+"]"]=F.toLowerCase()}function r(e){return D[Object.prototype.toString.call(e)]||"object"}function B(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("object"===X(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var r=!1;if(!(o=W(e))){r=!0,i.sorted||(i.autodetect=i.autodetect.sort(function(e,t){return t.p-e.p}),i.sorted=!0);for(var n=0,a=i.autodetect;n<a.length;n+=1){var o,s=a[n];if(o=s.test.apply(s,e))break}}if(!i.format[o])throw new Error("unknown format: "+e);r=i.format[o].apply(null,r?e:e.slice(0,-1)),this._rgb=J(r),3===this._rgb.length&&this._rgb.push(1)}function n(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(n.Color,[null].concat(e)))}function U(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=Z(e,"cmyk"))[0],n=e[1],a=e[2],o=e[3],s=4<e.length?e[4]:1;return 1===o?[0,0,0,s]:[1<=r?0:255*(1-r)*(1-o),1<=n?0:255*(1-n)*(1-o),1<=a?0:255*(1-a)*(1-o),s]}function a(e){return Math.round(100*e)/100}function G(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n,a=(e=se(e,"rgba"))[0],o=e[1],s=e[2],i=(a/=255,o/=255,s/=255,Math.min(a,o,s)),l=Math.max(a,o,s),c=(l+i)/2;return l===i?(r=0,n=Number.NaN):r=c<.5?(l-i)/(l+i):(l-i)/(2-l-i),a==l?n=(o-s)/(l-i):o==l?n=2+(s-a)/(l-i):s==l&&(n=4+(a-o)/(l-i)),(n*=60)<0&&(n+=360),3<e.length&&void 0!==e[3]?[n,r,c,e[3]]:[n,r,c]}function H(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=ie(e,"rgba"),n=le(e)||"rgb";return"hsl"==n.substr(0,3)?ce(ue(r),n):(r[0]=pe(r[0]),r[1]=pe(r[1]),r[2]=pe(r[2]),("rgba"===n||3<r.length&&r[3]<1)&&(r[3]=3<r.length?r[3]:1,n="rgba"),n+"("+r.slice(0,"rgb"===n?3:4).join(",")+")")}function q(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n,a,o=(e=de(e,"hsl"))[0],s=e[1],i=e[2];if(0===s)r=n=a=255*i;else{var l=[0,0,0],c=[0,0,0],u=i<.5?i*(1+s):i+s-i*s,p=2*i-u,s=o/360;l[0]=s+1/3,l[1]=s,l[2]=s-1/3;for(var d=0;d<3;d++)l[d]<0&&(l[d]+=1),1<l[d]&&--l[d],6*l[d]<1?c[d]=p+6*(u-p)*l[d]:2*l[d]<1?c[d]=u:3*l[d]<2?c[d]=p+(u-p)*(2/3-l[d])*6:c[d]=p;r=(i=[he(255*c[0]),he(255*c[1]),he(255*c[2])])[0],n=i[1],a=i[2]}return 3<e.length?[r,n,a,e[3]]:[r,n,a,1]}function V(e){var t,r;if(e=e.toLowerCase().trim(),me.format.named)try{return me.format.named(e)}catch(e){}if(t=e.match(ge)){for(var n=t.slice(1,4),a=0;a<3;a++)n[a]=+n[a];return n[3]=1,n}if(t=e.match(ve)){for(var o=t.slice(1,5),s=0;s<4;s++)o[s]=+o[s];return o}if(t=e.match(be)){for(var i=t.slice(1,4),l=0;l<3;l++)i[l]=Se(2.55*i[l]);return i[3]=1,i}if(t=e.match(ye)){for(var c=t.slice(1,5),u=0;u<3;u++)c[u]=Se(2.55*c[u]);return c[3]=+c[3],c}return(t=e.match(we))?((r=t.slice(1,4))[1]*=.01,r[2]*=.01,(r=fe(r))[3]=1,r):(t=e.match(Ee))?((r=t.slice(1,4))[1]*=.01,r[2]*=.01,(e=fe(r))[3]=+t[4],e):void 0}var z=r,K=r,o=Math.PI,e={clip_rgb:function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var t=0;t<=3;t++)t<3?((e[t]<0||255<e[t])&&(e._clipped=!0),e[t]=M(e[t],0,255)):3===t&&(e[t]=M(e[t],0,1));return e},limit:e,type:r,unpack:function(t,e){return void 0===e&&(e=null),3<=t.length?Array.prototype.slice.call(t):"object"==z(t[0])&&e?e.split("").filter(function(e){return void 0!==t[0][e]}).map(function(e){return t[0][e]}):t[0]},last:function(e){var t;return!(e.length<2)&&(t=e.length-1,"string"==K(e[t]))?e[t].toLowerCase():null},PI:o,TWOPI:2*o,PITHIRD:o/3,DEG2RAD:o/180,RAD2DEG:180/o},o={format:{},autodetect:[]},W=e.last,J=e.clip_rgb,X=e.type,i=o,s=(B.prototype.toString=function(){return"function"==X(this.hex)?this.hex():"["+this._rgb.join(",")+"]"},B),l=(n.Color=s,n.version="2.4.2",n),Y=e.unpack,Q=Math.max,Z=e.unpack,c=l,ee=s,u=o,te=e.unpack,re=e.type,ne=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Y(e,"rgb"),n=r[0],a=r[1],r=r[2],o=1-Q(n/=255,Q(a/=255,r/=255)),s=o<1?1/(1-o):0;return[(1-n-o)*s,(1-a-o)*s,(1-r-o)*s,o]},ae=(ee.prototype.cmyk=function(){return ne(this._rgb)},c.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ee,[null].concat(e,["cmyk"])))},u.format.cmyk=U,u.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=te(e,"cmyk"),"array"===re(e)&&4===e.length)return"cmyk"}}),e.unpack),oe=e.last,se=e.unpack,ie=e.unpack,le=e.last,ce=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=ae(e,"hsla"),n=oe(e)||"lsa";return r[0]=a(r[0]||0),r[1]=a(100*r[1])+"%",r[2]=a(100*r[2])+"%","hsla"===n||3<r.length&&r[3]<1?(r[3]=3<r.length?r[3]:1,n="hsla"):r.length=3,n+"("+r.join(",")+")"},ue=G,pe=Math.round,de=e.unpack,he=Math.round,fe=q,me=o,ge=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,ve=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,be=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ye=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,we=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Ee=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Se=Math.round;V.test=function(e){return ge.test(e)||ve.test(e)||be.test(e)||ye.test(e)||we.test(e)||Ee.test(e)};function ke(){for(var e,t=[],r=arguments.length;r--;)t[r]=arguments[r];var n,a,o,s=(t=ze(t,"hcg"))[0],i=t[1],l=t[2],c=(l*=255,255*i);if(0===i)n=a=o=l;else{360<(s=360===s?0:s)&&(s-=360),s<0&&(s+=360);var u=Ke(s/=60),s=s-u,p=l*(1-i),d=p+c*(1-s),h=p+c*s,f=p+c;switch(u){case 0:n=(e=[f,h,p])[0],a=e[1],o=e[2];break;case 1:n=(e=[d,f,p])[0],a=e[1],o=e[2];break;case 2:n=(e=[p,f,h])[0],a=e[1],o=e[2];break;case 3:n=(e=[p,d,f])[0],a=e[1],o=e[2];break;case 4:n=(e=[h,p,f])[0],a=e[1],o=e[2];break;case 5:n=(e=[f,p,d])[0],a=e[1],o=e[2]}}return[n,a,o,3<t.length?t[3]:1]}function _e(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(o=Qe(e,"rgba"))[0],n=o[1],a=o[2],o=o[3],s=Ze(e)||"auto",i=(void 0===o&&(o=1),"auto"===s&&(s=o<1?"rgba":"rgb"),(i="000000"+(p(r)<<16|p(n)<<8|p(a)).toString(16)).substr(i.length-6)),l=(l="0"+p(255*o).toString(16)).substr(l.length-2);switch(s.toLowerCase()){case"rgba":return"#"+i+l;case"argb":return"#"+l+i;default:return"#"+i}}function xe(e){var t;if(e.match(et))return 3===(e=4!==e.length&&7!==e.length?e:e.substr(1)).length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(t=parseInt(e,16))>>16,t>>8&255,255&t,1];if(e.match(tt))return 4===(e=5!==e.length&&9!==e.length?e:e.substr(1)).length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),[(t=parseInt(e,16))>>24&255,t>>16&255,t>>8&255,Math.round((255&t)/255*100)/100];throw new Error("unknown hex color: "+e)}function Oe(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n,a,o=(e=ut(e,"hsi"))[0],s=e[1],i=e[2];return isNaN(o)&&(o=0),isNaN(s)&&(s=0),360<o&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?n=1-((a=(1-s)/3)+(r=(1+s*h(d*o)/h(dt-d*o))/3)):o<2/3?a=1-((r=(1-s)/3)+(n=(1+s*h(d*(o-=1/3))/h(dt-d*o))/3)):r=1-((n=(1-s)/3)+(a=(1+s*h(d*(o-=2/3))/h(dt-d*o))/3)),[255*(r=pt(i*r*3)),255*(n=pt(i*n*3)),255*(a=pt(i*a*3)),3<e.length?e[3]:1]}function je(){for(var e,t=[],r=arguments.length;r--;)t[r]=arguments[r];var n,a,o,s=(t=_t(t,"hsv"))[0],i=t[1],l=t[2];if(l*=255,0===i)n=a=o=l;else{360<(s=360===s?0:s)&&(s-=360),s<0&&(s+=360);var c=xt(s/=60),s=s-c,u=l*(1-i),p=l*(1-i*s),d=l*(1-i*(1-s));switch(c){case 0:n=(e=[l,d,u])[0],a=e[1],o=e[2];break;case 1:n=(e=[p,l,u])[0],a=e[1],o=e[2];break;case 2:n=(e=[u,l,d])[0],a=e[1],o=e[2];break;case 3:n=(e=[u,p,l])[0],a=e[1],o=e[2];break;case 4:n=(e=[d,u,l])[0],a=e[1],o=e[2];break;case 5:n=(e=[l,u,p])[0],a=e[1],o=e[2]}}return[n,a,o,3<t.length?t[3]:1]}function Ie(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(a=Nt(e,"rgb"))[0],n=a[1],a=a[2];return n=n,a=a,r=Rt(r=r),n=Rt(n),a=Rt(a),[(a=116*(n=(r=[Pt((.4124564*r+.3575761*n+.1804375*a)/f.Xn),Pt((.2126729*r+.7151522*n+.072175*a)/f.Yn),Pt((.0193339*r+.119192*n+.9503041*a)/f.Zn)])[1])-16)<0?0:a,500*(r[0]-n),200*(n-r[2])]}function Ce(e){return 255*(e<=.00304?12.92*e:1.055*Tt(e,1/2.4)-.055)}function Ne(e){return e>m.t1?e*e*e:m.t2*(e-m.t0)}function Le(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=At(e,"lab"))[0],n=e[1],a=e[2],r=(r+16)/116,n=isNaN(n)?r:r+n/500,a=isNaN(a)?r:r-a/200;return r=m.Yn*Ne(r),n=m.Xn*Ne(n),a=m.Zn*Ne(a),[Ce(3.2404542*n-1.5371385*r-.4985314*a),Ce(-.969266*n+1.8760108*r+.041556*a),Ce(.0556434*n-.2040259*r+1.0572252*a),3<e.length?e[3]:1]}function Re(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(a=Bt(e,"lab"))[0],n=a[1],a=a[2],o=Gt(n*n+a*a),a=(Ht(a,n)*Ut+360)%360;return[r,o,a=0===qt(1e4*o)?Number.NaN:a]}function Pe(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(a=Wt(e,"lch"))[0],n=a[1],a=a[2];return isNaN(a)&&(a=0),[r,Yt(a*=Jt)*n,Xt(a)*n]}function Ae(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=Qt(e,"lch"))[0],n=e[1],a=e[2],n=(r=Zt(r,n,a))[0],a=r[1],r=r[2];return[(n=er(n,a,r))[0],n[1],n[2],3<e.length?e[3]:1]}function Te(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=tr(e,"hcl").reverse();return rr.apply(void 0,r)}function Me(e){if("number"==pr(e)&&0<=e&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)}function De(e){var t,r,n=(e=e/100)<66?(t=255,r=e<6?0:-155.25485562709179-.44596950469579133*(r=e-2)+104.49216199393888*w(r),e<20?0:.8274096064007395*(n=e-10)-254.76935184120902+115.67994401066147*w(n)):(t=351.97690566805693+.114206453784165*(t=e-55)-40.25366309332127*w(t),r=325.4494125711974+.07943456536662342*(r=e-50)-28.0852963507957*w(r),255);return[t,r,n,1]}function $e(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(a=kr(e,"rgb"))[0],n=a[1],a=a[2],r=[jr(r/255),jr(n/255),jr(a/255)],o=_r(.4122214708*(n=r[0])+.5363325363*(a=r[1])+.0514459929*(r=r[2])),s=_r(.2119034982*n+.6806995451*a+.1073969566*r),n=_r(.0883024619*n+.2817188376*a+.6299787005*r);return[.2104542553*o+.793617785*s-.0040720468*n,1.9779984951*o-2.428592205*s+.4505937099*n,.0259040371*o+.7827717662*s-.808675766*n]}var c=l,Fe=s,u=o,Be=e.type,Ue=H,Ge=V,He=(Fe.prototype.css=function(e){return Ue(this._rgb,e)},c.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Fe,[null].concat(e,["css"])))},u.format.css=Ge,u.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;0<r--;)t[r]=arguments[r+1];if(!t.length&&"string"===Be(e)&&Ge.test(e))return"css"}}),s),c=l,u=o,qe=e.unpack,Ve=(u.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=qe(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},c.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(He,[null].concat(e,["gl"])))},He.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]},e.unpack),ze=e.unpack,Ke=Math.floor,We=e.unpack,Je=e.type,u=l,Xe=s,c=o,Ye=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n=Ve(e,"rgb"),a=n[0],o=n[1],n=n[2],s=Math.min(a,o,n),i=Math.max(a,o,n),l=i-s;return 0==l?r=Number.NaN:(a===i&&(r=(o-n)/l),o===i&&(r=2+(n-a)/l),n===i&&(r=4+(a-o)/l),(r*=60)<0&&(r+=360)),[r,100*l/255,s/(255-l)*100]},Qe=(Xe.prototype.hcg=function(){return Ye(this._rgb)},u.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Xe,[null].concat(e,["hcg"])))},c.format.hcg=ke,c.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=We(e,"hcg"),"array"===Je(e)&&3===e.length)return"hcg"}}),e.unpack),Ze=e.last,p=Math.round,et=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,tt=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,u=l,rt=s,nt=e.type,c=o,at=_e,ot=(rt.prototype.hex=function(e){return at(this._rgb,e)},u.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(rt,[null].concat(e,["hex"])))},c.format.hex=xe,c.autodetect.push({p:4,test:function(e){for(var t=[],r=arguments.length-1;0<r--;)t[r]=arguments[r+1];if(!t.length&&"string"===nt(e)&&0<=[3,4,5,6,7,8,9].indexOf(e.length))return"hex"}}),e.unpack),st=e.TWOPI,it=Math.min,lt=Math.sqrt,ct=Math.acos,ut=e.unpack,pt=e.limit,d=e.TWOPI,dt=e.PITHIRD,h=Math.cos,ht=e.unpack,ft=e.type,u=l,mt=s,c=o,gt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n=ot(e,"rgb"),a=n[0],o=n[1],n=n[2],s=it(a/=255,o/=255,n/=255),i=(a+o+n)/3,s=0<i?1-s/i:0;return 0==s?r=NaN:(r=(a-o+(a-n))/2,r/=lt((a-o)*(a-o)+(a-n)*(o-n)),r=ct(r),o<n&&(r=st-r),r/=st),[360*r,s,i]},vt=(mt.prototype.hsi=function(){return gt(this._rgb)},u.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(mt,[null].concat(e,["hsi"])))},c.format.hsi=Oe,c.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ht(e,"hsi"),"array"===ft(e)&&3===e.length)return"hsi"}}),e.unpack),bt=e.type,u=l,yt=s,c=o,wt=G,Et=(yt.prototype.hsl=function(){return wt(this._rgb)},u.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(yt,[null].concat(e,["hsl"])))},c.format.hsl=q,c.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=vt(e,"hsl"),"array"===bt(e)&&3===e.length)return"hsl"}}),e.unpack),St=Math.min,kt=Math.max,_t=e.unpack,xt=Math.floor,Ot=e.unpack,jt=e.type,u=l,It=s,c=o,Ct=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n,a=(e=Et(e,"rgb"))[0],o=e[1],s=e[2],i=St(a,o,s),l=kt(a,o,s),i=l-i;return 0===l?(r=Number.NaN,n=0):(n=i/l,a===l&&(r=(o-s)/i),o===l&&(r=2+(s-a)/i),s===l&&(r=4+(a-o)/i),(r*=60)<0&&(r+=360)),[r,n,l/255]},u=(It.prototype.hsv=function(){return Ct(this._rgb)},u.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(It,[null].concat(e,["hsv"])))},c.format.hsv=je,c.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ot(e,"hsv"),"array"===jt(e)&&3===e.length)return"hsv"}}),{Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452}),f=u,Nt=e.unpack,Lt=Math.pow,Rt=function(e){return(e/=255)<=.04045?e/12.92:Lt((e+.055)/1.055,2.4)},Pt=function(e){return e>f.t3?Lt(e,1/3):e/f.t2+f.t0},m=u,At=e.unpack,Tt=Math.pow,Mt=e.unpack,Dt=e.type,c=l,$t=s,g=o,Ft=Ie,Bt=($t.prototype.lab=function(){return Ft(this._rgb)},c.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply($t,[null].concat(e,["lab"])))},g.format.lab=Le,g.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Mt(e,"lab"),"array"===Dt(e)&&3===e.length)return"lab"}}),e.unpack),Ut=e.RAD2DEG,Gt=Math.sqrt,Ht=Math.atan2,qt=Math.round,Vt=e.unpack,zt=Ie,Kt=Re,Wt=e.unpack,Jt=e.DEG2RAD,Xt=Math.sin,Yt=Math.cos,Qt=e.unpack,Zt=Pe,er=Le,tr=e.unpack,rr=Ae,nr=e.unpack,ar=e.type,c=l,v=s,or=o,sr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Vt(e,"rgb"),n=r[0],a=r[1],r=r[2],n=zt(n,a,r),a=n[0],r=n[1],n=n[2];return Kt(a,r,n)},g=(v.prototype.lch=function(){return sr(this._rgb)},v.prototype.hcl=function(){return sr(this._rgb).reverse()},c.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(v,[null].concat(e,["lch"])))},c.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(v,[null].concat(e,["hcl"])))},or.format.lch=Ae,or.format.hcl=Te,["lch","hcl"].forEach(function(r){return or.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=nr(e,r),"array"===ar(e)&&3===e.length)return r}})}),{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}),c=s,b=o,ir=e.type,y=g,lr=xe,cr=_e,ur=(c.prototype.name=function(){for(var e=cr(this._rgb,"rgb"),t=0,r=Object.keys(y);t<r.length;t+=1){var n=r[t];if(y[n]===e)return n.toLowerCase()}return e},b.format.named=function(e){if(e=e.toLowerCase(),y[e])return lr(y[e]);throw new Error("unknown color name: "+e)},b.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;0<r--;)t[r]=arguments[r+1];if(!t.length&&"string"===ir(e)&&y[e.toLowerCase()])return"named"}}),e.unpack),pr=e.type,c=l,dr=s,b=o,hr=e.type,fr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=ur(e,"rgb");return(r[0]<<16)+(r[1]<<8)+r[2]},c=(dr.prototype.num=function(){return fr(this._rgb)},c.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(dr,[null].concat(e,["num"])))},b.format.num=Me,b.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===hr(e[0])&&0<=e[0]&&e[0]<=16777215)return"num"}}),l),mr=s,b=o,gr=e.unpack,vr=e.type,br=Math.round,w=(mr.prototype.rgb=function(e){return!1===(e=void 0===e?!0:e)?this._rgb.slice(0,3):this._rgb.slice(0,3).map(br)},mr.prototype.rgba=function(r){return void 0===r&&(r=!0),this._rgb.slice(0,4).map(function(e,t){return!(t<3)||!1===r?e:br(e)})},c.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(mr,[null].concat(e,["rgb"])))},b.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=gr(e,"rgba");return void 0===r[3]&&(r[3]=1),r},b.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=gr(e,"rgba"),"array"===vr(e)&&(3===e.length||4===e.length&&"number"==vr(e[3])&&0<=e[3]&&e[3]<=1))return"rgb"}}),Math.log),yr=De,wr=e.unpack,Er=Math.round,c=l,E=s,b=o,Sr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var r=wr(e,"rgb"),n=r[0],a=r[2],o=1e3,s=4e4;.4<s-o;){var i,l=yr(i=.5*(s+o));l[2]/l[0]>=a/n?s=i:o=i}return Er(i)},kr=(E.prototype.temp=E.prototype.kelvin=E.prototype.temperature=function(){return Sr(this._rgb)},c.temp=c.kelvin=c.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(E,[null].concat(e,["temp"])))},b.format.temp=b.format.kelvin=b.format.temperature=De,e.unpack),_r=Math.cbrt,xr=Math.pow,Or=Math.sign;function jr(e){var t=Math.abs(e);return t<.04045?e/12.92:(Or(e)||1)*xr((t+.055)/1.055,2.4)}function Ir(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=Cr(e,"lab"))[0],n=e[1],a=e[2],o=S(r+.3963377774*n+.2158037573*a,3),s=S(r-.1055613458*n-.0638541728*a,3),r=S(r-.0894841775*n-1.291485548*a,3);return[255*Lr(4.0767416621*o-3.3077115913*s+.2309699292*r),255*Lr(-1.2684380046*o+2.6097574011*s-.3413193965*r),255*Lr(-.0041960863*o-.7034186147*s+1.707614701*r),3<e.length?e[3]:1]}var Cr=e.unpack,S=Math.pow,Nr=Math.sign;function Lr(e){var t=Math.abs(e);return.0031308<t?(Nr(e)||1)*(1.055*S(t,1/2.4)-.055):12.92*e}function Rr(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=Br(e,"lch"))[0],n=e[1],a=e[2],n=(r=Ur(r,n,a))[0],a=r[1],r=r[2];return[(n=Gr(n,a,r))[0],n[1],n[2],3<e.length?e[3]:1]}var Pr=e.unpack,Ar=e.type,c=l,Tr=s,b=o,Mr=$e,Dr=(Tr.prototype.oklab=function(){return Mr(this._rgb)},c.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Tr,[null].concat(e,["oklab"])))},b.format.oklab=Ir,b.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Pr(e,"oklab"),"array"===Ar(e)&&3===e.length)return"oklab"}}),e.unpack),$r=$e,Fr=Re,Br=e.unpack,Ur=Pe,Gr=Ir,Hr=e.unpack,qr=e.type,c=l,Vr=s,b=o,zr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Dr(e,"rgb"),n=r[0],a=r[1],r=r[2],n=$r(n,a,r),a=n[0],r=n[1],n=n[2];return Fr(a,r,n)},Kr=(Vr.prototype.oklch=function(){return zr(this._rgb)},c.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Vr,[null].concat(e,["oklch"])))},b.format.oklch=Rr,b.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Hr(e,"oklch"),"array"===qr(e)&&3===e.length)return"oklch"}}),s),Wr=e.type;Kr.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===Wr(e)?t?(this._rgb[3]=e,this):new Kr([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};s.prototype.clipped=function(){return this._rgb._clipped||!1};var k=s,Jr=u;k.prototype.darken=function(e){void 0===e&&(e=1);var t=this.lab();return t[0]-=Jr.Kn*e,new k(t,"lab").alpha(this.alpha(),!0)},k.prototype.brighten=function(e){return this.darken(-(e=void 0===e?1:e))},k.prototype.darker=k.prototype.darken,k.prototype.brighter=k.prototype.brighten;function Xr(e,t,r){void 0===r&&(r=.5);for(var n=[],a=arguments.length-3;0<a--;)n[a]=arguments[a+3];var o=n[0]||"lrgb";if(O[o]||n.length||(o=Object.keys(O)[0]),O[o])return"object"!==an(e)&&(e=new nn(e)),"object"!==an(t)&&(t=new nn(t)),O[o](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()));throw new Error("interpolation mode "+o+" is not defined")}function _(e,t,r,n){var a,o,s,i,l,c,u,p,d,h;return"hsl"===n?(h=e.hsl(),a=t.hsl()):"hsv"===n?(h=e.hsv(),a=t.hsv()):"hcg"===n?(h=e.hcg(),a=t.hcg()):"hsi"===n?(h=e.hsi(),a=t.hsi()):"lch"===n||"hcl"===n?(n="hcl",h=e.hcl(),a=t.hcl()):"oklch"===n&&(h=e.oklch().reverse(),a=t.oklch().reverse()),"h"!==n.substr(0,1)&&"oklch"!==n||(o=(e=h)[0],i=e[1],c=e[2],s=(t=a)[0],l=t[1],u=t[2]),isNaN(o)||isNaN(s)?isNaN(o)?isNaN(s)?d=Number.NaN:(d=s,1!=c&&0!=c||"hsv"==n||(p=l)):(d=o,1!=u&&0!=u||"hsv"==n||(p=i)):d=o+r*(o<s&&180<s-o?s-(o+360):s<o&&180<o-s?s+360-o:s-o),void 0===p&&(p=i+r*(l-i)),h=c+r*(u-c),new gn("oklch"===n?[h,p,d]:[d,p,h],n)}function Yr(e,t,r){return vn(e,t,r,"lch")}function Qr(c){function r(e){if((e=e||["#fff","#000"])&&"string"===C(e)&&I.brewer&&I.brewer[e.toLowerCase()]&&(e=I.brewer[e.toLowerCase()]),"array"===C(e)){e=(e=1===e.length?[e[0],e[0]]:e).slice(0);for(var t=0;t<e.length;t++)e[t]=I(e[t]);for(var r=l.length=0;r<e.length;r++)l.push(r/(e.length-1))}n(),m=e}function u(e,t){var r,n;if(null==t&&(t=!1),isNaN(e)||null===e)return i;if(n=t?e:f&&2<f.length?E(e)/(f.length-2):v!==g?(e-g)/(v-g):1,n=k(n),t||(n=S(n)),1!==w&&(n=Pn(n,w)),n=h[0]+n*(1-h[0]-h[1]),n=Math.min(1,Math.max(0,n)),e=Math.floor(1e4*n),y&&b[e])r=b[e];else{if("array"===C(m))for(var a=0;a<l.length;a++){var o=l[a];if(n<=o){r=m[a];break}if(o<=n&&a===l.length-1){r=m[a];break}if(o<n&&n<l[a+1]){n=(n-o)/(l[a+1]-o),r=I.interpolate(m[a],m[a+1],n,s);break}}else"function"===C(m)&&(r=m(n));y&&(b[e]=r)}return r}function n(){b={}}function p(e){return e=I(u(e)),a&&e[a]?e[a]():e}var s="rgb",i=I("#ccc"),t=0,d=[0,1],l=[],h=[0,0],f=!1,m=[],a=!1,g=0,v=1,b={},y=!0,w=1,E=function(e){if(null==f)return 0;for(var t=f.length-1,r=0;r<t&&e>=f[r];)r++;return r-1},S=function(e){return e},k=function(e){return e};return r(c),p.classes=function(e){var t;return null!=e?("array"===C(e)?d=[(f=e)[0],e[e.length-1]]:(t=I.analyze(d),f=0===e?[t.min,t.max]:I.limits(t,"e",e)),p):f},p.domain=function(r){if(!arguments.length)return d;g=r[0],v=r[r.length-1],l=[];var e=m.length;if(r.length===e&&g!==v)for(var t=0,n=Array.from(r);t<n.length;t+=1){var a=n[t];l.push((a-g)/(v-g))}else{for(var o,s,i=0;i<e;i++)l.push(i/(e-1));2<r.length&&(o=r.map(function(e,t){return t/(r.length-1)}),(s=r.map(function(e){return(e-g)/(v-g)})).every(function(e,t){return o[t]===e})||(k=function(e){if(e<=0||1<=e)return e;for(var t=0;e>=s[t+1];)t++;var r=(e-s[t])/(s[t+1]-s[t]);return o[t]+r*(o[t+1]-o[t])}))}return d=[g,v],p},p.mode=function(e){return arguments.length?(s=e,n(),p):s},p.range=function(e,t){return r(e),p},p.out=function(e){return a=e,p},p.spread=function(e){return arguments.length?(t=e,p):t},p.correctLightness=function(e){return n(),S=(e=null==e?!0:e)?function(e){for(var t=u(0,!0).lab()[0],r=u(1,!0).lab()[0],n=r<t,a=u(e,!0).lab()[0],o=t+(r-t)*e,s=a-o,i=0,l=1,c=20;.01<Math.abs(s)&&0<c--;)n&&(s*=-1),e+=s<0?.5*(l-(i=e)):.5*(i-(l=e)),a=u(e,!0).lab()[0],s=a-o;return e}:function(e){return e},p},p.padding=function(e){return null!=e?("number"===C(e)&&(e=[e,e]),h=e,p):h},p.colors=function(t,r){arguments.length<2&&(r="hex");var e=[];if(0===arguments.length)e=m.slice(0);else if(1===t)e=[p(.5)];else if(1<t)var n=d[0],a=d[1]-n,e=function(e,t,r){for(var n=[],a=e<t,o=r?a?t+1:t-1:t,s=e;a?s<o:o<s;a?s++:s--)n.push(s);return n}(0,t,!1).map(function(e){return p(n+e/(t-1)*a)});else{c=[];var o=[];if(f&&2<f.length)for(var s=1,i=f.length,l=1<=i;l?s<i:i<s;l?s++:s--)o.push(.5*(f[s-1]+f[s]));else o=d;e=o.map(p)}return e=I[r]?e.map(function(e){return e[r]()}):e},p.cache=function(e){return null!=e?(y=e,p):y},p.gamma=function(e){return null!=e?(w=e,p):w},p.nodata=function(e){return null!=e?(i=I(e),p):i},p}s.prototype.get=function(e){var e=e.split("."),t=e[0],e=e[1],r=this[t]();if(e){var n=t.indexOf(e)-("ok"===t.substr(0,2)?2:0);if(-1<n)return r[n];throw new Error("unknown channel "+e+" in mode "+t)}return r};var x=s,Zr=e.type,en=Math.pow,tn=(x.prototype.luminance=function(a){var o,s,i,e;return void 0!==a&&"number"===Zr(a)?0===a?new x([0,0,0,this._rgb[3]],"rgb"):1===a?new x([255,255,255,this._rgb[3]],"rgb"):(e=this.luminance(),o="rgb",s=20,i=function(e,t){var r=e.interpolate(t,.5,o),n=r.luminance();return Math.abs(a-n)<1e-7||!s--?r:a<n?i(e,r):i(r,t)},e=(a<e?i(new x([0,0,0]),this):i(this,new x([255,255,255]))).rgb(),new x(e.concat([this._rgb[3]]))):tn.apply(void 0,this._rgb.slice(0,3))},function(e,t,r){return.2126*(e=rn(e))+.7152*(t=rn(t))+.0722*(r=rn(r))}),rn=function(e){return(e/=255)<=.03928?e/12.92:en((e+.055)/1.055,2.4)},o={},nn=s,an=e.type,O=o,c=s,on=Xr,sn=(c.prototype.mix=c.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var r=[],n=arguments.length-2;0<n--;)r[n]=arguments[n+2];return on.apply(void 0,[this,e,t].concat(r))},s),ln=(sn.prototype.premultiply=function(e){var t=this._rgb,r=t[3];return(e=void 0===e?!1:e)?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new sn([t[0]*r,t[1]*r,t[2]*r,r],"rgb")},s),cn=u,un=(ln.prototype.saturate=function(e){void 0===e&&(e=1);var t=this.lch();return t[1]+=cn.Kn*e,t[1]<0&&(t[1]=0),new ln(t,"lch").alpha(this.alpha(),!0)},ln.prototype.desaturate=function(e){return this.saturate(-(e=void 0===e?1:e))},s),pn=e.type,dn=(un.prototype.set=function(e,t,r){void 0===r&&(r=!1);var e=e.split("."),n=e[0],e=e[1],a=this[n]();if(e){var o=n.indexOf(e)-("ok"===n.substr(0,2)?2:0);if(-1<o){if("string"==pn(t))switch(t.charAt(0)){case"+":case"-":a[o]+=+t;break;case"*":a[o]*=+t.substr(1);break;case"/":a[o]/=+t.substr(1);break;default:a[o]=+t}else{if("number"!==pn(t))throw new Error("unsupported value for Color.set");a[o]=t}var s=new un(a,n);return r?(this._rgb=s._rgb,this):s}throw new Error("unknown channel "+e+" in mode "+n)}return a},s),hn=(o.rgb=function(e,t,r){e=e._rgb,t=t._rgb;return new dn(e[0]+r*(t[0]-e[0]),e[1]+r*(t[1]-e[1]),e[2]+r*(t[2]-e[2]),"rgb")},s),fn=Math.sqrt,j=Math.pow,mn=(o.lrgb=function(e,t,r){var e=e._rgb,n=e[0],a=e[1],e=e[2],t=t._rgb,o=t[0],s=t[1],t=t[2];return new hn(fn(j(n,2)*(1-r)+j(o,2)*r),fn(j(a,2)*(1-r)+j(s,2)*r),fn(j(e,2)*(1-r)+j(t,2)*r),"rgb")},s),gn=(o.lab=function(e,t,r){e=e.lab(),t=t.lab();return new mn(e[0]+r*(t[0]-e[0]),e[1]+r*(t[1]-e[1]),e[2]+r*(t[2]-e[2]),"lab")},s),vn=_,bn=(o.lch=Yr,o.hcl=Yr,s),yn=(o.num=function(e,t,r){e=e.num(),t=t.num();return new bn(e+r*(t-e),"num")},_),wn=(o.hcg=function(e,t,r){return yn(e,t,r,"hcg")},_),En=(o.hsi=function(e,t,r){return wn(e,t,r,"hsi")},_),Sn=(o.hsl=function(e,t,r){return En(e,t,r,"hsl")},_),kn=(o.hsv=function(e,t,r){return Sn(e,t,r,"hsv")},s),_n=(o.oklab=function(e,t,r){e=e.oklab(),t=t.oklab();return new kn(e[0]+r*(t[0]-e[0]),e[1]+r*(t[1]-e[1]),e[2]+r*(t[2]-e[2]),"oklab")},_),xn=(o.oklch=function(e,t,r){return _n(e,t,r,"oklch")},s),On=e.clip_rgb,jn=Math.pow,In=Math.sqrt,Cn=Math.PI,Nn=Math.cos,Ln=Math.sin,Rn=Math.atan2,I=l,C=e.type,Pn=Math.pow;for(var N=s,An=Qr,Tn=function(e){for(var t=[1,1],r=1;r<e;r++){for(var n=[1],a=1;a<=t.length;a++)n[a]=(t[a]||0)+t[a-1];t=n}return t},Mn=l,L=function(e,t,r){if(L[r])return L[r](e,t);throw new Error("unknown blend mode "+r)},b=function(r){return function(e,t){t=Mn(t).rgb(),e=Mn(e).rgb();return Mn.rgb(r(t,e))}},c=function(n){return function(e,t){var r=[];return r[0]=n(e[0],t[0]),r[1]=n(e[1],t[1]),r[2]=n(e[2],t[2]),r}},u=(L.normal=b(c(function(e){return e})),L.multiply=b(c(function(e,t){return e*t/255})),L.screen=b(c(function(e,t){return 255*(1-(1-e/255)*(1-t/255))})),L.overlay=b(c(function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))})),L.darken=b(c(function(e,t){return t<e?t:e})),L.lighten=b(c(function(e,t){return t<e?e:t})),L.dodge=b(c(function(e,t){return 255===e||255<(e=t/255*255/(1-e/255))?255:e})),L.burn=b(c(function(e,t){return 255*(1-(1-t/255)/(e/255))})),L),Dn=e.type,$n=e.clip_rgb,Fn=e.TWOPI,Bn=Math.pow,Un=Math.sin,Gn=Math.cos,Hn=l,qn=s,Vn=Math.floor,zn=Math.random,Kn=r,Wn=Math.log,Jn=Math.pow,Xn=Math.floor,Yn=Math.abs,Qn=function(e,t){void 0===t&&(t=null);var r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return(e="object"===Kn(e)?Object.values(e):e).forEach(function(e){null==(e=t&&"object"===Kn(e)?e[t]:e)||isNaN(e)||(r.values.push(e),r.sum+=e,e<r.min&&(r.min=e),e>r.max&&(r.max=e),r.count+=1)}),r.domain=[r.min,r.max],r.limits=function(e,t){return Zn(r,e,t)},r},Zn=function(e,t,r){void 0===t&&(t="equal"),void 0===r&&(r=7);var n=(e="array"==Kn(e)?Qn(e):e).min,a=e.max,o=e.values.sort(function(e,t){return e-t});if(1===r)return[n,a];var s=[];if("c"===t.substr(0,1)&&(s.push(n),s.push(a)),"e"===t.substr(0,1)){s.push(n);for(var i=1;i<r;i++)s.push(n+i/r*(a-n));s.push(a)}else if("l"===t.substr(0,1)){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*Wn(n),M=Math.LOG10E*Wn(a);s.push(n);for(var c=1;c<r;c++)s.push(Jn(10,l+c/r*(M-l)));s.push(a)}else if("q"===t.substr(0,1)){s.push(n);for(var u=1;u<r;u++){var p=(o.length-1)*u/r,d=Xn(p);d===p?s.push(o[d]):s.push(o[d]*(1-(p=p-d))+o[d+1]*p)}s.push(a)}else if("k"===t.substr(0,1)){var h,f=o.length,m=new Array(f),g=new Array(r),v=!0,D=0,b=null;(b=[]).push(n);for(var y=1;y<r;y++)b.push(n+y/r*(a-n));for(b.push(a);v;){for(var w=0;w<r;w++)g[w]=0;for(var E=0;E<f;E++)for(var $=o[E],F=Number.MAX_VALUE,S=void 0,k=0;k<r;k++){var B=Yn(b[k]-$);B<F&&(F=B,S=k),g[S]++,m[E]=S}for(var _=new Array(r),x=0;x<r;x++)_[x]=null;for(var O=0;O<f;O++)null===_[h=m[O]]?_[h]=o[O]:_[h]+=o[O];for(var j=0;j<r;j++)_[j]*=1/g[j];for(var v=!1,I=0;I<r;I++)if(_[I]!==b[I]){v=!0;break}b=_,200<++D&&(v=!1)}for(var C={},N=0;N<r;N++)C[N]=[];for(var L=0;L<f;L++)C[h=m[L]].push(o[L]);for(var R=[],P=0;P<r;P++)R.push(C[P][0]),R.push(C[P][C[P].length-1]);R=R.sort(function(e,t){return e-t}),s.push(R[0]);for(var A=1;A<R.length;A+=2){var T=R[A];isNaN(T)||-1!==s.indexOf(T)||s.push(T)}}return s},o=Qn,b=Zn,ea=s,ta=s,R=Math.sqrt,P=Math.pow,ra=Math.min,na=Math.max,aa=Math.atan2,oa=Math.abs,A=Math.cos,sa=Math.sin,ia=Math.exp,la=Math.PI,ca=s,ua=s,pa=l,da=Qr,c={cool:function(){return da([pa.hsl(180,1,.9),pa.hsl(250,.7,.4)])},hot:function(){return da(["#000","#f00","#ff0","#fff"]).mode("rgb")}},T={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},ha=0,fa=Object.keys(T);ha<fa.length;ha+=1){var ma=fa[ha];T[ma.toLowerCase()]=T[ma]}e=T,s=l;return s.average=function(e,o,s){void 0===o&&(o="lrgb"),void 0===s&&(s=null);var t=e.length,r=t/(s=s||Array.from(new Array(t)).map(function(){return 1})).reduce(function(e,t){return e+t});if(s.forEach(function(e,t){s[t]*=r}),e=e.map(function(e){return new xn(e)}),"lrgb"===o){for(var n=e,a=s,i=n.length,l=[0,0,0,0],c=0;c<n.length;c++){var u=n[c];var p=a[c]/i;u=u._rgb;l[0]+=jn(u[0],2)*p;l[1]+=jn(u[1],2)*p;l[2]+=jn(u[2],2)*p;l[3]+=u[3]*p}if(l[0]=In(l[0]),l[1]=In(l[1]),l[2]=In(l[2]),l[3]>.9999999)l[3]=1;return new xn(On(l))}for(var d,h=e.shift(),f=h.get(o),m=[],g=0,v=0,b=0;b<f.length;b++)f[b]=(f[b]||0)*s[0],m.push(isNaN(f[b])?0:s[0]),"h"!==o.charAt(b)||isNaN(f[b])||(d=f[b]/180*Cn,g+=Nn(d)*s[0],v+=Ln(d)*s[0]);var y=h.alpha()*s[0];e.forEach(function(e,t){var r=e.get(o);y+=e.alpha()*s[t+1];for(var n,a=0;a<f.length;a++)isNaN(r[a])||(m[a]+=s[t+1],"h"===o.charAt(a)?(n=r[a]/180*Cn,g+=Nn(n)*s[t+1],v+=Ln(n)*s[t+1]):f[a]+=r[a]*s[t+1])});for(var w=0;w<f.length;w++)if("h"===o.charAt(w)){for(var E=Rn(v/m[w],g/m[w])/Cn*180;E<0;)E+=360;for(;360<=E;)E-=360;f[w]=E}else f[w]=f[w]/m[w];return y/=t,new xn(f,o).alpha(.99999<y?1:y,!0)},s.bezier=function(e){var t=function(e){if(2===(e=e.map(function(e){return new N(e)})).length)s=e.map(function(e){return e.lab()}),r=s[0],n=s[1],s=function(t){var e=[0,1,2].map(function(e){return r[e]+t*(n[e]-r[e])});return new N(e,"lab")};else if(3===e.length)t=e.map(function(e){return e.lab()}),r=t[0],n=t[1],a=t[2],s=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*r[e]+2*(1-t)*t*n[e]+t*t*a[e]});return new N(e,"lab")};else if(4===e.length)var t,r=(t=e.map(function(e){return e.lab()}))[0],n=t[1],a=t[2],o=t[3],s=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*(1-t)*r[e]+3*(1-t)*(1-t)*t*n[e]+3*(1-t)*t*t*a[e]+t*t*t*o[e]});return new N(e,"lab")};else{if(!(5<=e.length))throw new RangeError("No point in running bezier with only one color.");var i=e.map(function(e){return e.lab()}),l=e.length-1,c=Tn(l);s=function(a){var o=1-a,e=[0,1,2].map(function(n){return i.reduce(function(e,t,r){return e+c[r]*Math.pow(o,l-r)*Math.pow(a,r)*t[n]},0)});return new N(e,"lab")}}return s}(e);return t.scale=function(){return An(t)},t},s.blend=u,s.cubehelix=function(a,o,s,i,l){void 0===a&&(a=300),void 0===o&&(o=-1.5),void 0===s&&(s=1),void 0===i&&(i=1);function t(e){var t=Fn*((a+120)/360+o*e),r=Bn(l[0]+c*e,i),e=(0!==u?s[0]+e*u:s)*r*(1-r)/2,n=Gn(t),t=Un(t);return Hn($n([255*(r+e*(-.14861*n+1.78277*t)),255*(r+e*(-.29227*n-.90649*t)),255*(r+1.97294*n*e),1]))}var c,u=0;"array"===Dn(l=void 0===l?[0,1]:l)?c=l[1]-l[0]:(c=0,l=[l,l]);return t.start=function(e){return null==e?a:(a=e,t)},t.rotations=function(e){return null==e?o:(o=e,t)},t.gamma=function(e){return null==e?i:(i=e,t)},t.hue=function(e){return null==e?s:("array"===Dn(s=e)?0===(u=s[1]-s[0])&&(s=s[1]):u=0,t)},t.lightness=function(e){return null==e?l:(c="array"===Dn(e)?(l=e)[1]-e[0]:(l=[e,e],0),t)},t.scale=function(){return Hn.scale(t)},t.hue(s),t},s.mix=s.interpolate=Xr,s.random=function(){for(var e="#",t=0;t<6;t++)e+="0123456789abcdef".charAt(Vn(16*zn()));return new qn(e,"hex")},s.scale=Qr,s.analyze=o,s.contrast=function(e,t){e=new ea(e),t=new ea(t);e=e.luminance(),t=t.luminance();return t<e?(e+.05)/(t+.05):(t+.05)/(e+.05)},s.deltaE=function(e,t,r,n,a){void 0===r&&(r=1),void 0===n&&(n=1),void 0===a&&(a=1);function o(e){return 360*e/(2*la)}function s(e){return 2*la*e/360}e=new ta(e),t=new ta(t);var e=Array.from(e.lab()),i=e[0],l=e[1],e=e[2],t=Array.from(t.lab()),c=t[0],u=t[1],t=t[2],p=(i+c)/2,d=(R(P(l,2)+P(e,2))+R(P(u,2)+P(t,2)))/2,d=.5*(1-R(P(d,7)/(P(d,7)+P(25,7)))),l=l*(1+d),u=u*(1+d),d=R(P(l,2)+P(e,2)),h=R(P(u,2)+P(t,2)),f=(d+h)/2,e=o(aa(e,l)),l=o(aa(t,u)),t=0<=e?e:e+360,u=0<=l?l:l+360,e=180<oa(t-u)?(t+u+360)/2:(t+u)/2,l=1-.17*A(s(e-30))+.24*A(s(2*e))+.32*A(s(3*e+6))-.2*A(s(4*e-63)),m=oa(m=u-t)<=180?m:u<=t?m+360:m-360,u=(m=2*R(d*h)*sa(s(m)/2),c-i),t=h-d,c=1+.015*P(p-50,2)/R(20+P(p-50,2)),i=1+.045*f,h=1+.015*f*l,d=30*ia(-P((e-275)/25,2)),p=-(2*R(P(f,7)/(P(f,7)+P(25,7))))*sa(2*s(d)),l=R(P(u/(r*c),2)+P(t/(n*i),2)+P(m/(a*h),2)+t/(n*i)*p*(m/(a*h)));return na(0,ra(100,l))},s.distance=function(e,t,r){void 0===r&&(r="lab"),e=new ca(e),t=new ca(t);var n,a=e.get(r),o=t.get(r),s=0;for(n in a){var i=(a[n]||0)-(o[n]||0);s+=i*i}return Math.sqrt(s)},s.limits=b,s.valid=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(ua,[null].concat(e))),!0}catch(e){return!1}},s.scales=c,s.colors=g,s.brewer=e,s},"object"==typeof(e=e)&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):(e="undefined"!=typeof globalThis?globalThis:e||self).chroma=r()}}),sa=e({"node_modules/react-simple-code-editor/lib/index.js"(e){"use strict";var n,t,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),S=e&&e.__assign||function(){return(S=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&("get"in a?t.__esModule:!a.writable&&!a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return o(t,e),t},k=e&&e.__rest||function(e,t){var r={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r},_=(Object.defineProperty(e,"__esModule",{value:!0}),s(m("react"))),g="undefined"!=typeof window&&"navigator"in window&&/Win/i.test(navigator.platform),v="undefined"!=typeof window&&"navigator"in window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),x="npm__react-simple-code-editor__textarea",O="\n/**\n * Reset the text fill color so that placeholder is visible\n */\n.".concat(x,":empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  .").concat(x," {\n    color: transparent !important;\n  }\n\n  .").concat(x,"::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n"),s=(t=_.Component,r(i,t),i.prototype.componentDidMount=function(){this._recordCurrentState()},Object.defineProperty(i.prototype,"session",{get:function(){return{history:this._history}},set:function(e){this._history=e.history},enumerable:!1,configurable:!0}),i.prototype.render=function(){var t=this,e=this.props,r=e.value,n=e.style,a=e.padding,o=e.highlight,s=e.textareaId,i=e.textareaClassName,l=e.autoFocus,c=e.disabled,u=e.form,p=e.maxLength,d=e.minLength,h=e.name,f=e.placeholder,m=e.readOnly,g=e.required,v=e.onClick,b=e.onFocus,y=e.onBlur,w=e.onKeyUp,E=(e.onKeyDown,e.onValueChange,e.tabSize,e.insertSpaces,e.ignoreTabKey,e.preClassName),e=k(e,["value","style","padding","highlight","textareaId","textareaClassName","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey","preClassName"]),a={paddingTop:"object"==typeof a?a.top:a,paddingRight:"object"==typeof a?a.right:a,paddingBottom:"object"==typeof a?a.bottom:a,paddingLeft:"object"==typeof a?a.left:a},o=o(r);return _.createElement("div",S({},e,{style:S(S({},j.container),n)}),_.createElement("pre",S({className:E,"aria-hidden":"true",style:S(S(S({},j.editor),j.highlight),a)},"string"==typeof o?{dangerouslySetInnerHTML:{__html:o+"<br />"}}:{children:o})),_.createElement("textarea",{ref:function(e){return t._input=e},style:S(S(S({},j.editor),j.textarea),a),className:x+(i?" ".concat(i):""),id:s,value:r,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:v,onKeyUp:w,onFocus:b,onBlur:y,disabled:c,form:u,maxLength:p,minLength:d,name:h,placeholder:f,readOnly:m,required:g,autoFocus:l,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),_.createElement("style",{dangerouslySetInnerHTML:{__html:O}}))},i.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},i);function i(){var m=null!==t&&t.apply(this,arguments)||this;return m.state={capture:!0},m._recordCurrentState=function(){var e,t,r=m._input;r&&(e=r.value,t=r.selectionStart,r=r.selectionEnd,m._recordChange({value:e,selectionStart:t,selectionEnd:r}))},m._getLines=function(e,t){return e.substring(0,t).split("\n")},m._recordChange=function(e,t){void 0===t&&(t=!1);var r=m._history,n=r.stack,r=r.offset,r=(n.length&&-1<r&&(m._history.stack=n.slice(0,r+1),100<(r=m._history.stack.length)&&(m._history.stack=n.slice(n=r-100,r),m._history.offset=Math.max(m._history.offset-n,0))),Date.now());if(t){var n=m._history.stack[m._history.offset];if(n&&r-n.timestamp<3e3){var t=/[^a-z0-9]([a-z0-9]+)$/i,n=null==(n=m._getLines(n.value,n.selectionStart).pop())?void 0:n.match(t),a=null==(a=m._getLines(e.value,e.selectionStart).pop())?void 0:a.match(t);if(null!=n&&n[1]&&null!=(t=null==a?void 0:a[1])&&t.startsWith(n[1]))return void(m._history.stack[m._history.offset]=S(S({},e),{timestamp:r}))}}m._history.stack.push(S(S({},e),{timestamp:r})),m._history.offset++},m._updateInput=function(e){var t=m._input;t&&(t.value=e.value,t.selectionStart=e.selectionStart,t.selectionEnd=e.selectionEnd,m.props.onValueChange(e.value))},m._applyEdits=function(e){var t=m._input,r=m._history.stack[m._history.offset];r&&t&&(m._history.stack[m._history.offset]=S(S({},r),{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})),m._recordChange(e),m._updateInput(e)},m._undoEdit=function(){var e=m._history,t=e.stack,e=e.offset,t=t[e-1];t&&(m._updateInput(t),m._history.offset=Math.max(e-1,0))},m._redoEdit=function(){var e=m._history,t=e.stack,e=e.offset,r=t[e+1];r&&(m._updateInput(r),m._history.offset=Math.min(e+1,t.length-1))},m._handleKeyDown=function(e){var t,r,n,a,o,s,i,l,c,u,p=m.props,d=p.tabSize,h=p.insertSpaces,f=p.ignoreTabKey,p=p.onKeyDown;p&&(p(e),e.defaultPrevented)||(27===e.keyCode&&e.currentTarget.blur(),t=(p=e.currentTarget).value,r=p.selectionStart,p=p.selectionEnd,n=(h?" ":"\t").repeat(d),9===e.keyCode&&!f&&m.state.capture?(e.preventDefault(),e.shiftKey?(a=(l=m._getLines(t,r)).length-1,o=m._getLines(t,p).length-1,h=t.split("\n").map(function(e,t){return a<=t&&t<=o&&e.startsWith(n)?e.substring(n.length):e}).join("\n"),t!==h&&(u=l[a],m._applyEdits({value:h,selectionStart:null!=u&&u.startsWith(n)?r-n.length:r,selectionEnd:p-(t.length-h.length)}))):r!==p?(s=(l=m._getLines(t,r)).length-1,i=m._getLines(t,p).length-1,u=l[s],m._applyEdits({value:t.split("\n").map(function(e,t){return s<=t&&t<=i?n+e:e}).join("\n"),selectionStart:u&&/\S/.test(u)?r+n.length:r,selectionEnd:p+n.length*(i-s+1)})):(c=r+n.length,m._applyEdits({value:t.substring(0,r)+n+t.substring(p),selectionStart:c,selectionEnd:c}))):8===e.keyCode?(d=r!==p,t.substring(0,r).endsWith(n)&&!d&&(e.preventDefault(),c=r-n.length,m._applyEdits({value:t.substring(0,r-n.length)+t.substring(p),selectionStart:c,selectionEnd:c}))):13===e.keyCode?r===p&&null!=(h=null==(f=m._getLines(t,r).pop())?void 0:f.match(/^\s+/))&&h[0]&&(e.preventDefault(),c=r+(l="\n"+h[0]).length,m._applyEdits({value:t.substring(0,r)+l+t.substring(p),selectionStart:c,selectionEnd:c})):57===e.keyCode||219===e.keyCode||222===e.keyCode||192===e.keyCode?(u=void 0,57===e.keyCode&&e.shiftKey?u=["(",")"]:219===e.keyCode?u=e.shiftKey?["{","}"]:["[","]"]:222===e.keyCode?u=e.shiftKey?['"','"']:["'","'"]:192!==e.keyCode||e.shiftKey||(u=["`","`"]),r!==p&&u&&(e.preventDefault(),m._applyEdits({value:t.substring(0,r)+u[0]+t.substring(r,p)+u[1]+t.substring(p),selectionStart:r,selectionEnd:p+2}))):(v?e.metaKey&&90===e.keyCode:e.ctrlKey&&90===e.keyCode)&&!e.shiftKey&&!e.altKey?(e.preventDefault(),m._undoEdit()):(v?e.metaKey&&90===e.keyCode&&e.shiftKey:g?e.ctrlKey&&89===e.keyCode:e.ctrlKey&&90===e.keyCode&&e.shiftKey)&&!e.altKey?(e.preventDefault(),m._redoEdit()):77!==e.keyCode||!e.ctrlKey||v&&!e.shiftKey||(e.preventDefault(),m.setState(function(e){return{capture:!e.capture}})))},m._handleChange=function(e){var e=e.currentTarget,t=e.value,r=e.selectionStart,e=e.selectionEnd;m._recordChange({value:t,selectionStart:r,selectionEnd:e},!0),m.props.onValueChange(t)},m._history={stack:[],offset:-1},m._input=null,m}e.default=s;var j={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}}}}),ia=e({"node_modules/prismjs/components/prism-core.js"(e,t){var l,r,n,a,N,o="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},o=(r=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,a={},N={manual:(l=o).Prism&&l.Prism.manual,disableWorkerMessageHandler:l.Prism&&l.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof L?new L(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function r(e,n){var a,t;switch(n=n||{},N.util.type(e)){case"Object":if(t=N.util.objId(e),n[t])return n[t];for(var o in a={},n[t]=a,e)e.hasOwnProperty(o)&&(a[o]=r(e[o],n));return a;case"Array":return(t=N.util.objId(e),n[t])?n[t]:(a=[],n[t]=a,e.forEach(function(e,t){a[t]=r(e,n)}),a);default:return e}},getLanguage:function(e){for(;e;){var t=r.exec(e.className);if(t)return t[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,t){e.className=e.className.replace(RegExp(r,"gi"),""),e.classList.add("language-"+t)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(e){var t=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(e.stack)||[])[1];if(t){var r,n=document.getElementsByTagName("script");for(r in n)if(n[r].src==t)return n[r]}return null}},isActive:function(e,t,r){for(var n="no-"+t;e;){var a=e.classList;if(a.contains(t))return!0;if(a.contains(n))return!1;e=e.parentElement}return!!r}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(e,t){var r,n=N.util.clone(N.languages[e]);for(r in t)n[r]=t[r];return n},insertBefore:function(r,e,t,n){var a,o=(n=n||N.languages)[r],s={};for(a in o)if(o.hasOwnProperty(a)){if(a==e)for(var i in t)t.hasOwnProperty(i)&&(s[i]=t[i]);t.hasOwnProperty(a)||(s[a]=o[a])}var l=n[r];return n[r]=s,N.languages.DFS(N.languages,function(e,t){t===l&&e!=r&&(this[e]=s)}),s},DFS:function e(t,r,n,a){a=a||{};var o,s,i,l=N.util.objId;for(o in t)t.hasOwnProperty(o)&&(r.call(t,o,t[o],n||o),s=t[o],"Object"!==(i=N.util.type(s))||a[l(s)]?"Array"!==i||a[l(s)]||(a[l(s)]=!0,e(s,r,o,a)):(a[l(s)]=!0,e(s,r,null,a)))}},plugins:{},highlightAll:function(e,t){N.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,r){var n={callback:r,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};N.hooks.run("before-highlightall",n),n.elements=Array.prototype.slice.apply(n.container.querySelectorAll(n.selector)),N.hooks.run("before-all-elements-highlight",n);for(var a,o=0;a=n.elements[o++];)N.highlightElement(a,!0===t,n.callback)},highlightElement:function(e,t,r){var n=N.util.getLanguage(e),a=N.languages[n],o=(N.util.setLanguage(e,n),e.parentElement);o&&"pre"===o.nodeName.toLowerCase()&&N.util.setLanguage(o,n);var s={element:e,language:n,grammar:a,code:e.textContent};function i(e){s.highlightedCode=e,N.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,N.hooks.run("after-highlight",s),N.hooks.run("complete",s),r&&r.call(s.element)}N.hooks.run("before-sanity-check",s),(o=s.element.parentElement)&&"pre"===o.nodeName.toLowerCase()&&!o.hasAttribute("tabindex")&&o.setAttribute("tabindex","0"),s.code?(N.hooks.run("before-highlight",s),s.grammar?t&&l.Worker?((n=new Worker(N.filename)).onmessage=function(e){i(e.data)},n.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))):i(N.highlight(s.code,s.grammar,s.language)):i(N.util.encode(s.code))):(N.hooks.run("complete",s),r&&r.call(s.element))},highlight:function(e,t,r){e={code:e,grammar:t,language:r};if(N.hooks.run("before-tokenize",e),e.grammar)return e.tokens=N.tokenize(e.code,e.grammar),N.hooks.run("after-tokenize",e),L.stringify(N.util.encode(e.tokens),e.language);throw new Error('The language "'+e.language+'" has no grammar.')},tokenize:function(e,t){var r=t.rest;if(r){for(var n in r)t[n]=r[n];delete t.rest}for(var a=new c,o=(P(a,a.head,e),!function e(t,r,n,a,o,s){for(var i in n)if(n.hasOwnProperty(i)&&n[i]){var l=n[i];l=Array.isArray(l)?l:[l];for(var c=0;c<l.length;++c){if(s&&s.cause==i+","+c)return;for(var u,p=l[c],d=p.inside,h=!!p.lookbehind,f=!!p.greedy,m=p.alias,g=(f&&!p.pattern.global&&(u=p.pattern.toString().match(/[imsuy]*$/)[0],p.pattern=RegExp(p.pattern.source,u+"g")),p.pattern||p),v=a.next,b=o;v!==r.tail&&!(s&&b>=s.reach);b+=v.value.length,v=v.next){var y=v.value;if(r.length>t.length)return;if(!(y instanceof L)){var w,E=1;if(f){if(!(w=R(g,b,t,h))||w.index>=t.length)break;var S=w.index,k=w.index+w[0].length,_=b;for(_+=v.value.length;_<=S;)v=v.next,_+=v.value.length;if(_-=v.value.length,b=_,v.value instanceof L)continue;for(var x=v;x!==r.tail&&(_<k||"string"==typeof x.value);x=x.next)E++,_+=x.value.length;E--,y=t.slice(b,_),w.index-=b}else if(!(w=R(g,0,y,h)))continue;var S=w.index,O=w[0],j=y.slice(0,S),I=y.slice(S+O.length),y=b+y.length,C=(s&&y>s.reach&&(s.reach=y),v.prev),j=(j&&(C=P(r,C,j),b+=j.length),A(r,C,E),new L(i,d?N.tokenize(O,d):O,m,O));v=P(r,C,j),I&&P(r,v,I),1<E&&(O={cause:i+","+c,reach:y},e(t,r,n,v.prev,b,O),s&&O.reach>s.reach&&(s.reach=O.reach))}}}}}(e,a,t,a.head,0),a),s=[],i=o.head.next;i!==o.tail;)s.push(i.value),i=i.next;return s},hooks:{all:{},add:function(e,t){var r=N.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){var r=N.hooks.all[e];if(r&&r.length)for(var n,a=0;n=r[a++];)n(t)}},Token:L},l.Prism=N,L.stringify=function t(e,r){if("string"==typeof e)return e;var n;if(Array.isArray(e))return n="",e.forEach(function(e){n+=t(e,r)}),n;var a,o={type:e.type,content:t(e.content,r),tag:"span",classes:["token",e.type],attributes:{},language:r},e=e.alias,s=(e&&(Array.isArray(e)?Array.prototype.push.apply(o.classes,e):o.classes.push(e)),N.hooks.run("wrap",o),"");for(a in o.attributes)s+=" "+a+'="'+(o.attributes[a]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+s+">"+o.content+"</"+o.tag+">"},l.document?((a=N.util.currentScript())&&(N.filename=a.src,a.hasAttribute("data-manual")&&(N.manual=!0)),N.manual||("loading"===(o=document.readyState)||"interactive"===o&&a&&a.defer?document.addEventListener("DOMContentLoaded",s):window.requestAnimationFrame?window.requestAnimationFrame(s):window.setTimeout(s,16))):l.addEventListener&&!N.disableWorkerMessageHandler&&l.addEventListener("message",function(e){var e=JSON.parse(e.data),t=e.language,r=e.code,e=e.immediateClose;l.postMessage(N.highlight(r,N.languages[t],t)),e&&l.close()},!1),N);function L(e,t,r,n){this.type=e,this.content=t,this.alias=r,this.length=0|(n||"").length}function R(e,t,r,n){e.lastIndex=t;t=e.exec(r);return t&&n&&t[1]&&(e=t[1].length,t.index+=e,t[0]=t[0].slice(e)),t}function c(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function P(e,t,r){var n=t.next,r={value:r,prev:t,next:n};return t.next=r,n.prev=r,e.length++,r}function A(e,t,r){for(var n=t.next,a=0;a<r&&n!==e.tail;a++)n=n.next;(t.next=n).prev=t,e.length-=a}function s(){N.manual||N.highlightAll()}void 0!==t&&t.exports&&(t.exports=o),"undefined"!=typeof global&&(global.Prism=o)}}),la=e({"node_modules/classnames/index.js"(e,t){!function(){"use strict";var s={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var n,a=typeof r;if("string"==a||"number"==a)e.push(r);else if(Array.isArray(r))!r.length||(n=i.apply(null,r))&&e.push(n);else if("object"==a)if(r.toString===Object.prototype.toString)for(var o in r)s.call(r,o)&&r[o]&&e.push(o);else e.push(r.toString())}}return e.join(" ")}void 0!==t&&t.exports?t.exports=i.default=i:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return i}):window.classNames=i}()}}),ca=e({"node_modules/react-dropdown/dist/index.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var p=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var o;Object.prototype.hasOwnProperty.call(e,r)&&((o=a?Object.getOwnPropertyDescriptor(e,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r])}n.default=e,t&&t.set(e,n);return n}(m("react")),d=(t=la())&&t.__esModule?t:{default:t};function s(){var e;return"function"!=typeof WeakMap?null:(s=function(){return e},e=new WeakMap)}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var t=function(e){var t,r=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");function n(e){var t,r;if(this instanceof n)return t=this,(t=!(r=o(n).call(this,e))||"object"!==i(r)&&"function"!=typeof r?u(t):r).state={selected:t.parseValue(e.value,e.options)||{label:void 0===e.placeholder?"Select...":e.placeholder,value:""},isOpen:!1},t.dropdownRef=(0,p.createRef)(),t.mounted=!0,t.handleDocumentClick=t.handleDocumentClick.bind(u(t)),t.fireChangeEvent=t.fireChangeEvent.bind(u(t)),t;throw new TypeError("Cannot call a class as a function")}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&f(r,e),r=n,(e=[{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&(this.props.value?(e=this.parseValue(this.props.value,this.props.options))!==this.state.selected&&this.setState({selected:e}):this.setState({selected:{label:void 0===this.props.placeholder?"Select...":this.props.placeholder,value:""}}))}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1)}},{key:"handleMouseDown",value:function(e){this.props.onFocus&&"function"==typeof this.props.onFocus&&this.props.onFocus(this.state.isOpen),"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.props.disabled||this.setState({isOpen:!this.state.isOpen}))}},{key:"parseValue",value:function(t,e){var r;if("string"==typeof t)for(var n,a=0,o=e.length;a<o;a++)"group"===e[a].type?(n=e[a].items.filter(function(e){return e.value===t})).length&&(r=n[0]):void 0!==e[a].value&&e[a].value===t&&(r=e[a]);return r||t}},{key:"setValue",value:function(e,t){e={selected:{value:e,label:t},isOpen:!1};this.fireChangeEvent(e),this.setState(e)}},{key:"fireChangeEvent",value:function(e){e.selected!==this.state.selected&&this.props.onChange&&this.props.onChange(e.selected)}},{key:"renderOption",value:function(r){var e=r.value,t=(void 0===e&&(e=r.label||r),r.label||r.value||r),n=e===this.state.selected.value||e===this.state.selected;h(a={},"".concat(this.props.baseClassName,"-option"),!0),h(a,r.className,!!r.className),h(a,"is-selected",n);var a=(0,d.default)(a),o=Object.keys(r.data||{}).reduce(function(e,t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(r,!0).forEach(function(e){h(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},e,h({},"data-".concat(t),r.data[t]))},{});return p.default.createElement("div",l({key:e,className:a,onMouseDown:this.setValue.bind(this,e,t),onClick:this.setValue.bind(this,e,t),role:"option","aria-selected":n?"true":"false"},o),t)}},{key:"buildMenu",value:function(){var n=this,e=this.props,t=e.options,a=e.baseClassName,e=t.map(function(e){var t,r;return"group"===e.type?(t=p.default.createElement("div",{className:"".concat(a,"-title")},e.name),r=e.items.map(function(e){return n.renderOption(e)}),p.default.createElement("div",{className:"".concat(a,"-group"),key:e.name,role:"listbox",tabIndex:"-1"},t,r)):n.renderOption(e)});return e.length?e:p.default.createElement("div",{className:"".concat(a,"-noresults")},"No options found")}},{key:"handleDocumentClick",value:function(e){!this.mounted||this.dropdownRef.current.contains(e.target)||this.state.isOpen&&this.setState({isOpen:!1})}},{key:"isValueSelected",value:function(){return"string"==typeof this.state.selected||""!==this.state.selected.value}},{key:"render",value:function(){var e=this.props,t=e.baseClassName,r=e.controlClassName,n=e.placeholderClassName,a=e.menuClassName,o=e.arrowClassName,s=e.arrowClosed,i=e.arrowOpen,e=e.className,l=this.props.disabled?"Dropdown-disabled":"",c="string"==typeof this.state.selected?this.state.selected:this.state.selected.label,e=(0,d.default)((h(u={},"".concat(t,"-root"),!0),h(u,e,!!e),h(u,"is-open",this.state.isOpen),u)),r=(0,d.default)((h(u={},"".concat(t,"-control"),!0),h(u,r,!!r),h(u,l,!!l),u)),u=(0,d.default)((h(l={},"".concat(t,"-placeholder"),!0),h(l,n,!!n),h(l,"is-selected",this.isValueSelected()),l)),l=(0,d.default)((h(n={},"".concat(t,"-menu"),!0),h(n,a,!!a),n)),n=(0,d.default)((h(a={},"".concat(t,"-arrow"),!0),h(a,o,!!o),a)),o=p.default.createElement("div",{className:u},c),a=this.state.isOpen?p.default.createElement("div",{className:l,"aria-expanded":"true"},this.buildMenu()):null;return p.default.createElement("div",{ref:this.dropdownRef,className:e},p.default.createElement("div",{className:r,onMouseDown:this.handleMouseDown.bind(this),onTouchEnd:this.handleMouseDown.bind(this),"aria-haspopup":"listbox"},o,p.default.createElement("div",{className:"".concat(t,"-arrow-wrapper")},i&&s?this.state.isOpen?i:s:p.default.createElement("span",{className:n}))),a)}}])&&a(r.prototype,e),t&&a(r,t),n}(p.Component);t.defaultProps={baseClassName:"Dropdown"},e.default=t}}),ua=e({"node_modules/spcr-whats-new/node_modules/semver/internal/debug.js"(e,t){var r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};t.exports=r}}),pa=e({"node_modules/spcr-whats-new/node_modules/semver/internal/constants.js"(e,t){var r=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:r,MAX_SAFE_COMPONENT_LENGTH:16}}}),da=e({"node_modules/spcr-whats-new/node_modules/semver/internal/re.js"(e,t){var r=pa()["MAX_SAFE_COMPONENT_LENGTH"],a=ua(),o=(e=t.exports={}).re=[],s=e.src=[],i=e.t={},l=0,t=(e,t,r)=>{var n=l++;a(e,n,t),i[e]=n,s[n]=t,o[n]=new RegExp(t,r?"g":void 0)};t("NUMERICIDENTIFIER","0|[1-9]\\d*"),t("NUMERICIDENTIFIERLOOSE","[0-9]+"),t("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),t("MAINVERSION",`(${s[i.NUMERICIDENTIFIER]})\\.(${s[i.NUMERICIDENTIFIER]})\\.(${s[i.NUMERICIDENTIFIER]})`),t("MAINVERSIONLOOSE",`(${s[i.NUMERICIDENTIFIERLOOSE]})\\.(${s[i.NUMERICIDENTIFIERLOOSE]})\\.(${s[i.NUMERICIDENTIFIERLOOSE]})`),t("PRERELEASEIDENTIFIER",`(?:${s[i.NUMERICIDENTIFIER]}|${s[i.NONNUMERICIDENTIFIER]})`),t("PRERELEASEIDENTIFIERLOOSE",`(?:${s[i.NUMERICIDENTIFIERLOOSE]}|${s[i.NONNUMERICIDENTIFIER]})`),t("PRERELEASE",`(?:-(${s[i.PRERELEASEIDENTIFIER]}(?:\\.${s[i.PRERELEASEIDENTIFIER]})*))`),t("PRERELEASELOOSE",`(?:-?(${s[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[i.PRERELEASEIDENTIFIERLOOSE]})*))`),t("BUILDIDENTIFIER","[0-9A-Za-z-]+"),t("BUILD",`(?:\\+(${s[i.BUILDIDENTIFIER]}(?:\\.${s[i.BUILDIDENTIFIER]})*))`),t("FULLPLAIN",`v?${s[i.MAINVERSION]}${s[i.PRERELEASE]}?${s[i.BUILD]}?`),t("FULL",`^${s[i.FULLPLAIN]}$`),t("LOOSEPLAIN",`[v=\\s]*${s[i.MAINVERSIONLOOSE]}${s[i.PRERELEASELOOSE]}?${s[i.BUILD]}?`),t("LOOSE",`^${s[i.LOOSEPLAIN]}$`),t("GTLT","((?:<|>)?=?)"),t("XRANGEIDENTIFIERLOOSE",s[i.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),t("XRANGEIDENTIFIER",s[i.NUMERICIDENTIFIER]+"|x|X|\\*"),t("XRANGEPLAIN",`[v=\\s]*(${s[i.XRANGEIDENTIFIER]})(?:\\.(${s[i.XRANGEIDENTIFIER]})(?:\\.(${s[i.XRANGEIDENTIFIER]})(?:${s[i.PRERELEASE]})?${s[i.BUILD]}?)?)?`),t("XRANGEPLAINLOOSE",`[v=\\s]*(${s[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[i.XRANGEIDENTIFIERLOOSE]})(?:${s[i.PRERELEASELOOSE]})?${s[i.BUILD]}?)?)?`),t("XRANGE",`^${s[i.GTLT]}\\s*${s[i.XRANGEPLAIN]}$`),t("XRANGELOOSE",`^${s[i.GTLT]}\\s*${s[i.XRANGEPLAINLOOSE]}$`),t("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),t("COERCERTL",s[i.COERCE],!0),t("LONETILDE","(?:~>?)"),t("TILDETRIM",`(\\s*)${s[i.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",t("TILDE",`^${s[i.LONETILDE]}${s[i.XRANGEPLAIN]}$`),t("TILDELOOSE",`^${s[i.LONETILDE]}${s[i.XRANGEPLAINLOOSE]}$`),t("LONECARET","(?:\\^)"),t("CARETTRIM",`(\\s*)${s[i.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",t("CARET",`^${s[i.LONECARET]}${s[i.XRANGEPLAIN]}$`),t("CARETLOOSE",`^${s[i.LONECARET]}${s[i.XRANGEPLAINLOOSE]}$`),t("COMPARATORLOOSE",`^${s[i.GTLT]}\\s*(${s[i.LOOSEPLAIN]})$|^$`),t("COMPARATOR",`^${s[i.GTLT]}\\s*(${s[i.FULLPLAIN]})$|^$`),t("COMPARATORTRIM",`(\\s*)${s[i.GTLT]}\\s*(${s[i.LOOSEPLAIN]}|${s[i.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",t("HYPHENRANGE",`^\\s*(${s[i.XRANGEPLAIN]})\\s+-\\s+(${s[i.XRANGEPLAIN]})\\s*$`),t("HYPHENRANGELOOSE",`^\\s*(${s[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[i.XRANGEPLAINLOOSE]})\\s*$`),t("STAR","(<|>)?=?\\s*\\*"),t("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),t("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}}),ha=e({"node_modules/spcr-whats-new/node_modules/semver/internal/parse-options.js"(e,t){var r=["includePrerelease","loose","rtl"];t.exports=t=>t?"object"!=typeof t?{loose:!0}:r.filter(e=>t[e]).reduce((e,t)=>(e[t]=!0,e),{}):{}}}),fa=e({"node_modules/spcr-whats-new/node_modules/semver/internal/identifiers.js"(e,t){var a=/^[0-9]+$/,r=(e,t)=>{var r=a.test(e),n=a.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n||(!n||r)&&e<t?-1:1};t.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}}}),ma=e({"node_modules/spcr-whats-new/node_modules/semver/classes/semver.js"(e,t){var a=ua(),{MAX_LENGTH:n,MAX_SAFE_INTEGER:o}=pa(),{re:s,t:i}=da(),l=ha(),c=fa()["compareIdentifiers"],u=class{constructor(e,t){if(t=l(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>n)throw new TypeError(`version is longer than ${n} characters`);a("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?s[i.LOOSE]:s[i.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){var t=+e;if(0<=t&&t<o)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.`+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(a("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(a("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return c(r,n)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{var r=this.build[t],n=e.build[t];if(a("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return c(r,n)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;0<=--e;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0!==c(this.prerelease[0],t)||isNaN(this.prerelease[1]))&&(this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this}};t.exports=u}}),ga=e({"node_modules/spcr-whats-new/node_modules/semver/functions/compare.js"(e,t){var n=ma();t.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))}}),e=e({"node_modules/spcr-whats-new/node_modules/semver/functions/gt.js"(e,t){var n=ga();t.exports=(e,t,r)=>0<n(e,t,r)}}),va={},ba=va,ya={default:()=>function(){return gl.default.createElement(ml,null)}};for(R in ya)A(ba,R,{get:ya[R],enumerable:!0});var wa=t(m("react"));function Ea(e){return(Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,r){t&&Sa(e.prototype,t),r&&Sa(e,r),Object.defineProperty(e,"prototype",{writable:!1})}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ka(e,t){return(ka=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ka(e,t)}function xa(e,t){if(t&&("object"===Ea(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function Oa(e){if(Array.isArray(e))return e}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ia(e,t){var r;if(e)return"string"==typeof e?ja(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ja(e,t):void 0}function Ca(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Na(e){return Oa(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ia(e)||Ca()}function La(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ra(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?La(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):La(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Pa={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}};function Aa(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s(this,Aa),this.init(e,t)}n(Aa,[{key:"init",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Pa,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,r,n){return n&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(r).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(e){return new Aa(this.logger,Ra(Ra({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}},{key:"clone",value:function(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Aa(this.logger,e)}}]);var u=new Aa,p=(n(Ta,[{key:"on",value:function(e,t){var r=this;return e.split(" ").forEach(function(e){r.observers[e]=r.observers[e]||[],r.observers[e].push(t)}),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter(function(e){return e!==t}):delete this.observers[e])}},{key:"emit",value:function(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];this.observers[t]&&[].concat(this.observers[t]).forEach(function(e){e.apply(void 0,r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(e){e.apply(e,[t].concat(r))})}}]),Ta);function Ta(){s(this,Ta),this.observers={}}function Ma(){var r,n,e=new Promise(function(e,t){r=e,n=t});return e.resolve=r,e.reject=n,e}function Da(e){return null==e?"":""+e}function $a(e,t,r){function n(e){return e&&-1<e.indexOf("###")?e.replace(/###/g,"."):e}function a(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");1<o.length;){if(a())return{};var s=n(o.shift());!e[s]&&r&&(e[s]=new r),e=Object.prototype.hasOwnProperty.call(e,s)?e[s]:{}}return a()?{}:{obj:e,k:n(o.shift())}}function Fa(e,t,r){e=$a(e,t,Object);e.obj[e.k]=r}function Ba(e,t){e=$a(e,t),t=e.obj,e=e.k;if(t)return t[e]}function Ua(e,t,r){e=Ba(e,r);return void 0!==e?e:Ba(t,r)}function Ga(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Ha={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function qa(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return Ha[e]}):e}var Va="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&-1<window.navigator.userAgent.indexOf("MSIE"),za=[" ",",","?","!",";"];function Ka(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Wa(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ka(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ka(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Ja(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=a(r);return xa(this,n?(e=a(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}_a(Qa,p),Xa=Ja(Qa),n(Qa,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){e=this.options.ns.indexOf(e);-1<e&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},a=(void 0!==n.keySeparator?n:this.options).keySeparator,n=(void 0!==n.ignoreJSONStructure?n:this.options).ignoreJSONStructure,o=[e,t],o=(r&&"string"!=typeof r&&(o=o.concat(r)),r&&"string"==typeof r&&(o=o.concat(a?r.split(a):r)),-1<e.indexOf(".")&&(o=e.split(".")),Ba(this.data,o));return o||!n||"string"!=typeof r?o:function e(t,r,n){var a=2<arguments.length&&void 0!==n?n:".";if(t){if(t[r])return t[r];for(var o=r.split(a),s=t,i=0;i<o.length;++i){if(!s)return;if("string"==typeof s[o[i]]&&i+1<o.length)return;if(void 0===s[o[i]]){for(var l=2,c=o.slice(i,i+l).join(a),u=s[c];void 0===u&&o.length>i+l;)l++,u=s[c=o.slice(i,i+l).join(a)];if(void 0===u)return;if(null===u)return null;if(r.endsWith(c)){if("string"==typeof u)return u;if(c&&"string"==typeof u[c])return u[c]}var p=o.slice(i+l).join(a);return p?e(u,p,a):void 0}s=s[o[i]]}return s}}(this.data&&this.data[e]&&this.data[e][t],r,a)}},{key:"addResource",value:function(e,t,r,n){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator,s=(void 0===o&&(o="."),[e,t]);r&&(s=s.concat(o?r.split(o):r)),-1<e.indexOf(".")&&(n=t,t=(s=e.split("."))[1]),this.addNamespaces(t),Fa(this.data,s,n),a.silent||this.emit("added",e,t,r,n)}},{key:"addResources",value:function(e,t,r){var n,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(n in r)"string"!=typeof r[n]&&"[object Array]"!==Object.prototype.toString.apply(r[n])||this.addResource(e,t,n,r[n],{silent:!0});a.silent||this.emit("added",e,t,r)}},{key:"addResourceBundle",value:function(e,t,r,n,a){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,t],i=(-1<e.indexOf(".")&&(n=r,r=t,t=(s=e.split("."))[1]),this.addNamespaces(t),Ba(this.data,s)||{});n?function e(t,r,n){for(var a in r)"__proto__"!==a&&"constructor"!==a&&(a in t?"string"==typeof t[a]||t[a]instanceof String||"string"==typeof r[a]||r[a]instanceof String?n&&(t[a]=r[a]):e(t[a],r[a],n):t[a]=r[a])}(i,r,a):i=Wa(Wa({},i),r),Fa(this.data,s,i),o.silent||this.emit("added",e,t,r)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t=t||this.options.defaultNS,"v1"===this.options.compatibilityAPI?Wa(Wa({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(function(e){return t[e]&&0<Object.keys(t[e]).length})}},{key:"toJSON",value:function(){return this.data}}]);var Xa,Ya=Qa;function Qa(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return s(this,Qa),t=Xa.call(this),Va&&p.call(l(t)),t.data=e||{},t.options=r,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}var Za={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,r,n,a){var o=this;return e.forEach(function(e){o.processors[e]&&(t=o.processors[e].process(t,r,n,a))}),t}};function eo(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?eo(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eo(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function to(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=a(r);return xa(this,n?(e=a(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}var ro,no={},ao=(_a(oo,p),ro=to(oo),n(oo,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t;return null!=e&&((t=this.resolve(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}))&&void 0!==t.res)}},{key:"extractFromKey",value:function(e,t){var r,n,a,o=(void 0!==t.nsSeparator?t:this.options).nsSeparator,s=(void 0===o&&(o=":"),(void 0!==t.keySeparator?t:this.options).keySeparator),i=t.ns||this.options.defaultNS||[],l=o&&-1<e.indexOf(o),c=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||(t=e,r=(r=o)||"",n=(n=s)||"",0===(c=za.filter(function(e){return r.indexOf(e)<0&&n.indexOf(e)<0})).length||((a=!(c=new RegExp("(".concat(c.map(function(e){return"?"===e?"\\?":e}).join("|"),")"))).test(t))||0<(u=t.indexOf(n))&&!c.test(t.substring(0,u))&&(a=!0),a)));if(l&&!c){t=e.match(this.interpolator.nestingRegexp);if(t&&0<t.length)return{key:e,namespaces:i};var u=e.split(o);(o!==s||o===s&&-1<this.options.ns.indexOf(u[0]))&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:i="string"==typeof i?[i]:i}}},{key:"translate",value:function(e,n,t){var a=this;if(n=(n="object"!==Ea(n)&&this.options.overloadTranslationOptionHandler?this.options.overloadTranslationOptionHandler(arguments):n)||{},null==e)return"";Array.isArray(e)||(e=[String(e)]);var r=(void 0!==n.returnDetails?n:this.options).returnDetails,o=(void 0!==n.keySeparator?n:this.options).keySeparator,s=this.extractFromKey(e[e.length-1],n),i=s.key,l=s.namespaces,c=l[l.length-1],s=n.lng||this.language,u=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(s&&"cimode"===s.toLowerCase())return u?(u=n.nsSeparator||this.options.nsSeparator,r?(p.res="".concat(c).concat(u).concat(i),p):"".concat(c).concat(u).concat(i)):r?(p.res=i,p):i;var p=this.resolve(e,n),d=p&&p.res,u=p&&p.usedKey||i,h=p&&p.exactUsedKey||i,f=Object.prototype.toString.apply(d),m=(void 0!==n.joinArrays?n:this.options).joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject;if(g&&d&&("string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(f)<0&&("string"!=typeof m||"[object Array]"!==f)){if(!n.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),y=this.options.returnedObjectHandler?this.options.returnedObjectHandler(u,d,N(N({},n),{},{ns:l})):"key '".concat(i," (").concat(this.language,")' returned an object instead of string."),r?(p.res=y,p):y;if(o){var v,b,y="[object Array]"===f,w=y?[]:{},E=y?h:u;for(v in d)Object.prototype.hasOwnProperty.call(d,v)&&(b="".concat(E).concat(o).concat(v),w[v]=this.translate(b,N(N({},n),{joinArrays:!1,ns:l})),w[v]===b&&(w[v]=d[v]));d=w}}else if(g&&"string"==typeof m&&"[object Array]"===f)d=(d=d.join(m))&&this.extendTranslation(d,e,n,t);else{var y=!1,h=!1,u=void 0!==n.count&&"string"!=typeof n.count,S=oo.hasDefaultValue(n),g=u?this.pluralResolver.getSuffix(s,n.count,n):"",k=n["defaultValue".concat(g)]||n.defaultValue;!this.isValidLookup(d)&&S&&(y=!0,d=k),this.isValidLookup(d)||(h=!0,d=i);var _=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&h?void 0:d,x=S&&k!==d&&this.options.updateMissing;if(h||y||x){this.logger.log(x?"updateKey":"missingKey",s,c,i,x?k:d),!o||(f=this.resolve(i,N(N({},n),{},{keySeparator:!1})))&&f.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.");var O=[],j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&j&&j[0])for(var I=0;I<j.length;I++)O.push(j[I]);else"all"===this.options.saveMissingTo?O=this.languageUtils.toResolveHierarchy(n.lng||this.language):O.push(n.lng||this.language);function C(e,t,r){r=S&&r!==d?r:_;a.options.missingKeyHandler?a.options.missingKeyHandler(e,c,t,r,x,n):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(e,c,t,r,x,n),a.emit("missingKey",e,c,t,d)}this.options.saveMissing&&(this.options.saveMissingPlurals&&u?O.forEach(function(t){a.pluralResolver.getSuffixes(t,n).forEach(function(e){C([t],i+e,n["defaultValue".concat(e)]||k)})}):C(O,i,k))}d=this.extendTranslation(d,e,n,p,t),h&&d===i&&this.options.appendNamespaceToMissingKey&&(d="".concat(c,":").concat(i)),(h||y)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(c,":").concat(i):i,y?d:void 0):this.options.parseMissingKeyHandler(d))}return r?(p.res=d,p):d}},{key:"extendTranslation",value:function(e,n,a,t,o){var r,s=this,i=(this.i18nFormat&&this.i18nFormat.parse?e=this.i18nFormat.parse(e,N(N({},this.options.interpolation.defaultVariables),a),t.usedLng,t.usedNS,t.usedKey,{resolved:t}):a.skipInterpolation||(a.interpolation&&this.interpolator.init(N(N({},a),{interpolation:N(N({},this.options.interpolation),a.interpolation)})),(i="string"==typeof e&&(a&&a.interpolation&&void 0!==a.interpolation.skipOnVariables?a:this.options).interpolation.skipOnVariables)&&(l=(l=e.match(this.interpolator.nestingRegexp))&&l.length),r=a.replace&&"string"!=typeof a.replace?a.replace:a,this.options.interpolation.defaultVariables&&(r=N(N({},this.options.interpolation.defaultVariables),r)),e=this.interpolator.interpolate(e,r,a.lng||this.language,a),i&&l<((r=e.match(this.interpolator.nestingRegexp))&&r.length)&&(a.nest=!1),!1!==a.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o&&o[0]===t[0]&&!a.context?(s.logger.warn("It seems you are nesting recursively key: ".concat(t[0]," in key: ").concat(n[0])),null):s.translate.apply(s,t.concat([n]))},a)),a.interpolation&&this.interpolator.reset()),a.postProcess||this.options.postProcess),l="string"==typeof i?[i]:i;return e=null!=e&&l&&l.length&&!1!==a.applyPostProcessor?Za.handle(l,e,n,this.options&&this.options.postProcessPassResolved?N({i18nResolved:t},a):a,this):e}},{key:"resolve",value:function(e){var p,r,d,h,n,f=this,m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(e="string"==typeof e?[e]:e).forEach(function(e){var i,l,c,u,t;f.isValidLookup(p)||(e=f.extractFromKey(e,m),i=e.key,r=i,e=e.namespaces,f.options.fallbackNS&&(e=e.concat(f.options.fallbackNS)),l=void 0!==m.count&&"string"!=typeof m.count,c=l&&!m.ordinal&&0===m.count&&f.pluralResolver.shouldUseIntlApi(),u=void 0!==m.context&&("string"==typeof m.context||"number"==typeof m.context)&&""!==m.context,t=m.lngs||f.languageUtils.toResolveHierarchy(m.lng||f.language,m.fallbackLng),e.forEach(function(s){f.isValidLookup(p)||(n=s,!no["".concat(t[0],"-").concat(s)]&&f.utils&&f.utils.hasLoadedNamespace&&!f.utils.hasLoadedNamespace(n)&&(no["".concat(t[0],"-").concat(s)]=!0,f.logger.warn('key "'.concat(r,'" for languages "').concat(t.join(", "),`" won't get resolved as namespace "`).concat(n,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),t.forEach(function(e){if(!f.isValidLookup(p)){h=e;var t,r,n,a,o=[i];for(f.i18nFormat&&f.i18nFormat.addLookupKeys?f.i18nFormat.addLookupKeys(o,i,e,s,m):(l&&(t=f.pluralResolver.getSuffix(e,m.count,m)),r="".concat(f.options.pluralSeparator,"zero"),l&&(o.push(i+t),c&&o.push(i+r)),u&&(n="".concat(i).concat(f.options.contextSeparator).concat(m.context),o.push(n),l&&(o.push(n+t),c&&o.push(n+r))));a=o.pop();)f.isValidLookup(p)||(d=a,p=f.getResource(e,s,a,m))}}))}))}),{res:p,usedKey:r,exactUsedKey:d,usedLng:h,usedNS:n}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return(this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat:this.resourceStore).getResource(e,t,r,n)}}],[{key:"hasDefaultValue",value:function(e){var t,r="defaultValue";for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&r===t.substring(0,r.length)&&void 0!==e[t])return!0;return!1}}]),oo);function oo(e){var t,r,n,a,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return s(this,oo),t=ro.call(this),Va&&p.call(l(t)),r=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n=e,a=l(t),r.forEach(function(e){n[e]&&(a[e]=n[e])}),t.options=o,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=u.create("translator"),t}function so(e){return e.charAt(0).toUpperCase()+e.slice(1)}n(lo,[{key:"getScriptPartFromCode",value:function(e){return!e||e.indexOf("-")<0||2===(e=e.split("-")).length||(e.pop(),"x"===e[e.length-1].toLowerCase())?null:this.formatLanguageCode(e.join("-"))}},{key:"getLanguagePartFromCode",value:function(e){return!e||e.indexOf("-")<0?e:(e=e.split("-"),this.formatLanguageCode(e[0]))}},{key:"formatLanguageCode",value:function(e){var t,r;return"string"==typeof e&&-1<e.indexOf("-")?(t=["hans","hant","latn","cyrl","cans","mong","arab"],r=e.split("-"),this.options.lowerCaseLng?r=r.map(function(e){return e.toLowerCase()}):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),-1<t.indexOf(r[1].toLowerCase())&&(r[1]=so(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),-1<t.indexOf(r[1].toLowerCase())&&(r[1]=so(r[1].toLowerCase())),-1<t.indexOf(r[2].toLowerCase())&&(r[2]=so(r[2].toLowerCase()))),r.join("-")):this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return"languageOnly"!==this.options.load&&!this.options.nonExplicitSupportedLngs||(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||-1<this.supportedLngs.indexOf(e)}},{key:"getBestMatchFromCodes",value:function(e){var r,n=this;return e?(e.forEach(function(e){r||(e=n.formatLanguageCode(e),n.options.supportedLngs&&!n.isSupportedCode(e)||(r=e))}),!r&&this.options.supportedLngs&&e.forEach(function(e){var t;if(!r)return t=n.getLanguagePartFromCode(e),n.isSupportedCode(t)?r=t:void(r=n.options.supportedLngs.find(function(e){if(0===e.indexOf(t))return e}))}),r=r||this.getFallbackCodes(this.options.fallbackLng)[0]):null}},{key:"getFallbackCodes",value:function(e,t){return e?("string"==typeof(e="function"==typeof e?e(t):e)&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e)?e:t?e[t]||e[this.getScriptPartFromCode(t)]||e[this.formatLanguageCode(t)]||e[this.getLanguagePartFromCode(t)]||e.default||[]:e.default||[]):[]}},{key:"toResolveHierarchy",value:function(e,t){function r(e){e&&(n.isSupportedCode(e)?a.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))}var n=this,t=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[];return"string"==typeof e&&-1<e.indexOf("-")?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):"string"==typeof e&&r(this.formatLanguageCode(e)),t.forEach(function(e){a.indexOf(e)<0&&r(n.formatLanguageCode(e))}),a}}]);var io=lo;function lo(e){s(this,lo),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=u.create("languageUtils")}var co=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],uo={1:function(e){return Number(1<e)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5)},6:function(e){return Number(1==e?0:2<=e&&e<=4?1:2)},7:function(e){return Number(1==e?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(2<=e)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:2<e&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:2<=e%10&&(e%100<10||20<=e%100)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||1<e%100&&e%100<11?1:10<e%100&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||0<e%100&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||10<e)&&e%10==0?2:3)}},po=["v1","v2","v3"],ho={zero:0,one:1,two:2,few:3,many:4,other:5};n(mo,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return this.shouldUseIntlApi()?t&&1<t.resolvedOptions().pluralCategories.length:t&&1<t.numbers.length}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).map(function(e){return"".concat(t).concat(e)})}},{key:"getSuffixes",value:function(t){var r=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=this.getRule(t,n);return e?this.shouldUseIntlApi()?e.resolvedOptions().pluralCategories.sort(function(e,t){return ho[e]-ho[t]}).map(function(e){return"".concat(r.options.prepend).concat(e)}):e.numbers.map(function(e){return r.getSuffix(t,e,n)}):[]}},{key:"getSuffix",value:function(e,t){var r=this.getRule(e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){function r(){return n.options.prepend&&a.toString()?n.options.prepend+a.toString():a.toString()}var n=this,t=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),a=e.numbers[t];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===a?a="plural":1===a&&(a=""));return"v1"===this.options.compatibilityJSON?1===a?"":"number"==typeof a?"_plural_".concat(a.toString()):r():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?r():this.options.prepend&&t.toString()?this.options.prepend+t.toString():t.toString()}},{key:"shouldUseIntlApi",value:function(){return!po.includes(this.options.compatibilityJSON)}}]);var fo=mo;function mo(e){var r,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s(this,mo),this.languageUtils=e,this.options=t,this.logger=u.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(r={},co.forEach(function(t){t.lngs.forEach(function(e){r[e]={numbers:t.nr,plurals:uo[t.fc]}})}),r)}function go(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?go(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):go(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}n(bo,[{key:"init",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(e.interpolation||(e.interpolation={escapeValue:!0}),e.interpolation);this.escape=void 0!==e.escape?e.escape:qa,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?Ga(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?Ga(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator||e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=!this.unescapePrefix&&e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?Ga(e.nestingPrefix):e.nestingPrefixEscaped||Ga("$t("),this.nestingSuffix=e.nestingSuffix?Ga(e.nestingSuffix):e.nestingSuffixEscaped||Ga(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator||e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces||1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix),e=(this.regexp=new RegExp(e,"g"),"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),e=(this.regexpUnescape=new RegExp(e,"g"),"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix));this.nestingRegexp=new RegExp(e,"g")}},{key:"interpolate",value:function(a,o,s,i){var l,c,u,p=this,d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function t(e){return e.replace(/\$/g,"$$$$")}this.resetRegExp();var h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=(i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i:this.options).interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:t},{regex:this.regexp,safeValue:function(e){return p.escapeValue?t(p.escape(e)):t(e)}}].forEach(function(e){for(u=0;l=e.regex.exec(a);){var t=l[1].trim();if((n=void 0)===(c=(r=t).indexOf(p.formatSeparator)<0?(n=Ua(o,d,r),p.alwaysFormat?p.format(n,void 0,s,g(g(g({},i),o),{},{interpolationkey:r})):n):(r=(n=r.split(p.formatSeparator)).shift().trim(),n=n.join(p.formatSeparator).trim(),p.format(Ua(o,d,r),n,s,g(g(g({},i),o),{},{interpolationkey:r})))))if("function"==typeof h){n=h(a,l,i);c="string"==typeof n?n:""}else{if(!i||!i.hasOwnProperty(t)){if(f){c=l[0];continue}p.logger.warn("missed to pass in variable ".concat(t," for interpolating ").concat(a))}c=""}else"string"==typeof c||p.useRawValueToEscape||(c=Da(c));r=e.safeValue(c);if(a=a.replace(l[0],r),f?(e.regex.lastIndex+=c.length,e.regex.lastIndex-=l[0].length):e.regex.lastIndex=0,++u>=p.maxReplaces)break}var r,n}),a}},{key:"nest",value:function(e,t){var r,n=this,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},s=g({},a);function o(t,e){var r=this.nestingOptionsSeparator;if(!(t.indexOf(r)<0)){var n=t.split(new RegExp("".concat(r,"[ ]*{"))),a="{".concat(n[1]),n=(t=n[0],(a=this.interpolate(a,s)).match(/'/g)),o=a.match(/"/g);(n&&n.length%2==0&&!o||o.length%2!=0)&&(a=a.replace(/'/g,'"'));try{s=JSON.parse(a),e&&(s=g(g({},e),s))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(r).concat(a)}delete s.defaultValue}return t}for(s.applyPostProcessor=!1,delete s.defaultValue;r=this.nestingRegexp.exec(e);){var i,l=[],c=!1;if(-1===r[0].indexOf(this.formatSeparator)||/{.*}/.test(r[1])||(i=r[1].split(this.formatSeparator).map(function(e){return e.trim()}),r[1]=i.shift(),l=i,c=!0),(i=t(o.call(this,r[1].trim(),s),s))&&r[0]===e&&"string"!=typeof i)return i;(i="string"!=typeof i?Da(i):i)||(this.logger.warn("missed to resolve ".concat(r[1]," for nesting ").concat(e)),i=""),c&&(i=l.reduce(function(e,t){return n.format(e,t,a.lng,g(g({},a),{},{interpolationkey:r[1].trim()}))},i.trim())),e=e.replace(r[0],i),this.regexp.lastIndex=0}return e}}]);var vo=bo;function bo(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(this,bo),this.logger=u.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e},this.init(e)}function yo(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?yo(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yo(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function wo(o){var s={};return function(e,t,r){var n=t+JSON.stringify(r),a=s[n];return a||(a=o(t,r),s[n]=a),a(e)}}n(So,[{key:"init",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator||t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=wo(t)}},{key:"format",value:function(e,t,i,l){var c=this;return t.split(this.formatSeparator).reduce(function(e,t){n=(t=t).toLowerCase().trim(),r={},-1<t.indexOf("(")&&(n=(t=t.split("("))[0].toLowerCase().trim(),t=t[1].substring(0,t[1].length-1),"currency"===n&&t.indexOf(":")<0?r.currency||(r.currency=t.trim()):"relativetime"===n&&t.indexOf(":")<0?r.range||(r.range=t.trim()):t.split(";").forEach(function(e){var t;e&&(t=(e=Na(e.split(":")))[0],e=e.slice(1).join(":").trim().replace(/^'+|'+$/g,""),r[t.trim()]||(r[t.trim()]=e),"false"===e&&(r[t.trim()]=!1),"true"===e&&(r[t.trim()]=!0),isNaN(e)||(r[t.trim()]=parseInt(e,10)))}));var r,t={formatName:n,formatOptions:r},n=t.formatName,t=t.formatOptions;if(c.formats[n]){var a=e;try{var o=l&&l.formatParams&&l.formatParams[l.interpolationkey]||{},s=o.locale||o.lng||l.locale||l.lng||i,a=c.formats[n](e,s,d(d(d({},t),l),o))}catch(e){c.logger.warn(e)}return a}return c.logger.warn("there was no format function for ".concat(n)),e},e)}}]);var Eo=So;function So(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(this,So),this.logger=u.create("formatter"),this.options=e,this.formats={number:wo(function(e,t){var r=new Intl.NumberFormat(e,t);return function(e){return r.format(e)}}),currency:wo(function(e,t){var r=new Intl.NumberFormat(e,d(d({},t),{},{style:"currency"}));return function(e){return r.format(e)}}),datetime:wo(function(e,t){var r=new Intl.DateTimeFormat(e,d({},t));return function(e){return r.format(e)}}),relativetime:wo(function(e,t){var r=new Intl.RelativeTimeFormat(e,d({},t));return function(e){return r.format(e,t.range||"day")}}),list:wo(function(e,t){var r=new Intl.ListFormat(e,d({},t));return function(e){return r.format(e)}})},this.init(e)}function ko(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function _o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ko(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ko(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function xo(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=a(r);return xa(this,n?(e=a(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}_a(Io,p),Oo=xo(Io),n(Io,[{key:"queueLoad",value:function(e,t,a,r){var o=this,s={},i={},l={},c={};return e.forEach(function(r){var n=!0;t.forEach(function(e){var t="".concat(r,"|").concat(e);!a.reload&&o.store.hasResourceBundle(r,e)?o.state[t]=2:o.state[t]<0||(1===o.state[t]?void 0===i[t]&&(i[t]=!0):(o.state[t]=1,n=!1,void 0===i[t]&&(i[t]=!0),void 0===s[t]&&(s[t]=!0),void 0===c[e]&&(c[e]=!0)))}),n||(l[r]=!0)}),(Object.keys(s).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(i),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}},{key:"loaded",value:function(o,s,e){var t=o.split("|"),i=t[0],l=t[1],c=(s&&this.emit("failedLoading",i,l,s),e&&this.store.addResourceBundle(i,l,e),this.state[o]=s?-1:2,{});this.queue.forEach(function(r){var e,t,n,a;e=r.loaded,t=l,n=(e=$a(e,n=[i],Object)).obj,e=e.k,n[e]=n[e]||[],a&&(n[e]=n[e].concat(t)),a||n[e].push(t),a=o,void 0!==(n=r).pending[a]&&(delete n.pending[a],n.pendingCount--),s&&r.errors.push(s),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach(function(t){c[t]||(c[t]={});var e=r.loaded[t];e.length&&e.forEach(function(e){void 0===c[t][e]&&(c[t][e]=!0)})}),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(e){return!e.done})}},{key:"read",value:function(n,a,o){var s=this,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,c=5<arguments.length?arguments[5]:void 0;return n.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:n,ns:a,fcName:o,tried:i,wait:l,callback:c}):(this.readingCalls++,this.backend[o](n,a,function(e,t){var r;s.readingCalls--,0<s.waitingReads.length&&(r=s.waitingReads.shift(),s.read(r.lng,r.ns,r.fcName,r.tried,r.wait,r.callback)),e&&t&&i<s.maxRetries?setTimeout(function(){s.read.call(s,n,a,o,i+1,2*l,c)},l):c(e,t)})):c(null,{})}},{key:"prepareLoading",value:function(e,t){var r=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=3<arguments.length?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e));n=this.queueLoad(e,t="string"==typeof t?[t]:t,n,a);if(!n.toLoad.length)return n.pending.length||a(),null;n.toLoad.forEach(function(e){r.loadOne(e)})}},{key:"load",value:function(e,t,r){this.prepareLoading(e,t,{},r)}},{key:"reload",value:function(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}},{key:"loadOne",value:function(r){var n=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",e=r.split("|"),o=e[0],s=e[1];this.read(o,s,"read",void 0,void 0,function(e,t){e&&n.logger.warn("".concat(a,"loading namespace ").concat(s," for language ").concat(o," failed"),e),!e&&t&&n.logger.log("".concat(a,"loaded namespace ").concat(s," for language ").concat(o),t),n.loaded(r,e,t)})}},{key:"saveMissing",value:function(e,t,r,n,a){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(r,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=r&&""!==r&&(this.backend&&this.backend.create&&this.backend.create(e,t,r,n,null,_o(_o({},o),{},{isUpdate:a})),e&&e[0]&&this.store.addResource(e[0],t,r,n))}}]);var Oo,jo=Io;function Io(e,t,r){var n,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return s(this,Io),n=Oo.call(this),Va&&p.call(l(n)),n.backend=e,n.store=t,n.services=r,n.languageUtils=r.languageUtils,n.options=a,n.logger=u.create("backendConnector"),n.waitingReads=[],n.maxParallelReads=a.maxParallelReads||10,n.readingCalls=0,n.maxRetries=0<=a.maxRetries?a.maxRetries:5,n.retryTimeout=1<=a.retryTimeout?a.retryTimeout:350,n.state={},n.queue=[],n.backend&&n.backend.init&&n.backend.init(r,a.backend,a),n}function Co(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function No(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?No(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):No(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Lo(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=a(r);return xa(this,n?(e=a(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function Ro(){}_a(To,p),Po=Lo(To),n(To,[{key:"init",value:function(){var e,t,a=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0,o=("function"==typeof r&&(n=r,r={}),!r.defaultNS&&!1!==r.defaultNS&&r.ns&&("string"==typeof r.ns?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0])),{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t,r={};return"object"===Ea(e[1])&&(r=e[1]),"string"==typeof e[1]&&(r.defaultValue=e[1]),"string"==typeof e[2]&&(r.tDescription=e[2]),"object"!==Ea(e[2])&&"object"!==Ea(e[3])||(t=e[3]||e[2],Object.keys(t).forEach(function(e){r[e]=t[e]})),r},interpolation:{escapeValue:!0,format:function(e,t,r,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}});function s(e){return e?"function"==typeof e?new e:e:null}this.options=h(h(h({},o),this.options),Co(r)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=h(h({},o.interpolation),this.options.interpolation)),void 0!==r.keySeparator&&(this.options.userDefinedKeySeparator=r.keySeparator),void 0!==r.nsSeparator&&(this.options.userDefinedNsSeparator=r.nsSeparator),this.options.isClone||(this.modules.logger?u.init(s(this.modules.logger),this.options):u.init(null,this.options),this.modules.formatter?e=this.modules.formatter:"undefined"!=typeof Intl&&(e=Eo),r=new io(this.options),this.store=new Ya(this.options.resources,this.options),(t=this.services).logger=u,t.resourceStore=this.store,t.languageUtils=r,t.pluralResolver=new fo(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!e||this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format||(t.formatter=s(e),t.formatter.init(t,this.options),this.options.interpolation.format=t.formatter.format.bind(t.formatter)),t.interpolator=new vo(this.options),t.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},t.backendConnector=new jo(s(this.modules.backend),t.resourceStore,t,this.options),t.backendConnector.on("*",function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];a.emit.apply(a,[e].concat(r))}),this.modules.languageDetector&&(t.languageDetector=s(this.modules.languageDetector),t.languageDetector.init(t,this.options.detection,this.options)),this.modules.i18nFormat&&(t.i18nFormat=s(this.modules.i18nFormat),t.i18nFormat.init&&t.i18nFormat.init(this)),this.translator=new ao(this.services,this.options),this.translator.on("*",function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];a.emit.apply(a,[e].concat(r))}),this.modules.external.forEach(function(e){e.init&&e.init(a)})),this.format=this.options.interpolation.format,n=n||Ro,!this.options.fallbackLng||this.services.languageDetector||this.options.lng||0<(r=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng)).length&&"dev"!==r[0]&&(this.options.lng=r[0]),this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(t){a[t]=function(){var e;return(e=a.store)[t].apply(e,arguments)}});function i(){function e(e,t){a.isInitialized&&!a.initializedStoreOnce&&a.logger.warn("init: i18next is already initialized. You should call init just once!"),a.isInitialized=!0,a.options.isClone||a.logger.log("initialized",a.options),a.emit("initialized",a.options),l.resolve(t),n(e,t)}if(a.languages&&"v1"!==a.options.compatibilityAPI&&!a.isInitialized)return e(null,a.t.bind(a));a.changeLanguage(a.options.lng,e)}["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(function(t){a[t]=function(){var e;return(e=a.store)[t].apply(e,arguments),a}});var l=Ma();return this.options.resources||!this.options.initImmediate?i():setTimeout(i,0),l}},{key:"loadResources",value:function(e){var t=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Ro,n="string"==typeof e?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase())return r();function a(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(e){o.indexOf(e)<0&&o.push(e)})}var o=[];n?a(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(a),this.options.preload&&this.options.preload.forEach(a),this.services.backendConnector.load(o,this.options.ns,function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),r(e)})}else r(null)}},{key:"reloadResources",value:function(e,t,r){var n=Ma();return e=e||this.languages,t=t||this.options.ns,r=r||Ro,this.services.backendConnector.reload(e,t,function(e){n.resolve(),r(e)}),n}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(e.type)return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Za.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this;throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()")}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(-1<["cimode","dev"].indexOf(e)))for(var t=0;t<this.languages.length;t++){var r=this.languages[t];if(!(-1<["cimode","dev"].indexOf(r))&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}},{key:"changeLanguage",value:function(r,n){function e(e){var t="string"==typeof(e=r||e||!a.services.languageDetector?e:[])?e:a.services.languageUtils.getBestMatchFromCodes(e);t&&(a.language||s(t),a.translator.language||a.translator.changeLanguage(t),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage(t)),a.loadResources(t,function(e){i(e,t)})}var a=this,o=(this.isLanguageChangingTo=r,Ma()),s=(this.emit("languageChanging",r),function(e){a.language=e,a.languages=a.services.languageUtils.toResolveHierarchy(e),a.resolvedLanguage=void 0,a.setResolvedLanguage(e)}),i=function(e,t){t?(s(t),a.translator.changeLanguage(t),a.isLanguageChangingTo=void 0,a.emit("languageChanged",t),a.logger.log("languageChanged",t)):a.isLanguageChangingTo=void 0,o.resolve(function(){return a.t.apply(a,arguments)}),n&&n(e,function(){return a.t.apply(a,arguments)})};return r||!this.services.languageDetector||this.services.languageDetector.async?!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(e):e(r):e(this.services.languageDetector.detect()),o}},{key:"getFixedT",value:function(e,t,i){function l(e,t){var r;if("object"!==Ea(t)){for(var n=arguments.length,a=new Array(2<n?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];r=c.options.overloadTranslationOptionHandler([e,t].concat(a))}else r=h({},t);r.lng=r.lng||l.lng,r.lngs=r.lngs||l.lngs,r.ns=r.ns||l.ns,r.keyPrefix=r.keyPrefix||i||l.keyPrefix;var s=c.options.keySeparator||".",s=r.keyPrefix?"".concat(r.keyPrefix).concat(s).concat(e):e;return c.t(s,r)}var c=this;return"string"==typeof e?l.lng=e:l.lngs=e,l.ns=t,l.keyPrefix=i,l}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var r=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var n=this.resolvedLanguage||this.languages[0],a=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;function s(e,t){return-1===(e=r.services.backendConnector.state["".concat(e,"|").concat(t)])||2===e}if(t.precheck){t=t.precheck(this,s);if(void 0!==t)return t}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!s(n,e)||a&&!s(o,e)))}},{key:"loadNamespaces",value:function(e,t){var r=this,n=Ma();return this.options.ns?((e="string"==typeof e?[e]:e).forEach(function(e){r.options.ns.indexOf(e)<0&&r.options.ns.push(e)}),this.loadResources(function(e){n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var r=Ma(),n=this.options.preload||[],e=(e="string"==typeof e?[e]:e).filter(function(e){return n.indexOf(e)<0});return e.length?(this.options.preload=n.concat(e),this.loadResources(function(e){r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return!(e=e||this.resolvedLanguage||(this.languages&&0<this.languages.length?this.languages[0]:this.language))||-1<["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))||1<e.toLowerCase().indexOf("-arab")?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Ro,n=h(h(h({},this.options),e),{isClone:!0}),a=new To(n);void 0===e.debug&&void 0===e.prefix||(a.logger=a.logger.clone(e));return["store","services","language"].forEach(function(e){a[e]=t[e]}),a.services=h({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new ao(a.services,a.options),a.translator.on("*",function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];a.emit.apply(a,[e].concat(r))}),a.init(n,r),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]);var Po,Ao=To;function To(){var e,t,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0;if(s(this,To),e=Po.call(this),Va&&p.call(l(e)),e.options=Co(r),e.services={},e.logger=u,e.modules={external:[]},t=l(e),Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(function(e){"function"==typeof t[e]&&(t[e]=t[e].bind(t))}),n&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,n),xa(e,l(e));setTimeout(function(){e.init(r,n)},0)}return e}c(Ao,"createInstance",function(){return new Ao(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length?arguments[1]:void 0)});var f=Ao.createInstance(),v=(f.createInstance=Ao.createInstance,f.createInstance,f.init,f.loadResources,f.reloadResources,f.use,f.changeLanguage,f.getFixedT,f.t);f.exists,f.setDefaultNamespace,f.hasLoadedNamespace,f.loadNamespaces,f.loadLanguages;function Mo(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},a=Object.keys(e),o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function Do(e){return Bo[e]}var $o=m("react"),Fo=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Bo={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"};function Uo(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Go(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Uo(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uo(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Ho,qo={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(Fo,Do)}},Vo=(0,$o.createContext)();n(Ko,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach(function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]);var zo=Ko;function Ko(){s(this,Ko),this.usedNamespaces={}}$o={type:"3rdParty",init:function(e){!function(e){var t=0<arguments.length&&void 0!==e?e:{};qo=Go(Go({},qo),t)}(e.options.react),Ho=e}};var Wo={};function Jo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];"string"==typeof t[0]&&Wo[t[0]]||("string"==typeof t[0]&&(Wo[t[0]]=new Date),function(){if(console&&console.warn){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];"string"==typeof r[0]&&(r[0]="react-i18next:: ".concat(r[0])),(e=console).warn.apply(e,r)}}.apply(void 0,t))}function Xo(t,e,r){t.loadNamespaces(e,function(){t.isInitialized?r():t.on("initialized",function e(){setTimeout(function(){t.off("initialized",e)},0),r()})})}function Yo(r,e,t){var n=2<arguments.length&&void 0!==t?t:{};return e.languages&&e.languages.length?void 0!==e.options.ignoreJSONStructure?e.hasLoadedNamespace(r,{precheck:function(e,t){if(n.bindI18n&&-1<n.bindI18n.indexOf("languageChanging")&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!t(e.isLanguageChangingTo,r))return!1}}):function(e,r,t){var n,a=2<arguments.length&&void 0!==t?t:{},o=r.languages[0],s=!!r.options&&r.options.fallbackLng,i=r.languages[r.languages.length-1];return"cimode"===o.toLowerCase()||(n=function(e,t){e=r.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===e||2===e},!(a.bindI18n&&-1<a.bindI18n.indexOf("languageChanging")&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!n(r.isLanguageChangingTo,e))&&(!!r.hasResourceBundle(o,e)||(!(r.services.backendConnector.backend&&(!r.options.resources||r.options.partialBundledLanguages))||!(!n(o,e)||s&&!n(i,e)))))}(r,e,n):(Jo("i18n.languages were undefined or empty",e.languages),!0)}function Qo(e,t){return Oa(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||Ia(e,t)||Ca()}var b=m("react");function Zo(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function es(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zo(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zo(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var ts=function(e,t){var r=(0,b.useRef)();return(0,b.useEffect)(function(){r.current=t?r.current:e},[e,t]),r.current};function rs(e,t){var r=1<arguments.length&&void 0!==t?t:{},n=r.i18n,a=(0,b.useContext)(Vo)||{},o=a.i18n,a=a.defaultNS,s=n||o||Ho;if(s&&!s.reportNamespaces&&(s.reportNamespaces=new zo),!s)return Jo("You will need to pass in an i18next instance by using initReactI18next"),(o=[n=function(e){return Array.isArray(e)?e[e.length-1]:e},{},!1]).t=n,o.i18n={},o.ready=!1,o;s.options.react&&void 0!==s.options.react.wait&&Jo("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var i=es(es(es({},qo),s.options.react),r),l=i.useSuspense,c=i.keyPrefix,u="string"==typeof(u=e||a||s.options&&s.options.defaultNS)?[u]:u||["translation"],p=(s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(u),(s.isInitialized||s.initializedStoreOnce)&&u.every(function(e){return Yo(e,s,i)}));function d(){return s.getFixedT(null,"fallback"===i.nsMode?u:u[0],c)}var n=Qo((0,b.useState)(d),2),o=n[0],h=n[1],f=u.join(),m=ts(f),g=(0,b.useRef)(!0),v=((0,b.useEffect)(function(){var e=i.bindI18n,t=i.bindI18nStore;function r(){g.current&&h(d)}return g.current=!0,p||l||Xo(s,u,function(){g.current&&h(d)}),p&&m&&m!==f&&g.current&&h(d),e&&s&&s.on(e,r),t&&s&&s.store.on(t,r),function(){g.current=!1,e&&s&&e.split(" ").forEach(function(e){return s.off(e,r)}),t&&s&&t.split(" ").forEach(function(e){return s.store.off(e,r)})}},[s,f]),(0,b.useRef)(!0)),r=((0,b.useEffect)(function(){g.current&&!v.current&&h(d),v.current=!1},[s,c]),[o,s,p]);if(r.t=o,r.i18n=s,(r.ready=p)||!p&&!l)return r;throw new Promise(function(e){Xo(s,u,function(){e()})})}var ns=m("react"),as=["forwardedRef"];function os(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ss(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?os(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):os(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function is(s,e){var i=1<arguments.length&&void 0!==e?e:{};return function(o){function r(e){var t=e.forwardedRef,e=Mo(e,as),r=Qo(rs(s,ss(ss({},e),{},{keyPrefix:i.keyPrefix})),3),n=r[0],a=r[1],r=r[2],e=ss(ss({},e),{},{t:n,i18n:a,tReady:r});return i.withRef&&t?e.ref=t:!i.withRef&&t&&(e.forwardedRef=t),(0,ns.createElement)(o,e)}var e;r.displayName="withI18nextTranslation(".concat((e=o).displayName||e.name||("string"==typeof e&&0<e.length?e:"Unknown"),")"),r.WrappedComponent=o;return i.withRef?(0,ns.forwardRef)(function(e,t){return(0,ns.createElement)(r,Object.assign({},e,{forwardedRef:t}))}):r}}function ls(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var cs=[],us=cs.forEach,ps=cs.slice;function ds(){if(null===ys)try{ys="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){ys=!1}return ys}function hs(){if(null===Es)try{Es="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){Es=!1}return Es}var fs=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ms=function(e,t,r,n){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};r&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+60*r*1e3)),n&&(a.domain=n),document.cookie=function(e,t,r){var r=r||{},t=(r.path=r.path||"/",encodeURIComponent(t)),n="".concat(e,"=").concat(t);if(0<r.maxAge){e=+r.maxAge;if(Number.isNaN(e))throw new Error("maxAge should be a Number");n+="; Max-Age=".concat(Math.floor(e))}if(r.domain){if(!fs.test(r.domain))throw new TypeError("option domain is invalid");n+="; Domain=".concat(r.domain)}if(r.path){if(!fs.test(r.path))throw new TypeError("option path is invalid");n+="; Path=".concat(r.path)}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");n+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(n+="; HttpOnly"),r.secure&&(n+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:n+="; SameSite=Strict";break;case"lax":n+="; SameSite=Lax";break;case"strict":n+="; SameSite=Strict";break;case"none":n+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n}(e,encodeURIComponent(t),a)},gs=function(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var a=r[n];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null},vs={name:"cookie",lookup:function(e){var t;return t=e.lookupCookie&&"undefined"!=typeof document&&(e=gs(e.lookupCookie))?e:t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&ms(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},bs={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var r=window.location.search,n=(r=!window.location.search&&window.location.hash&&-1<window.location.hash.indexOf("?")?window.location.hash.substring(window.location.hash.indexOf("?")):r).substring(1).split("&"),a=0;a<n.length;a++){var o=n[a].indexOf("=");0<o&&n[a].substring(0,o)===e.lookupQuerystring&&(t=n[a].substring(o+1))}return t}},ys=null,ws={name:"localStorage",lookup:function(e){var t;return e.lookupLocalStorage&&ds()&&((e=window.localStorage.getItem(e.lookupLocalStorage))&&(t=e)),t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&ds()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},Es=null,Ss={name:"sessionStorage",lookup:function(e){var t;return e.lookupSessionStorage&&hs()&&((e=window.sessionStorage.getItem(e.lookupSessionStorage))&&(t=e)),t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&hs()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},ks={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)t.push(navigator.languages[r]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return 0<t.length?t:void 0}},_s={name:"htmlTag",lookup:function(e){var t,e=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return t=e&&"function"==typeof e.getAttribute?e.getAttribute("lang"):t}},xs={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof r[e.lookupFromPathIndex])return;t=r[e.lookupFromPathIndex].replace("/","")}else t=r[0].replace("/","")}return t}},Os={name:"subdomain",lookup:function(e){var e="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,t="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(t)return t[e]}};var cs=function(){function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this,n=a;if(!(r instanceof n))throw new TypeError("Cannot call a class as a function");this.type="languageDetector",this.detectors={},this.init(e,t)}var e,t,r;return e=a,(t=[{key:"init",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(r){return us.call(ps.call(arguments,1),function(e){if(e)for(var t in e)void 0===r[t]&&(r[t]=e[t])}),r}(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(vs),this.addDetector(bs),this.addDetector(ws),this.addDetector(Ss),this.addDetector(ks),this.addDetector(_s),this.addDetector(xs),this.addDetector(Os)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this,r=(e=e||this.options.order,[]);return e.forEach(function(e){t.detectors[e]&&(e=(e=t.detectors[e].lookup(t.options))&&"string"==typeof e?[e]:e)&&(r=r.concat(e))}),this.services.languageUtils.getBestMatchFromCodes?r:0<r.length?r[0]:null}},{key:"cacheUserLanguage",value:function(t,e){var r=this;!(e=e||this.options.caches)||this.options.excludeCacheFor&&-1<this.options.excludeCacheFor.indexOf(t)||e.forEach(function(e){r.detectors[e]&&r.detectors[e].cacheUserLanguage(t,r.options)})}}])&&ls(e.prototype,t),r&&ls(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(),y=(cs.type="languageDetector",t(m("react"))),js=t(Fe()),Is=(t(r()),t(oa()),"0.8.4"),Cs="marketplace:installed-extensions",w="marketplace:installed-snippets",Ns="marketplace:installed-themes",Ls="marketplace:active-tab",Rs="marketplace:tabs",Ps="marketplace:sort-by",As="marketplace:theme-installed",Ts=[{name:"Extensions",enabled:!0},{name:"Themes",enabled:!0},{name:"Snippets",enabled:!0},{name:"Apps",enabled:!0},{name:"Installed",enabled:!0}],E=100,Ms="/marketplace",Ds="https://api.github.com/repos/spicetify/spicetify-marketplace/releases/tags/v0.8.4",S=(t,e)=>{t=localStorage.getItem(t);if(!t)return e;try{return JSON.parse(t)}catch(e){return t}},$s=e=>{const n={section:/^\s*\[\s*([^\]]*)\s*\]\s*$/,param:/^\s*([^=]+?)\s*=\s*(.*?)\s*$/,comment:/^\s*;.*$/},a={},t=e.split(/[\r\n]+/);let o=null;return t.forEach(function(e){if(!n.comment.test(e))if(n.param.test(e)){const r=e.match(n.param);o?a[o][null==r?void 0:r[1]]=null==r?void 0:r[2].split(";")[0].trim():r&&(a[r[1]]=r[2].split(";")[0].trim())}else{var t;n.section.test(e)?(t=e.match(n.section))&&(a[t[1]]={},o=t[1]):0==e.length&&o&&(o=null)}}),a},Fs=e=>{const t=document.querySelector("style.marketplaceSnippets"),r=(t&&t.remove(),document.createElement("style"));e=e.reduce((e,t)=>e=(e+=`/* ${t.title} - ${t.description} */
`)+t.code+`
`,"");r.innerHTML=e,r.classList.add("marketplaceSnippets"),document.head.appendChild(r)},Bs=(e,t)=>{let r=[];return e&&0<e.length?r=e.map(e=>({name:e.name,url:Ws(e.url)})):r.push({name:t,url:"https://github.com/"+t}),r},Us=e=>e?Object.keys(e).map(e=>({key:e,value:e})):[],Gs=()=>{console.log("Resetting Marketplace"),Object.keys(localStorage).forEach(e=>{e.startsWith("marketplace:")&&(localStorage.removeItem(e),console.log("Removed "+e))}),console.log("Marketplace has been reset"),location.reload()},Hs=r=>{const e=document.querySelector("style.marketplaceCSS.marketplaceScheme");if(e&&e.remove(),r){const n=document.createElement("style");n.classList.add("marketplaceCSS"),n.classList.add("marketplaceScheme");let t=":root {";const a=Object.keys(r);a.forEach(e=>{t=(t+=`--spice-${e}: #${r[e]} !important;`)+`--spice-rgb-${e}: ${(e=>{if(3===e.length)e=e.split("").map(e=>e+e).join("");else{if(6!=e.length)throw"Only 3- or 6-digit hex colours are allowed.";if(e.match(/[^0-9a-f]/i))throw"Only hex colours are allowed."}e=e.match(/.{1,2}/g);if(e&&3===e.length)return[parseInt(e[0],16),parseInt(e[1],16),parseInt(e[2],16)];throw"Could not parse hex colour."})(r[e])} !important;`}),t+="}",n.innerHTML=t,document.head.appendChild(n)}else{const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href","colors.css"),t.classList.add("userCSS"),document.head.appendChild(t)}},qs=e=>{try{const t=document.querySelector("link[href='user.css']"),r=(t&&t.remove(),document.querySelector("style.marketplaceCSS.marketplaceUserCSS"));if(r&&r.remove(),e){const n=document.createElement("style");n.classList.add("marketplaceCSS"),n.classList.add("marketplaceUserCSS"),n.innerHTML=e,document.head.appendChild(n)}else{const a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("href","user.css"),a.classList.add("userCSS"),document.head.appendChild(a)}}catch(e){console.warn(e)}},Vs=async e=>{if(!e.cssURL)throw new Error("No CSS URL provided");const t=(e=>{const t=new URL(e);return t.host,t.host==="raw.githubusercontent.com"})(e.cssURL)?`https://cdn.jsdelivr.net/gh/${e.user}/${e.repo}@${e.branch}/`+e.manifest.usercss:e.cssURL;var r,n=t.replace("/user.css","/assets/");console.log("Parsing CSS: ",t);let a=await fetch(t+"?time="+Date.now()).then(e=>e.text());for(const o of a.matchAll(new RegExp(`url\\(['|"](?<path>.+?)['|"]\\)`,"gm"))||[]){const s=null==(r=null==o?void 0:o.groups)?void 0:r.path;!s||s.startsWith("http")||s.startsWith("data")||(r=n+s.replace(/\.\//g,""),a=a.replace(s,r))}return a};async function zs(e,t,r){try{var n={text:e,context:t+"/"+r,mode:"gfm"};const a=await fetch("https://api.github.com/markdown",{method:"POST",body:JSON.stringify(n)});if(a.ok)return await a.text();throw Spicetify.showNotification(`Error parsing markdown (HTTP ${a.status})`,!0)}catch(e){return null}}function Ks(e){var t,r="snippet"===e.type?"snippet:":`${e.item.user}/${e.item.repo}/`;let n;switch(e.type){case"snippet":n=e.item.title.replaceAll(" ","-");break;case"theme":n=(null==(t=e.item.manifest)?void 0:t.usercss)||"";break;case"extension":n=(null==(t=e.item.manifest)?void 0:t.main)||"";break;case"app":n=(null==(t=null==(t=e.item.manifest)?void 0:t.name)?void 0:t.replaceAll(" ","-"))||""}return"marketplace:installed:"+r+n}var Ws=e=>{const t=decodeURI(e).trim().toLowerCase();return t.startsWith("javascript:")||t.startsWith("data:")||t.startsWith("vbscript:")?"about:blank":e},Js=t(m("react")),k=t(m("react")),Xs=t(sa()),Ys=t(ia()),Qs=(Fe=Prism,r=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,Fe.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+r.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+r.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+r.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+r.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:r,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Fe.languages.css.atrule.inside.rest=Fe.languages.css,(r=Fe.languages.markup)&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css")),t(m("react"))),Zs="button-module__button___hf2qg_marketplace",ei="button-module__circle___EZ88P_marketplace",_=e=>{var t=e.type||"round";const r=[Zs];return"circle"===t&&r.push(ei),e.classes&&r.push(...e.classes),Qs.default.createElement("button",{className:r.join(" "),onClick:e.onClick,"aria-label":e.label,disabled:e.disabled},e.children)},ti=o=>{var e,t="marketplace-customCSS-preview";const[s,r]=k.default.useState("ADD_SNIPPET"!==o.type&&(null==(e=o.content)?void 0:e.item.code)||""),[n,a]=k.default.useState("ADD_SNIPPET"!==o.type&&(null==(e=o.content)?void 0:e.item.title)||""),[i,l]=k.default.useState("ADD_SNIPPET"!==o.type&&(null==(e=o.content)?void 0:e.item.description)||""),[c,u]=k.default.useState("ADD_SNIPPET"!==o.type&&(null==(e=o.content)?void 0:e.item.imageURL)||""),p=()=>n.replace(/\n/g,"").replaceAll(" ","-");const d="marketplace:installed:snippet:"+p(),[h,f]=k.default.useState(!!S(d));let m;return k.default.createElement("div",{id:"marketplace-add-snippet-container"},k.default.createElement("div",{className:"marketplace-customCSS-input-container"},k.default.createElement("label",{htmlFor:"marketplace-custom-css"},v("snippets.customCSS")),k.default.createElement("div",{className:"marketplace-code-editor-wrapper marketplace-code-editor"},k.default.createElement(Xs.default,{value:s,onValueChange:e=>r(e),highlight:e=>(0,Ys.highlight)(e,Ys.languages.css),textareaId:"marketplace-custom-css",textareaClassName:"snippet-code-editor",readOnly:"VIEW_SNIPPET"===o.type,placeholder:v("snippets.customCSSPlaceholder"),style:{}}))),k.default.createElement("div",{className:"marketplace-customCSS-input-container"},k.default.createElement("label",{htmlFor:"marketplace-customCSS-name-submit"},v("snippets.snippetName")),k.default.createElement("input",{id:"marketplace-customCSS-name-submit",className:"marketplace-code-editor",value:n,onChange:e=>{"VIEW_SNIPPET"!==o.type&&a(e.target.value)},placeholder:v("snippets.snippetNamePlaceholder")})),k.default.createElement("div",{className:"marketplace-customCSS-input-container"},k.default.createElement("label",{htmlFor:"marketplace-customCSS-description-submit"},v("snippets.snippetDesc")),k.default.createElement("input",{id:"marketplace-customCSS-description-submit",className:"marketplace-code-editor",value:i,onChange:e=>{"VIEW_SNIPPET"!==o.type&&l(e.target.value)},placeholder:v("snippets.snippetDescPlaceholder")})),k.default.createElement("div",{className:"marketplace-customCSS-input-container"},k.default.createElement("label",{htmlFor:t},v("snippets.snippetPreview")," ","VIEW_SNIPPET"!==o.type&&`(${v("snippets.optional")})`),c&&k.default.createElement("label",{htmlFor:t,style:{textAlign:"center"}},k.default.createElement("img",{className:"marketplace-customCSS-image-preview",src:c,alt:"Preview"}))),"VIEW_SNIPPET"!==o.type&&k.default.createElement(k.default.Fragment,null,k.default.createElement(_,{onClick:()=>{m.click()}},c.length?v("snippets.changeImage"):v("snippets.addImage"),k.default.createElement("input",{id:t,type:"file",style:{display:"none"},ref:e=>m=e,onChange:async e=>{var t,r,n;if(null!=(t=e.target.files)&&t[0])try{n=null==(r=e.target.files)?void 0:r[0];var a=await new Promise((e,t)=>{const r=new FileReader;r.readAsDataURL(n),r.onload=()=>{e(r.result)},r.onerror=e=>{t(e)}});a&&(console.log(a),u(a))}catch(e){console.error(e)}}})),k.default.createElement(_,{onClick:()=>{var e=p(),t=i.trim();if(h&&"EDIT_SNIPPET"!==o.type)Spicetify.showNotification("That name is already taken!",!0);else{if(console.log("Installing snippet: "+e),o.content&&o.content.item.title!==e){console.log("Deleting outdated snippet: "+o.content.item.title),localStorage.removeItem("marketplace:installed:snippet:"+o.content.item.title);const a=S(w,[]);var r=a.filter(e=>{return e!=="marketplace:installed:snippet:"+(null==(e=o.content)?void 0:e.item.title)});localStorage.setItem(w,JSON.stringify(r))}localStorage.setItem(d,JSON.stringify({title:e,code:s,description:t,imageURL:c,custom:!0}));const n=S(w,[]);-1===n.indexOf(d)&&(n.push(d),console.log(n),localStorage.setItem(w,JSON.stringify(n)));r=n.map(e=>S(e));Fs(r),Spicetify.PopupModal.hide(),"EDIT_SNIPPET"===o.type&&location.reload()}},disabled:!p()||!s.replace(/\n/g,"\\n")},v("snippets.saveCSS"))),"VIEW_SNIPPET"===o.type&&k.default.createElement(_,{onClick:()=>{o.callback&&o.callback(),f(!h)}},h?v("remove"):v("install")))},ri=t(m("react")),ni=()=>ri.default.createElement("div",{id:"marketplace-reload-container"},ri.default.createElement("p",null,v("reloadModal.description")),ri.default.createElement("div",{className:"marketplace-reload-modal__button-container"},ri.default.createElement(_,{onClick:()=>{Spicetify.PopupModal.hide(),location.reload()}},v("reloadModal.reloadNow")),ri.default.createElement(_,{onClick:()=>{Spicetify.PopupModal.hide()}},v("reloadModal.reloadLater")))),x=t(m("react")),ai=t(m("react")),oi=t(m("react")),si="toggle-module__toggle-wrapper___ocE5z_marketplace",ii="toggle-module__disabled___OYAYf_marketplace",li="toggle-module__toggle-input___ceLM4_marketplace",ci="toggle-module__toggle-indicator-wrapper___6Lcp0_marketplace",ui="toggle-module__toggle-indicator___nCxwE_marketplace",pi=e=>{var t="toggle:"+e.storageKey;const r=[si];return!1===e.clickable&&r.push(ii),oi.default.createElement("label",{className:r.join(" ")},oi.default.createElement("input",{className:li,type:"checkbox",checked:e.enabled,"data-storage-key":e.storageKey,id:t,title:"Toggle for "+e.storageKey,onChange:e.onChange}),oi.default.createElement("span",{className:ci},oi.default.createElement("span",{className:ui})))},di=t(m("react")),hi=t(ca()),fi=t=>{var e=t.sortBoxOptions.map(e=>({value:e.key,label:e.value})),r=t.sortBoxOptions.find(t.sortBySelectedFn);return di.default.createElement("div",{className:"marketplace-sortBox"},di.default.createElement("div",{className:"marketplace-sortBox-header"},di.default.createElement("div",{className:"marketplace-sortBox-header-title"}),di.default.createElement(hi.default,{placeholder:"Select an option",options:e,value:null==r?void 0:r.key,onChange:e=>{t.onChange(e.value)}})))},mi=r=>{var e=r.type,t="dropdown"===e?"dropdown:"+r.storageKey:"toggle:"+r.storageKey,n=!!r.modalConfig.visual[r.storageKey];return"dropdown"===e&&r.options?ai.default.createElement(fi,{sortBoxOptions:r.options.map(e=>({key:e,value:e})),onChange:e=>{var t=r.storageKey;r.modalConfig.visual[t]=e,localStorage.setItem("marketplace:"+t,String(e)),r.updateConfig(r.modalConfig)},sortBySelectedFn:e=>e.key==r.modalConfig.visual[r.storageKey]}):ai.default.createElement("div",{className:"setting-row"},ai.default.createElement("label",{htmlFor:t,className:"col description"},r.name),ai.default.createElement("div",{className:"col action"},ai.default.createElement(pi,{name:r.name,storageKey:r.storageKey,enabled:n,onChange:e=>{var t=e.target.checked,e=e.target.dataset.storageKey;r.modalConfig.visual[e]=t,console.log(`toggling ${e} to `+t),localStorage.setItem("marketplace:"+e,String(t)),r.updateConfig(r.modalConfig)}})))},gi=t(m("react")),vi=n=>{var e="toggle:"+n.name;const t=n.modalConfig.tabs.reduce((e,t,r)=>t.name===n.name?r:e,-1);var r=n.modalConfig.tabs[t]["enabled"];function a(e,t){console.log({currPos:e,dir:t});var t=e+t,r=n.modalConfig.tabs[t];n.modalConfig.tabs[t]=n.modalConfig.tabs[e],n.modalConfig.tabs[e]=r,localStorage.setItem(Rs,JSON.stringify(n.modalConfig.tabs)),n.updateConfig(n.modalConfig)}return gi.default.createElement("div",{className:"setting-row"},gi.default.createElement("label",{htmlFor:e,className:"col description"},v("tabs."+n.name)),gi.default.createElement("div",{className:"col action"},gi.default.createElement("button",{title:"Move up",className:"arrow-btn",disabled:0===t,onClick:()=>a(t,-1)},gi.default.createElement("svg",{height:"16",width:"16",viewBox:"0 0 16 16",fill:"currentColor",dangerouslySetInnerHTML:{__html:String(Spicetify.SVGIcons["chart-up"])}})),gi.default.createElement("button",{title:"Move down",className:"arrow-btn",disabled:t===n.modalConfig.tabs.length-1,onClick:()=>a(t,1)},gi.default.createElement("svg",{height:"16",width:"16",viewBox:"0 0 16 16",fill:"currentColor",dangerouslySetInnerHTML:{__html:String(Spicetify.SVGIcons["chart-down"])}})),gi.default.createElement(pi,{name:n.name,storageKey:"tab:"+n.name,clickable:"Extensions"!==n.name,enabled:r,onChange:e=>{console.log({e:e}),n.modalConfig.tabs[t].enabled=e.target.checked,localStorage.setItem(Rs,JSON.stringify(n.modalConfig.tabs)),n.updateConfig(n.modalConfig)}})))},bi=async()=>{const e=new MutationObserver(async()=>{var t;document.querySelector(".GenericModal[aria-label='Settings']")||(t=100,await new Promise(e=>setTimeout(e,t)),Ii("BACKUP"),e.disconnect())});e.observe(document.body,{childList:!0,subtree:!0}),Spicetify.PopupModal.hide()},yi=({CONFIG:e,updateAppConfig:t})=>{const[r,n]=x.default.useState(i({},e)),a=e=>{t(i({},e)),n(i({},e))},o=document.querySelector("body > generic-modal button.main-trackCreditsModal-closeBtn"),s=document.querySelector("body > generic-modal > div");return o&&s&&(o.onclick=()=>location.reload(),o.setAttribute("style","cursor: pointer;"),s.onclick=e=>{e.target===s&&location.reload()}),x.default.createElement("div",{id:"marketplace-config-container"},x.default.createElement("h2",null,v("settings.optionsHeading")),x.default.createElement(mi,{name:v("settings.starCountLabel"),storageKey:"stars",modalConfig:r,updateConfig:a}),x.default.createElement(mi,{name:v("settings.tagsLabel"),storageKey:"tags",modalConfig:r,updateConfig:a}),x.default.createElement(mi,{name:v("settings.devToolsLabel"),storageKey:"themeDevTools",modalConfig:r,updateConfig:a}),x.default.createElement(mi,{name:v("settings.hideInstalledLabel"),storageKey:"hideInstalled",modalConfig:r,updateConfig:a}),x.default.createElement(mi,{name:v("settings.colourShiftLabel"),storageKey:"colorShift",modalConfig:r,updateConfig:a}),x.default.createElement(mi,{name:v("settings.albumArtBasedColors"),storageKey:"albumArtBasedColors",modalConfig:r,updateConfig:a}),x.default.createElement(mi,{name:v("settings.albumArtBasedColorsMode"),storageKey:"albumArtBasedColorsMode",modalConfig:r,updateConfig:a,type:"dropdown",options:["monochromeDark","monochromeLight","analogicComplement","analogic","triad","quad"]}),x.default.createElement("h2",null,v("settings.tabsHeading")),x.default.createElement("div",{className:"tabs-container"},r.tabs.map(({name:e},t)=>x.default.createElement(vi,{key:t,name:e,modalConfig:r,updateConfig:a}))),x.default.createElement("h2",null,v("settings.resetHeading")),x.default.createElement("div",{className:"setting-row"},x.default.createElement("label",{className:"col description"},v("settings.resetDescription")),x.default.createElement("div",{className:"col action"},x.default.createElement(_,{onClick:Gs},v("settings.resetBtn")))),x.default.createElement("h2",null,v("settings.backupHeading")),x.default.createElement("div",{className:"setting-row"},x.default.createElement("label",{className:"col description"},v("settings.backupLabel")),x.default.createElement("div",{className:"col action"},x.default.createElement(_,{onClick:bi},v("settings.backupBtn")))))},O=t(m("react")),wi=t(sa()),Ei=t(ia()),Si=(Prism.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/},localStorage.getItem(As)),ki=Si?S(Si):null,_i=()=>{const[r,t]=O.default.useState(ki?(e=>{let t="";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r))if("object"==typeof e[r]){t+=`[${r}]
`;for(const n in e[r])Object.prototype.hasOwnProperty.call(e[r],n)&&(t+=`${n}=${e[r][n]}
`)}else t+=`${r}=${e[r]}
`;return t})(ki.schemes):v("devTools.noThemeInstalled"));return O.default.createElement("div",{id:"marketplace-theme-dev-tools-container",className:"marketplace-theme-dev-tools-container"},O.default.createElement("div",{className:"devtools-column"},O.default.createElement("label",{htmlFor:"color-ini-editor"},O.default.createElement("h2",{className:"devtools-heading"},v("devTools.colorIniEditor"))),O.default.createElement("div",{className:"marketplace-code-editor-wrapper marketplace-code-editor"},O.default.createElement(wi.default,{value:r,onValueChange:e=>t(e),highlight:e=>(0,Ei.highlight)(e,Ei.languages.ini),textareaId:"color-ini-editor",textareaClassName:"color-ini-editor",readOnly:!ki,placeholder:v("devTools.colorIniEditorPlaceholder"),style:{fontFamily:"monospace",resize:"none"}})),O.default.createElement(_,{onClick:()=>{var e=r;{var t;Si?(t=$s(e),ki.schemes=t,localStorage.setItem(Si,JSON.stringify(ki))):Spicetify.showNotification(v("devTools.noThemeManifest"),!0)}}},v("save"))),O.default.createElement("div",{className:"devtools-column"},O.default.createElement("h2",{className:"devtools-heading"},v("devTools.invalidCSS")),O.default.createElement("div",{className:"marketplace-code-editor-wrapper marketplace-code-editor"},function(){var e=document.querySelector("head > style.marketplaceCSS.marketplaceUserCSS");const t=null==e?void 0:e.innerHTML;if(e=new RegExp(".-?[_a-zA-Z]+[_a-zA-Z0-9-]*\\s*{","g"),!t)return["Error: Class name list not found; please create an issue"];const r=[];for(const a of t.matchAll(e)){const o=a[0].replace(/{/g,"").trim();var n=o.split(" ");let t;for(let e=0;e<n.length;e++){try{t=document.querySelector(""+n[e])}catch(e){t=document.getElementsByClassName(""+o)}t||r.push(o)}}return r}().map((e,t)=>O.default.createElement("div",{key:t,className:"invalid-css-text"},e)))))},j=t(m("react")),xi=t(sa()),Oi=t(ia()),ji=(Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json,()=>{const[e,t]=j.default.useState("");const n=t=>{if(t){let e;try{e=JSON.parse(t)}catch(e){return void Spicetify.showNotification(v("backupModal.invalidJSON"))}var r;r=e,console.log("Importing Marketplace"),Gs(),Object.keys(r).forEach(e=>{localStorage.setItem(e,r[e]),console.log("Imported "+e)}),location.reload()}else Spicetify.showNotification(v("backupModal.noDataPasted"))};return j.default.createElement("div",{id:"marketplace-backup-container"},j.default.createElement("div",{className:"marketplace-backup-input-container"},j.default.createElement("label",{htmlFor:"marketplace-backup"},v("backupModal.inputLabel")),j.default.createElement("div",{className:"marketplace-code-editor-wrapper marketplace-code-editor"},j.default.createElement(xi.default,{value:e,onValueChange:e=>t(e),highlight:e=>(0,Oi.highlight)(e,Oi.languages.css),textareaId:"marketplace-import-text",textareaClassName:"import-textarea",readOnly:!1,className:"marketplace-code-editor-textarea",placeholder:v("backupModal.inputPlaceholder"),style:{}}))),j.default.createElement(j.default.Fragment,null,j.default.createElement(_,{classes:["marketplace-backup-button"],onClick:()=>{var e=(()=>{const t={};return Object.keys(localStorage).forEach(e=>{e.startsWith("marketplace:")&&(t[e]=localStorage.getItem(e))}),t})();Spicetify.Platform.ClipboardAPI.copy(JSON.stringify(e)),Spicetify.showNotification(v("backupModal.settingsCopied")),Spicetify.PopupModal.hide()}},v("backupModal.exportBtn")),j.default.createElement(_,{classes:["marketplace-backup-button"],onClick:()=>{n(e)}},v("backupModal.importBtn")),j.default.createElement(_,{classes:["marketplace-backup-button"],onClick:async()=>{const e=await window.showOpenFilePicker(),t=await e[0].getFile();var r=await t.text();n(r)}},v("backupModal.fileImportBtn"))))}),Ii=(e,t,r,n,a)=>{e=((e,t,r,n,a)=>{switch(e){case"ADD_SNIPPET":return{title:v("snippets.addTitle"),content:Js.default.createElement(ti,{type:e}),isLarge:!0};case"EDIT_SNIPPET":return{title:v("snippets.editTitle"),content:Js.default.createElement(ti,{type:e,content:n}),isLarge:!0};case"VIEW_SNIPPET":return{title:v("snippets.viewTitle"),content:Js.default.createElement(ti,{type:e,content:n,callback:a}),isLarge:!0};case"RELOAD":return{title:v("reloadModal.title"),content:Js.default.createElement(ni,null),isLarge:!1};case"SETTINGS":return{title:v("settings.title"),content:Js.default.createElement(yi,{CONFIG:t,updateAppConfig:r}),isLarge:!0};case"THEME_DEV_TOOLS":return{title:v("devTools.title"),content:Js.default.createElement(_i,null),isLarge:!0};case"BACKUP":return{title:v("backupModal.title"),content:Js.default.createElement(ji,null),isLarge:!0};default:return{title:"",content:Js.default.createElement("div",null),isLarge:!1}}})(e,t,r,n,a),Spicetify.PopupModal.display(e)},Ci=[{title:"Fix 'Liked' Icon",description:"Fix the colours of the Liked icon in sidebar",code:".main-likedSongsButton-likedSongsIcon {\n  color: var(--spice-sidebar);\n  background: var(--spice-text);\n}",preview:"resources/assets/snippets/fix-liked-icon.png"},{title:"Hide Upgrade Button",description:"Makes the upgrade button hidden",code:".main-topBar-UpgradeButton {\n  display: none !important;\n}",preview:"resources/assets/snippets/hide-upgrade-button.png"},{title:"Auto-hide Friends",description:"Collapse the friends activity sidebar on small screens",code:"[aria-label='Friend Activity'] {\n  transition: width 0.3s;\n}\n@media screen and (max-width: 1200px) {\n  [aria-label='Friend Activity'] {\n    width: 0;\n  }\n  [aria-label='Friend Activity'] .LayoutResizer__resize-bar {\n    display: none;\n  }\n}",preview:"resources/assets/snippets/auto-hide-friends.png"},{title:"Smooth Reveal Playlist Gradient",description:"Reveals the playlist gradient header gradient with a fade in effect",code:".main-entityHeader-overlay,\n.main-actionBarBackground-background,\n.main-entityHeader-overlay,\n.main-entityHeader-backgroundColor {\n  -webkit-transition: 3s;\n}",preview:"resources/assets/snippets/smooth-playlist-reveal-gradient.png"},{title:"Remove connect bar",description:"Remove connect bar that causes progress bar displacement when listening on different devices",code:".main-connectBar-connectBar {\n  color: transparent !important;\n  overflow: visible !important;\n  --triangle-position: 147px !important;\n  align-items: unset !important;\n  height: 0px !important;\n  position: absolute !important;\n  left: 80% !important;\n  display: flex !important;\n  bottom: 2% !important;\n  padding: unset !important;\n}",preview:"resources/assets/snippets/remove-connect-bar.png"},{title:"Fix playlist arrows",description:"Fixes the opened and closed orientation of the playlist folder arrows",code:".main-rootlist-expandArrow {\n  -webkit-transform: rotate(-90deg) !important;\n  transform: rotate(-90deg) !important;\n}\n.main-rootlist-expandArrow:hover {\n  -webkit-transform: rotate(-90deg) !important;\n  transform: rotate(-90deg) !important;\n}\n.qAAhQw9dXNB7DbPgDDxy {\n  -webkit-transform: rotate(0deg) !important;\n  transform: rotate(0deg) !important;\n}\n.qAAhQw9dXNB7DbPgDDxy:hover {\n  -webkit-transform: rotate(0deg) !important;\n  transform: rotate(0deg) !important;\n}",preview:"resources/assets/snippets/fix-playlist-arrows.png"},{title:"Fix main view width",description:"Makes main view fill up all available space",code:".contentSpacing {\n  max-width: 100% !important;\n}",preview:"resources/assets/snippets/fix-main-view-width.png"},{title:"Left aligned heart icons",description:"Moves the heart icon to the left side of the track title in track views",code:".main-trackList-rowSectionStart {\n  margin-left: 38px !important;\n}\n.main-addButton-button.main-trackList-rowHeartButton,\n.main-addButton-button.main-trackList-rowHeartButton {\n  position: absolute !important;\n  left: 48px !important;\n}",preview:"resources/assets/snippets/left-aligned-heart-icons.png"},{title:"Hover Panels",description:"Have your playlist, friend activity, and controls bar be hoverable.",code:".Root__nav-bar {\n  position: absolute;\n  width: 40px;\n  opacity: 0;\n  bottom: 0;\n  left: 0;\n  top: 0;\n  z-index: 1;\n}\nnav.Root__nav-bar:hover {\n  position: inherit;\n  width: 225px;\n  opacity: 1;\n  transition: visibility 5s, opacity 0.5s linear;\n}\n.LayoutResizer__resize-bar {\n  cursor: none;\n}\n.Root__top-bar {\n  opacity: 0;\n  transition: visibility 5s, opacity 1s linear;\n}\n.Root__top-bar:hover {\n  transition-delay: 0.5s;\n  opacity: 1;\n  transition: visibility 5s, opacity 0.5s linear;\n}\n.main-topBar-container {\n  -webkit-padding-end: 32px;\n  padding: 16px 85px;\n  padding-inline-end: 32px;\n  max-width: none;\n}\naside.main-buddyFeed-buddyFeedRoot:hover {\n  position: inherit;\n  width: var(--buddy-feed-width);\n  opacity: 1;\n  transition: visibility 5s, opacity 0.5s linear;\n  left: 0;\n}\naside.main-buddyFeed-buddyFeedRoot {\n  position: absolute;\n  width: 65px;\n  opacity: 0;\n  bottom: 0;\n  left: -30px;\n  top: 0;\n  z-index: 1;\n}",preview:"resources/assets/snippets/hover-panels.png"},{title:"Fix progress bar displacement",description:"Fixes the progress bar displacement for a few themes. Better version of @CharlieS1103 Snippet",code:".main-connectBar-connectBar {\n  overflow: visible !important;\n  position: absolute !important;\n  display: flex !important;\n  align-items: unset !important;\n  left: 80% !important;\n  height: 20px !important;\n  bottom: 1% !important;\n  padding: 2px !important;\n  background-color: transparent !important;\n  color: var(--spice-text) !important;\n}\n.control-button::after {\n  display: none !important;\n}",preview:"resources/assets/snippets/fix-progress-bar.png"},{title:"Fix playlist hover effect",description:"Fixes the hover effect on the playlist titles in some themes",code:".main-rootlist-rootlistItemOverlay {\n  display: none;\n}",preview:"resources/assets/snippets/fix-playlist-hover.png"},{title:"Disable Homepage Recommendation",description:"Disable Homepage Recommendation charts",code:"section[data-testid='home-page'] .main-shelf-shelf:not([aria-label='Recently played'], [aria-label='Your playlists']) {\n\tdisplay: none !important;\n}",preview:"resources/assets/snippets/disable-recommendation.png"},{title:"Circular Album Art",description:"Makes the now playing album art be circular (like a vinyl)",code:".cover-art .cover-art-image {\n    border-radius: 100% !important;\n}",preview:"resources/assets/snippets/circular-album-art.png"},{title:"Always show forward button",description:"The navigate forward button hides itself when the window width is smaller. This snipppet makes it so that it is always shown.",code:".main-topBar-historyButtons .main-topBar-forward {\n    display: inline-flex !important;\n}",preview:"resources/assets/snippets/always-show-forward.png"},{title:"Right Side Cover Art",description:"Cover art on right side with animation",code:".main-nowPlayingWidget-nowPlaying > .ellipsis-one-line,\n.main-trackInfo-container {\n margin-left: 74px;\n}\n.main-coverSlotExpanded-container {\n position: fixed;\n top: calc(100% - 305px);\n left: calc(100% - 220px);\n width: 200px;\n height: 200px;\n visibility: hidden;\n transform-origin: center;\n animation: 1s coverExpandedIn;\n animation-fill-mode: forwards;\n}\n.Q4cc5RktWgz2H8_vDrIS {\n display: none;\n}\n.main-coverSlotCollapsed-container {\n position: fixed;\n top: -12px;\n left: 0px;\n width: 56px;\n height: 56px;\n visibility: visible;\n z-index: 1;\n}\n.cover-art .cover-art-image,\n.main-coverSlotCollapsed-container {\n transform-origin: center;\n transition-timing-function: ease-in;\n transition: width 0.5s 0.2s, height 0.5s 0.2s, top 0.3s, left 0.5s,\n box-shadow 0.5s;\n}\n.main-coverSlotCollapsed-container[aria-hidden='true'] {\n left: calc(100vw - 164px);\n top: -240px;\n width: 200px;\n height: 200px;\n visibility: hidden;\n animation: 1s coverExpandedOut;\n}\n.main-coverSlotCollapsed-container[aria-hidden='false'] {\n transition-timing-function: ease-out !important;\n transition: width 0.5s 0.2s, height 0.5s 0.2s, top 0.5s 0.1s, left 0.3s,\n box-shadow 0.5s !important;\n}\n.main-coverSlotCollapsed-container[aria-hidden='true']\n .cover-art\n .cover-art-image,\n.main-nowPlayingWidget-coverExpanded\n .main-coverSlotCollapsed-container\n .cover-art\n .cover-art-image {\n width: 200px;\n height: 200px;\n}\n.main-nowPlayingBar-left {\n z-index: 2;\n}\n.main-nowPlayingBar-center {\n z-index: 1;\n}\n.cover-art.shadow {\n box-shadow: 0 0 10px rgba(var(--spice-rgb-shadow), 1) !important;\n}\n@keyframes coverExpandedIn {\n 99% {\n visibility: hidden;\n }\n 100% {\n visibility: visible;\n }\n}\n@keyframes coverExpandedOut {\n 99% {\n visibility: visible;\n }\n 100% {\n visibility: hidden;\n }\n}",preview:"resources/assets/snippets/right-cover-art.png"},{title:"Better lyrics style",description:"Spotify lyrics are focused and beautified",code:".lyrics-lyrics-contentContainer .lyrics-lyricsContent-lyric.lyrics-lyricsContent-highlight { filter: blur(1.5px); padding: 15px; font-size: 110%; } .lyrics-lyrics-contentContainer .lyrics-lyricsContent-lyric.lyrics-lyricsContent-active { filter: none; padding: 20px; font-size: 130%; } .lyrics-lyrics-contentContainer .lyrics-lyricsContent-lyric { filter: blur(1.5px); padding: 15px; font-size: 110%; } .lyrics-lyrics-contentContainer .lyrics-lyricsContent-lyric.lyrics-lyricsContent-unsynced { filter: none; padding: 10px; font-size: 100%; }",preview:"resources/assets/snippets/better-lyrics-style.png"},{title:"Fix now playing icon color",description:"Fixes the now playing icon color",code:`.main-trackList-playingIcon { -webkit-mask-image: url("data:image/svg+xml,%3Csvg id='playing-icon' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 22 24'%3E%3Cdefs%3E%3Cstyle%3E %23playing-icon %7B fill: %2320BC54; %7D @keyframes play %7B 0%25 %7Btransform: scaleY(1);%7D 3.3%25 %7Btransform: scaleY(0.9583);%7D 6.6%25 %7Btransform: scaleY(0.9166);%7D 9.9%25 %7Btransform: scaleY(0.8333);%7D 13.3%25 %7Btransform: scaleY(0.7083);%7D 16.6%25 %7Btransform: scaleY(0.5416);%7D 19.9%25 %7Btransform: scaleY(0.4166);%7D 23.3%25 %7Btransform: scaleY(0.25);%7D 26.6%25 %7Btransform: scaleY(0.1666);%7D 29.9%25 %7Btransform: scaleY(0.125);%7D 33.3%25 %7Btransform: scaleY(0.125);%7D 36.6%25 %7Btransform: scaleY(0.1666);%7D 39.9%25 %7Btransform: scaleY(0.1666);%7D 43.3%25 %7Btransform: scaleY(0.2083);%7D 46.6%25 %7Btransform: scaleY(0.2916);%7D 49.9%25 %7Btransform: scaleY(0.375);%7D 53.3%25 %7Btransform: scaleY(0.5);%7D 56.6%25 %7Btransform: scaleY(0.5833);%7D 59.9%25 %7Btransform: scaleY(0.625);%7D 63.3%25 %7Btransform: scaleY(0.6666);%7D 66.6%25 %7Btransform: scaleY(0.6666);%7D 69.9%25 %7Btransform: scaleY(0.6666);%7D 73.3%25 %7Btransform: scaleY(0.6666);%7D 76.6%25 %7Btransform: scaleY(0.7083);%7D 79.9%25 %7Btransform: scaleY(0.75);%7D 83.3%25 %7Btransform: scaleY(0.8333);%7D 86.6%25 %7Btransform: scaleY(0.875);%7D 89.9%25 %7Btransform: scaleY(0.9166);%7D 93.3%25 %7Btransform: scaleY(0.9583);%7D 96.6%25 %7Btransform: scaleY(1);%7D %7D %23bar1 %7B transform-origin: bottom; animation: play 0.9s -0.51s infinite; %7D %23bar2 %7B transform-origin: bottom; animation: play 0.9s infinite; %7D %23bar3 %7B transform-origin: bottom; animation: play 0.9s -0.15s infinite; %7D %23bar4 %7B transform-origin: bottom; animation: play 0.9s -0.75s infinite; %7D %3C/style%3E%3C/defs%3E%3Ctitle%3Eplaying-icon%3C/title%3E%3Crect id='bar1' class='cls-1' width='4' height='24'/%3E%3Crect id='bar2' class='cls-1' x='6' width='4' height='24'/%3E%3Crect id='bar3' class='cls-1' x='12' width='4' height='24'/%3E%3Crect id='bar4' class='cls-1' x='18' width='4' height='24'/%3E%3C/svg%3E"); background: var(--spice-button); content-visibility: hidden; -webkit-mask-repeat: no-repeat; }`,preview:"resources/assets/snippets/fix-now-playing-icon.png"},{title:"Hide playing gif",description:"Hides the gif that shows the music playing",code:".main-trackList-playingIcon{display: none}",preview:"resources/assets/snippets/hide-playing-gif.png"},{title:"Pointers",description:"Clickable elements are now a pointer",code:"button, .show-followButton-button, .main-dropDown-dropDown, .x-toggle-wrapper, .main-playlistEditDetailsModal-closeBtn, .main-trackList-rowPlayPauseButton, .main-rootlist-rootlistItemLink:link, .main-rootlist-rootlistItemLink:visited, .x-sortBox-sortDropdown, .main-contextMenu-menuItemButton, .main-trackList-column, .main-moreButton-button, .x-downloadButton-button, .main-playButton-PlayButton, .main-coverSlotExpandedCollapseButton-chevron, .main-coverSlotCollapsed-chevron, .control-button:focus, .control-button:hover, .main-repeatButton-button, .main-skipForwardButton-button, .main-playPauseButton-button, .main-skipBackButton-button, .main-shuffleButton-button, .main-addButton-button, .progress-bar__slider, .playback-bar, .main-editImageButton-image, .X1lXSiVj0pzhQCUo_72A { cursor: pointer !important; }",preview:"resources/assets/snippets/pointer.png"},{title:"Remove Top gradient",description:"Removes gradient from home page and playlist page",code:".main-entityHeader-backgroundColor { display: none !important; } .main-actionBarBackground-background { display: none !important; } .main-home-homeHeader { display: none !important; }",preview:"resources/assets/snippets/remove-gradient.png"},{title:"Fix Liked Button",description:"Fixes Liked Button colors",code:'#_R_G *:not([fill="none"]) { fill: var(--spice-button) !important; } #_R_G *:not([stroke="none"]) { stroke: var(--spice-button); } .main-addButton-button[aria-checked="false"] { color: rgba(var(--spice-rgb-selected-row), 0.7); } .control-button-heart[aria-checked="true"], .main-addButton-button, .main-addButton-active:focus, .main-addButton-active:hover { color: var(--spice-button); }',preview:"resources/assets/snippets/fix-liked-button.png"},{title:"Hide Sidebar ScrollBar",description:"Hides Sidebar ScrollBar near playlist section",code:".os-scrollbar:nth-child(6) .os-scrollbar-handle { visibility: hidden; }",preview:"resources/assets/snippets/hide-sidebar-scrollbar.png"},{title:"Modern ScrollBar",description:"Thin rounded modern scrollbar",code:".os-theme-spotify.os-host-transition > .os-scrollbar-vertical > .os-scrollbar-track > .os-scrollbar-handle { border-radius: 4px; width: 6px; background-color: var(--spice-button-disabled); } .os-theme-spotify.os-host-transition > .os-scrollbar-vertical > .os-scrollbar-track { width: 6px; }",preview:"resources/assets/snippets/modern-scrollbar.png"},{title:"Remove liked and Episodes icon",description:"Removes the liked and episodes icon from the sidebar",code:'.main-collectionLinkButton-collectionLinkButton[href="/collection/tracks"], .main-collectionLinkButton-collectionLinkButton[href="/collection/episodes"] {display: none;}',preview:"resources/assets/snippets/remove-ep-likes.png"},{title:"Rotating Cover Art",description:"Adds circular mask to cover art and rotation",code:"@keyframes rotating { from { transform: rotate(0deg); } to { transform: rotate(360deg); }} .cover-art { animation: rotating 2s linear infinite; clip-path: circle(50% at 50% 50%);}",preview:"resources/assets/snippets/rotating-coverart.png"},{title:"Hide liked songs card",description:"Hides the sometimes unfitting liked Songs card in the Your Libary tab",code:".collection-collectionEntityHeroCard-likedSongs{ display: none; }",preview:"resources/assets/snippets/hide-likedSongs-card.png"},{title:"Fix playlist and folder position",description:"Replaces the playlists section in the left side bar to align with all the other category icons for the new UI. Screenshot includes 'Playlist icons' snippet",code:".main-rootlist-rootlistItem { height: 40px; } .playlist-item__img.folder, .playlist-item__img { margin-right: 16px!important; } .main-rootlist-textWrapper { font-weight: 700!important; }",preview:"resources/assets/snippets/fix-playlist-and-folder-position.png"},{title:"Remove recently played from homepage",description:"Removes the recently played shelf from the home page",code:"section.main-shelf-shelf[aria-label='Recently played'] { visibility: hidden; position: absolute; }",preview:"resources/assets/snippets/remove-recently-played.png"},{title:"Make custom app icons thicker",description:"Gives icons from the sticky list a thicker border",code:"#spicetify-sticky-list>li:nth-child(1n+1)>a>div.icon.collection-icon>svg { stroke: currentcolor; stroke-width: 11px; } .collection-icon { color: unset; }",preview:"resources/assets/snippets/thicker-sticky-list-icons.png"}];async function Ni(e,t=1,r=[],n){let a=n?`https://api.github.com/search/repositories?q=${encodeURIComponent(n+"+topic:"+e)}&per_page=100`:`https://api.github.com/search/repositories?q=${encodeURIComponent("topic:"+e)}&per_page=100`;t&&(a+="&page="+t);const o=await fetch(a).then(e=>e.json()).catch(()=>[]);if(o.items)return W(i({},o),{page_count:o.items.length,items:o.items.filter(e=>!r.includes(e.html_url))});Spicetify.showNotification("Too Many Requests, Cool Down.",!0)}async function Li(e,t,r){var n=window.sessionStorage.getItem(e+"-"+t);const a=window.sessionStorage.getItem("noManifests");if(n)return JSON.parse(n);const o=`https://raw.githubusercontent.com/${e}/${t}/${r}/manifest.json`;return null!=a&&a.includes(o)?null:((n=await fetch(o).then(e=>e.json()).catch(()=>{var n=[o],a="noManifests";n&&n.forEach(e=>{a=a||n.user+"-"+n.repo;var t=window.sessionStorage.getItem(a);const r=t?JSON.parse(t):[];r.push(e),window.sessionStorage.setItem(a,JSON.stringify(r))})}))&&window.sessionStorage.setItem(e+"-"+t,JSON.stringify(n)),n)}async function Ri(t,n,a,o=!1){try{let e;var r=t.match(new RegExp("https:\\/\\/api\\.github\\.com\\/repos\\/(?<user>.+)\\/(?<repo>.+)\\/contents"));if(!r||!r.groups)return null;const{user:s,repo:i}=r.groups;return e=await Li(s,i,n),(e=Array.isArray(e)?e:[e]).reduce((e,t)=>{var r=t.branch||n,r={manifest:t,title:t.name,subtitle:t.description,authors:Bs(t.authors,s),user:s,repo:i,branch:r,imageURL:t.preview&&t.preview.startsWith("http")?t.preview:`https://raw.githubusercontent.com/${s}/${i}/${r}/`+t.preview,extensionURL:t.main.startsWith("http")?t.main:`https://raw.githubusercontent.com/${s}/${i}/${r}/`+t.main,readmeURL:t.readme&&t.readme.startsWith("http")?t.readme:`https://raw.githubusercontent.com/${s}/${i}/${r}/`+t.readme,stars:a,tags:t.tags};return t&&t.name&&t.description&&t.main&&(o&&localStorage.getItem(`marketplace:installed:${s}/${i}/`+t.main)||e.push(r)),e},[])}catch(e){return null}}async function Pi(t,n,a){try{let e;var r=t.match(new RegExp("https:\\/\\/api\\.github\\.com\\/repos\\/(?<user>.+)\\/(?<repo>.+)\\/contents"));if(!r||!r.groups)return null;const{user:o,repo:s}=r.groups;return e=await Li(o,s,n),(e=Array.isArray(e)?e:[e]).reduce((e,t)=>{var r=t.branch||n,r={manifest:t,title:t.name,subtitle:t.description,authors:Bs(t.authors,o),user:o,repo:s,branch:r,imageURL:t.preview&&t.preview.startsWith("http")?t.preview:`https://raw.githubusercontent.com/${o}/${s}/${r}/`+t.preview,readmeURL:t.readme&&t.readme.startsWith("http")?t.readme:`https://raw.githubusercontent.com/${o}/${s}/${r}/`+t.readme,stars:a,tags:t.tags,cssURL:t.usercss.startsWith("http")?t.usercss:`https://raw.githubusercontent.com/${o}/${s}/${r}/`+t.usercss,schemesURL:t.schemes?t.schemes.startsWith("http")?t.schemes:`https://raw.githubusercontent.com/${o}/${s}/${r}/`+t.schemes:null,include:t.include};return null!=t&&t.name&&null!=t&&t.usercss&&null!=t&&t.description&&e.push(r),e},[])}catch(e){return null}}async function Ai(t,n,a){try{let e;var r=t.match(new RegExp("https:\\/\\/api\\.github\\.com\\/repos\\/(?<user>.+)\\/(?<repo>.+)\\/contents"));if(!r||!r.groups)return null;const{user:o,repo:s}=r.groups;return e=await Li(o,s,n),(e=Array.isArray(e)?e:[e]).reduce((e,t)=>{var r=t.branch||n,r={manifest:t,title:t.name,subtitle:t.description,authors:Bs(t.authors,o),user:o,repo:s,branch:r,imageURL:t.preview&&t.preview.startsWith("http")?t.preview:`https://raw.githubusercontent.com/${o}/${s}/${r}/`+t.preview,readmeURL:t.readme&&t.readme.startsWith("http")?t.readme:`https://raw.githubusercontent.com/${o}/${s}/${r}/`+t.readme,stars:a,tags:t.tags};return t&&t.name&&t.description&&e.push(r),e},[])}catch(e){return null}}var Ti=async()=>{return(await fetch("https://raw.githubusercontent.com/spicetify/spicetify-marketplace/main/resources/blacklist.json").then(e=>e.json()).catch(()=>({}))).repos},Mi=async()=>{return Ci.reduce((e,t)=>{const r=i({},t);return r.preview&&(r.imageURL=r.preview.startsWith("http")?r.preview:"https://raw.githubusercontent.com/spicetify/spicetify-marketplace/main/"+r.preview,delete r.preview),e.push(r),e},[])},Di=t(m("react")),$i=class extends Di.default.Component{render(){return Di.default.createElement("div",{onClick:this.props.onClick},Di.default.createElement("p",{style:{fontSize:100,lineHeight:"65px"}},"»"),Di.default.createElement("span",{style:{fontSize:20}},"Load more"))}},Fi=t(m("react")),Bi=()=>Fi.default.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},Fi.default.createElement("circle",{cx:"50",cy:"50",r:"0",fill:"none",stroke:"currentColor",strokeWidth:"2"},Fi.default.createElement("animate",{attributeName:"r",repeatCount:"indefinite",dur:"1s",values:"0;40",keyTimes:"0;1",keySplines:"0 0.2 0.8 1",calcMode:"spline",begin:"0s"}),Fi.default.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",values:"1;0",keyTimes:"0;1",keySplines:"0.2 0 0.8 1",calcMode:"spline",begin:"0s"})),Fi.default.createElement("circle",{cx:"50",cy:"50",r:"0",fill:"none",stroke:"currentColor",strokeWidth:"2"},Fi.default.createElement("animate",{attributeName:"r",repeatCount:"indefinite",dur:"1s",values:"0;40",keyTimes:"0;1",keySplines:"0 0.2 0.8 1",calcMode:"spline",begin:"-0.5s"}),Fi.default.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",values:"1;0",keyTimes:"0;1",keySplines:"0.2 0 0.8 1",calcMode:"spline",begin:"-0.5s"}))),Ui=t(m("react")),Gi=()=>Ui.default.createElement("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 24 24","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},Ui.default.createElement("path",{d:"M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z",fill:"currentColor"})),Hi=t(m("react")),qi=()=>Hi.default.createElement("svg",{className:"devtools-icon",version:"1.1",viewBox:"1 1 22 22",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg"},Hi.default.createElement("g",{className:"devtools-icon-internal",id:"grid_system"}),Hi.default.createElement("g",{id:"_icons"},Hi.default.createElement("path",{d:"M18,12v-0.9l0.7-5.7C18.8,4.5,18.6,3.7,18,3c-0.6-0.6-1.4-1-2.2-1H8.3C7.4,2,6.6,2.4,6,3C5.4,3.7,5.2,4.5,5.3,5.4L6,11.1   V12c0,1.6,1.3,2.9,2.8,3l-0.4,2.9c-0.1,1,0.2,2.1,0.8,2.9S11,22,12,22s2-0.5,2.7-1.2s1-1.8,0.8-2.9L15.2,15   C16.7,14.9,18,13.6,18,12z M7.5,4.3C7.7,4.1,8,4,8.3,4H13v2c0,0.6,0.4,1,1,1s1-0.4,1-1V4h0.7c0.3,0,0.6,0.1,0.8,0.3   c0.2,0.2,0.3,0.5,0.2,0.8L16.1,10H7.9L7.3,5.1C7.2,4.8,7.3,4.6,7.5,4.3z M13.2,19.4c-0.6,0.7-1.8,0.7-2.4,0   c-0.3-0.4-0.4-0.8-0.4-1.3l0.5-3.2h2.3l0.5,3.2C13.7,18.6,13.5,19.1,13.2,19.4z M15,13h-1h-4H9c-0.6,0-1-0.4-1-1h8   C16,12.6,15.6,13,15,13z"}))),I=t(m("react")),Vi=t(ca()),oa=class extends I.default.Component{constructor(e){super(e)}render(){const e=this.props["t"];return this.props.item.enabled?I.default.createElement("li",{className:"marketplace-tabBar-headerItem","data-tab":this.props.item.value,onClick:e=>{e.preventDefault(),this.props.switchTo(this.props.item)}},I.default.createElement("a",{"aria-current":"page",className:"marketplace-tabBar-headerItemLink "+(this.props.item.active?"marketplace-tabBar-active":""),draggable:"false",href:""},I.default.createElement("span",{className:"main-type-mestoBold"},e("tabs."+this.props.item.value)))):null}},zi=is()(oa),Ki=I.default.memo(function({items:e,switchTo:t}){return I.default.createElement("li",{className:"marketplace-tabBar-headerItem"},I.default.createElement(Vi.default,{className:"main-type-mestoBold",options:e,value:"More",placeholder:"More",onChange:t}))}),Wi=e=>{const t=document.querySelector(".Root__main-view .os-resize-observer-host");if(!t)return null;const[r,n]=(0,I.useState)(t.clientWidth),a=()=>n(t.clientWidth);return(0,I.useEffect)(()=>{const e=new ResizeObserver(a);return e.observe(t),()=>{e.disconnect()}},[a]),(0,I.useEffect)(()=>{{var e=document.querySelector(".marketplace-tabBar");const t=document.querySelector(".main-topBar-topbarContentWrapper");e&&t&&"/marketplace"==Spicetify.Platform.History.location.pathname&&t.appendChild(e),Spicetify.Platform.History.listen(({pathname:e})=>{"/marketplace"!=e&&null!=(e=document.querySelector(".marketplace-tabBar"))&&e.remove()})}}),I.default.createElement(Ji,{windowSize:r,links:e.links,activeLink:e.activeLink,switchCallback:e.switchCallback})},Ji=I.default.memo(function({links:e,activeLink:r,switchCallback:t,windowSize:n=1/0}){const a=I.default.useRef(null),[o,s]=(0,I.useState)([]),[i,l]=(0,I.useState)(0),[c,u]=(0,I.useState)([]),p=e.map(({name:e,enabled:t})=>{return{label:e,value:e,active:e===r,enabled:t}});return(0,I.useEffect)(()=>{a.current&&l(a.current.clientWidth)},[n]),(0,I.useEffect)(()=>{if(a.current){const t=Array.from(a.current.children);var e=t.map(e=>e.clientWidth);s(e)}},[e]),(0,I.useEffect)(()=>{if(a.current)if(o.reduce((e,t)=>e+t,0)<=i)u([]);else{var e=Math.max(...o);const n=[];let r=e;o.forEach((e,t)=>{i>=r+e?r+=e:n.push(t)}),u(n)}},[i,o]),I.default.createElement("nav",{className:"marketplace-tabBar marketplace-tabBar-nav"},I.default.createElement("ul",{className:"marketplace-tabBar-header",ref:a},p.filter((e,t)=>!c.includes(t)).map(e=>I.default.createElement(zi,{key:e.value,item:e,switchTo:t})),c.length||0===o.length?I.default.createElement(Ki,{items:c.map(e=>p[e]).filter(e=>e),switchTo:t}):null))}),C=t(m("react")),Xi=t(m("react")),Yi=()=>Xi.default.createElement("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 448 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},Xi.default.createElement("path",{d:"M53.21 467c1.562 24.84 23.02 45 47.9 45h245.8c24.88 0 46.33-20.16 47.9-45L416 128H32L53.21 467zM432 32H320l-11.58-23.16c-2.709-5.42-8.25-8.844-14.31-8.844H153.9c-6.061 0-11.6 3.424-14.31 8.844L128 32H16c-8.836 0-16 7.162-16 16V80c0 8.836 7.164 16 16 16h416c8.838 0 16-7.164 16-16V48C448 39.16 440.8 32 432 32z",fill:"currentColor"})),Qi=t(m("react")),Zi=()=>Qi.default.createElement("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 512 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},Qi.default.createElement("path",{d:"M480 352h-133.5l-45.25 45.25C289.2 409.3 273.1 416 256 416s-33.16-6.656-45.25-18.75L165.5 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96C512 366.3 497.7 352 480 352zM432 456c-13.2 0-24-10.8-24-24c0-13.2 10.8-24 24-24s24 10.8 24 24C456 445.2 445.2 456 432 456zM233.4 374.6C239.6 380.9 247.8 384 256 384s16.38-3.125 22.62-9.375l128-128c12.49-12.5 12.49-32.75 0-45.25c-12.5-12.5-32.76-12.5-45.25 0L288 274.8V32c0-17.67-14.33-32-32-32C238.3 0 224 14.33 224 32v242.8L150.6 201.4c-12.49-12.5-32.75-12.5-45.25 0c-12.49 12.5-12.49 32.75 0 45.25L233.4 374.6z",fill:"currentColor"})),el=t(m("react")),tl=()=>el.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},el.default.createElement("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z",fill:"currentColor"})),rl=t(m("react")),nl=e=>{return rl.default.createElement("div",{className:"marketplace-card__authors"},e.authors.map((e,t)=>rl.default.createElement("a",{title:e.name,className:"marketplace-card__author",href:e.url,draggable:"false",dir:"auto",target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),key:t},e.name)))},al=t(m("react")),ol=n=>{const[e,t]=al.default.useState(!1),a={[v("grid.externalJS")]:"external JS",[v("grid.dark")]:"dark",[v("grid.light")]:"light"};var r=e=>{const t=e.filter((e,t,r)=>r.indexOf(e)===t);return t.reduce((e,t)=>{var r=a[t]||t;return!n.showTags&&t!==v("grid.externalJS")||e.push(al.default.createElement("li",{className:"marketplace-card__tag",draggable:!1,"data-tag":r},t)),e},[])},o=n.tags.slice(0,4),s=n.tags.slice(4);return al.default.createElement("div",{className:"marketplace-card__tags-container"},al.default.createElement("ul",{className:"marketplace-card__tags"},r(o),s.length&&e?r(s):null),s.length&&!e?al.default.createElement("button",{className:"marketplace-card__tags-more-btn",onClick:e=>{e.stopPropagation(),t(!0)}},"..."):null)},sl=class extends C.default.Component{constructor(e){super(e),this.key=null,this.type=sl,this.menuType=Spicetify.ReactComponent.Menu,this.localStorageKey=Ks(e),Object.assign(this,e),this.tags=e.item.tags||[],e.item.include&&this.tags.push(v("grid.externalJS")),this.state={installed:null!==localStorage.getItem(this.localStorageKey),stars:this.props.item.stars||0,tagsExpanded:!1,externalUrl:this.props.item.user&&this.props.item.repo?`https://github.com/${this.props.item.user}/`+this.props.item.repo:"",lastUpdated:this.props.item.user&&this.props.item.repo?this.props.item.lastUpdated:void 0}}isInstalled(){return null!==localStorage.getItem(this.localStorageKey)}async componentDidMount(){if("Installed"===this.props.CONFIG.activeTab&&"snippet"!==this.props.type){var e=`https://api.github.com/repos/${this.props.item.user}/`+this.props.item.repo,{stargazers_count:e,pushed_at:t}=await fetch(e).then(e=>e.json());const r={stars:0,lastUpdated:void 0};this.state.stars!==e&&this.props.CONFIG.visual.stars&&(r.stars=e,console.log("Stars updated to: "+e)),this.state.lastUpdated!==t&&(r.lastUpdated=t,console.log("New update pushed at: "+t))}}buttonClicked(){var e,t;"extension"===this.props.type?(this.isInstalled()?(console.log("Extension already installed, removing"),this.removeExtension()):this.installExtension(),Ii("RELOAD")):"theme"===this.props.type?(t=(e=localStorage.getItem("marketplace:theme-installed"))?S(e,{}):{},console.log(t),console.log(e),this.isInstalled()?(console.log("Theme already installed, removing"),this.removeTheme(this.localStorageKey)):(this.removeTheme(),this.installTheme()),(null!=(e=this.props.item.manifest)&&e.include||t.include)&&Ii("RELOAD")):"app"===this.props.type?window.open(this.state.externalUrl,"_blank"):"snippet"===this.props.type?this.isInstalled()?(console.log("Snippet already installed, removing"),this.removeSnippet()):this.installSnippet():console.error("Unknown card type")}installExtension(){if(console.log("Installing extension "+this.localStorageKey),this.props.item){var{manifest:e,title:t,subtitle:r,authors:n,user:a,repo:o,branch:s,imageURL:i,extensionURL:l,readmeURL:c,lastUpdated:u}=this.props.item;localStorage.setItem(this.localStorageKey,JSON.stringify({manifest:e,type:this.props.type,title:t,subtitle:r,authors:n,user:a,repo:o,branch:s,imageURL:i,extensionURL:l,readmeURL:c,stars:this.state.stars,lastUpdated:u}));const p=S(Cs,[]);-1===p.indexOf(this.localStorageKey)&&(p.push(this.localStorageKey),localStorage.setItem(Cs,JSON.stringify(p))),console.log("Installed"),this.setState({installed:!0})}else Spicetify.showNotification("There was an error installing extension",!0)}removeExtension(){if(localStorage.getItem(this.localStorageKey)){console.log("Removing extension "+this.localStorageKey),localStorage.removeItem(this.localStorageKey);const t=S(Cs,[]);var e=t.filter(e=>e!==this.localStorageKey);localStorage.setItem(Cs,JSON.stringify(e)),console.log("Removed"),this.setState({installed:!1})}}async installTheme(){var t=this.props["item"];if(t){console.log("Installing theme "+this.localStorageKey);let e={};if(t.schemesURL){const b=await fetch(t.schemesURL);var r=await b.text();e=$s(r)}var r=Object.keys(e)[0],r=(console.log(e,r),r||null),{manifest:n,title:a,subtitle:o,authors:s,user:i,repo:l,branch:c,imageURL:u,extensionURL:p,readmeURL:d,cssURL:h,schemesURL:f,include:m,lastUpdated:g}=t;localStorage.setItem(this.localStorageKey,JSON.stringify({manifest:n,type:this.props.type,title:a,subtitle:o,authors:s,user:i,repo:l,branch:c,imageURL:u,extensionURL:p,readmeURL:d,stars:this.state.stars,tags:this.tags,cssURL:h,schemesURL:f,include:m,schemes:e,activeScheme:r,lastUpdated:g}));const v=S(Ns,[]);-1===v.indexOf(this.localStorageKey)&&(v.push(this.localStorageKey),localStorage.setItem(Ns,JSON.stringify(v)),localStorage.setItem(As,this.localStorageKey)),console.log("Installed"),t.include||(this.fetchAndInjectUserCSS(this.localStorageKey),this.props.updateActiveTheme(this.localStorageKey),this.props.updateColourSchemes(e,r),(a=null==(n=this.props.item.manifest)?void 0:n.name)&&(Spicetify.Config.current_theme=a),r&&(Spicetify.Config.color_scheme=r)),this.setState({installed:!0})}else Spicetify.showNotification("There was an error installing theme",!0)}removeTheme(t){var e=(t=t||localStorage.getItem(As))&&localStorage.getItem(t);if(t&&e){console.log("Removing theme "+t),localStorage.removeItem(t),localStorage.removeItem(As);const r=S(Ns,[]);e=r.filter(e=>e!==t);localStorage.setItem(Ns,JSON.stringify(e)),console.log("Removed"),this.fetchAndInjectUserCSS(null),this.props.updateActiveTheme(null),this.props.updateColourSchemes(null,null),Spicetify.Config.current_theme=Spicetify.Config.local_theme,Spicetify.Config.color_scheme=Spicetify.Config.local_color_scheme,this.setState({installed:!1})}}installSnippet(){console.log("Installing snippet "+this.localStorageKey),localStorage.setItem(this.localStorageKey,JSON.stringify({code:this.props.item.code,title:this.props.item.title,description:this.props.item.description,imageURL:this.props.item.imageURL}));const e=S(w,[]);-1===e.indexOf(this.localStorageKey)&&(e.push(this.localStorageKey),localStorage.setItem(w,JSON.stringify(e)));var t=e.map(e=>S(e));Fs(t),this.setState({installed:!0})}removeSnippet(){localStorage.removeItem(this.localStorageKey);const e=S(w,[]),t=e.filter(e=>e!==this.localStorageKey);localStorage.setItem(w,JSON.stringify(t));var r=t.map(e=>S(e));Fs(r),this.setState({installed:!1})}async fetchAndInjectUserCSS(e){try{var t=e?await Vs(this.props.item):void 0;qs(t)}catch(e){console.warn(e)}}openReadme(){var e;null!=(e=this.props.item)&&e.manifest&&null!=(e=null==(e=this.props.item)?void 0:e.manifest)&&e.readme?Spicetify.Platform.History.push({pathname:Ms+"/readme",state:{data:{title:this.props.item.title,user:this.props.item.user,repo:this.props.item.repo,branch:this.props.item.branch,readmeURL:this.props.item.readmeURL,type:this.props.type,install:this.buttonClicked.bind(this),isInstalled:this.isInstalled.bind(this)}}}):Spicetify.showNotification("No page was found",!0)}render(){var e,t=this.isInstalled();if("Installed"===this.props.CONFIG.activeTab&&!t)return console.log("Card item not installed"),null;const r=["main-card-card","marketplace-card--"+this.props.type],n=(t&&r.push("marketplace-card--installed"),[]);return"snippet"!==this.props.type&&this.props.visual.stars&&n.push("★ "+this.state.stars),C.default.createElement("div",{className:r.join(" "),onClick:()=>{if("snippet"===this.props.type){var e=this.props.item.title.replace(/\n/g,"");if(null!=(e=S("marketplace:installed:snippet:"+e))&&e.custom)return Ii("EDIT_SNIPPET",void 0,void 0,this.props);Ii("VIEW_SNIPPET",void 0,void 0,this.props,this.buttonClicked.bind(this))}else this.openReadme()}},C.default.createElement("div",{className:"main-card-draggable",draggable:"true"},C.default.createElement("div",{className:"main-card-imageContainer"},C.default.createElement("div",{className:"main-cardImage-imageWrapper"},C.default.createElement("div",null,C.default.createElement("img",{alt:"","aria-hidden":"false",draggable:"false",loading:"lazy",src:this.props.item.imageURL,className:"main-image-image main-cardImage-image",onError:e=>{e.currentTarget.setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII"),null!=(e=e.currentTarget.closest(".main-cardImage-imageWrapper"))&&e.classList.add("main-cardImage-imageWrapper--error")}})))),C.default.createElement("div",{className:"main-card-cardMetadata"},C.default.createElement("a",{draggable:"false",title:"snippet"===this.props.type?this.props.item.title:null==(e=this.props.item.manifest)?void 0:e.name,className:"main-cardHeader-link",dir:"auto",href:"snippet"!==this.props.type?this.state.externalUrl:"https://github.com/spicetify/spicetify-marketplace/blob/main/packages/marketplace/src/resources/snippets.ts",target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation()},C.default.createElement("div",{className:"main-cardHeader-text main-type-balladBold"},this.props.item.title)),C.default.createElement("div",{className:"main-cardSubHeader-root main-type-mestoBold marketplace-cardSubHeader"},this.props.item.authors&&C.default.createElement(nl,{authors:this.props.item.authors}),C.default.createElement("span",null,n.join(" ‒ "))),C.default.createElement("p",{className:"marketplace-card-desc"},"snippet"===this.props.type?this.props.item.description:null==(e=this.props.item.manifest)?void 0:e.description),this.props.item.lastUpdated&&C.default.createElement("p",{className:"marketplace-card-desc"},v("grid.lastUpdated",{val:new Date(this.props.item.lastUpdated),formatParams:{val:{year:"numeric",month:"long",day:"numeric"}}})),this.tags.length?C.default.createElement("div",{className:"marketplace-card__bottom-meta main-type-mestoBold"},C.default.createElement(ol,{tags:this.tags,showTags:this.props.CONFIG.visual.tags})):null,t&&C.default.createElement("div",{className:"marketplace-card__bottom-meta main-type-mestoBold"},"✓ ",v("grid.installed")),C.default.createElement("div",{className:"main-card-PlayButtonContainer"},C.default.createElement(_,{classes:["marketplace-installButton"],type:"circle",label:"app"===this.props.type?v("github"):v(t?"remove":"install"),onClick:e=>{e.stopPropagation(),this.buttonClicked()}},"app"===this.props.type?C.default.createElement(tl,null):t?C.default.createElement(Yi,null):C.default.createElement(Zi,null))))))}},il=is()(sl),ll=t(m("react")),cl=t(e()),ul=t(m("react-dom"));var pl=async function(t,r,e){for(;!Spicetify?.PopupModal||!Spicetify?.LocalStorage;)await new Promise(e=>setTimeout(e,100));var n,t=`spcr-whats-new_${t}-version`,a=Spicetify.LocalStorage.get(t)??"";try{(0,cl.default)(r,a)&&(Spicetify.LocalStorage.set(t,r),n={...e,content:function(e){const t=document.createElement("div"),r=(t.setAttribute("id","whats-new-content-wrapper"),document.createElement("style"));return r.textContent=`
      #whats-new-content-wrapper ul, #whats-new-content-wrapper ol {
         list-style: inherit;
         margin-left: 1em;
      }
   `,ul.default.render(e,t),t.appendChild(r),t}(e.content)},Spicetify.PopupModal.display(n))}catch(e){Spicetify.LocalStorage.set(t,r)}},dl=async()=>{var e=await fetch(Ds).then(e=>e.json()).then(e=>{e=e.message?null:e.body;return e&&zs(e,"spicetify","spicetify-marketplace")}).catch(e=>(console.error(e),null));e&&pl("marketplace",Is,{title:"✨ Marketplace v0.8.4",content:ll.default.createElement("div",{dangerouslySetInnerHTML:{__html:e}}),isLarge:!0})},Fe=class extends y.default.Component{constructor(e){super(e),this.endOfList=!1,this.lastScroll=0,this.requestQueue=[],this.requestPage=0,this.cardList=[],Object.assign(this,e),this.updateAppConfig=e.updateAppConfig.bind(this),this.sortConfig={by:S(Ps,"top")},this.state={version:Is,newUpdate:!1,searchValue:"",cards:[],tabs:e.CONFIG.tabs,rest:!0,endOfList:!1,schemes:e.CONFIG.theme.schemes,activeScheme:e.CONFIG.theme.activeScheme,activeThemeKey:e.CONFIG.theme.activeThemeKey}}getInstalledTheme(){var e=localStorage.getItem(As);return(e=e&&localStorage.getItem(e))?JSON.parse(e):null}newRequest(e,t){this.cardList=[];var r=[];this.requestQueue.unshift(r),this.loadAmount(r,e,t)}appendCard(e,t){e=y.default.createElement(il,{item:e,key:this.props.CONFIG.activeTab+":"+e.title,CONFIG:this.CONFIG,visual:this.props.CONFIG.visual,type:t,activeThemeKey:this.state.activeThemeKey,updateColourSchemes:this.updateColourSchemes.bind(this),updateActiveTheme:this.setActiveTheme.bind(this)});this.cardList.push(e),this.setState({cards:this.cardList})}updateSort(e){e&&(this.sortConfig.by=e,localStorage.setItem(Ps,e)),this.requestPage=0,this.cardList=[],this.setState({cards:[],rest:!1,endOfList:!1}),this.endOfList=!1,this.newRequest(E)}updateTabs(){this.setState({tabs:[...this.props.CONFIG.tabs]})}updatePostsVisual(){this.cardList=this.cardList.map((e,t)=>y.default.createElement(il,W(i({},e.props),{key:t.toString(),CONFIG:this.CONFIG}))),this.setState({cards:[...this.cardList]})}switchTo(e){this.CONFIG.activeTab=e.value,localStorage.setItem(Ls,e.value),this.cardList=[],this.requestPage=0,this.setState({cards:[],rest:!1,endOfList:!1}),this.endOfList=!1,this.newRequest(E)}async loadPage(t,e){switch(this.CONFIG.activeTab){case"Extensions":var r=await Ni("spicetify-extensions",this.requestPage,this.BLACKLIST,e);for(const s of r.items){const i=await Ri(s.contents_url,s.default_branch,s.stargazers_count,this.CONFIG.visual.hideInstalled);if(1<this.requestQueue.length&&t!==this.requestQueue[0])return-1;i&&i.length&&i.forEach(e=>{Object.assign(e,{lastUpdated:s.pushed_at}),this.appendCard(e,"extension")})}var n=-1<this.requestPage&&this.requestPage?this.requestPage:1,a=E*(n-1)+r.page_count,o=r.total_count-a;if(console.log(`Parsed ${a}/${r.total_count} extensions`),0<o)return n+1;console.log("No more extension results");break;case"Installed":{const l={theme:S(Ns,[]),extension:S(Cs,[]),snippet:S(w,[])};for(const c in l)l[c].length&&l[c].forEach(async e=>{e=S(e);if(1<this.requestQueue.length&&t!==this.requestQueue[0])return-1;this.appendCard(e,c)});break}case"Themes":a=await Ni("spicetify-themes",this.requestPage,this.BLACKLIST,e);for(const u of a.items){const p=await Pi(u.contents_url,u.default_branch,u.stargazers_count);if(1<this.requestQueue.length&&t!==this.requestQueue[0])return-1;p&&p.length&&p.forEach(e=>{Object.assign(e,{lastUpdated:u.pushed_at}),this.appendCard(e,"theme")})}r=-1<this.requestPage&&this.requestPage?this.requestPage:1,o=E*(r-1)+a.page_count,n=a.total_count-o;if(console.log(`Parsed ${o}/${a.total_count} themes`),0<n)return r+1;console.log("No more theme results");break;case"Apps":o=await Ni("spicetify-apps",this.requestPage,this.BLACKLIST,e);for(const d of o.items){const h=await Ai(d.contents_url,d.default_branch,d.stargazers_count);if(1<this.requestQueue.length&&t!==this.requestQueue[0])return-1;h&&h.length&&h.forEach(e=>{Object.assign(e,{lastUpdated:d.pushed_at}),this.appendCard(e,"app")})}a=-1<this.requestPage&&this.requestPage?this.requestPage:1,n=E*(a-1)+o.page_count,r=o.total_count-n;if(console.log(`Parsed ${n}/${o.total_count} apps`),0<r)return a+1;console.log("No more app results");break;case"Snippets":{const f=await Mi();if(1<this.requestQueue.length&&t!==this.requestQueue[0])return-1;f&&f.length&&f.forEach(e=>this.appendCard(e,"snippet"))}}return this.setState({rest:!0,endOfList:!0}),this.endOfList=!0,0}async loadAmount(t,e=E,r){for(this.setState({rest:!1}),e+=this.cardList.length,this.requestPage=await this.loadPage(t,r);this.requestPage&&-1!==this.requestPage&&this.cardList.length<e&&!this.state.endOfList;)this.requestPage=await this.loadPage(t,r);-1===this.requestPage?this.requestQueue=this.requestQueue.filter(e=>e!==t):(this.requestQueue.shift(),this.setState({rest:!0}))}loadMore(){this.state.rest&&!this.endOfList&&this.loadAmount(this.requestQueue[0],E)}updateColourSchemes(e,t){console.log("updateColourSchemes",e,t),this.CONFIG.theme.schemes=e,(this.CONFIG.theme.activeScheme=t)&&(Spicetify.Config.color_scheme=t),e&&t&&e[t]?Hs(this.CONFIG.theme.schemes[t]):Hs(null);var r=S(As);const n=S(r);n?(n.activeScheme=t,console.log(n),localStorage.setItem(r,JSON.stringify(n))):console.log("No installed theme data"),this.setState({schemes:e,activeScheme:t})}async componentDidMount(){fetch("https://api.github.com/repos/spicetify/spicetify-marketplace/releases").then(e=>e.json()).then(e=>{this.setState({version:e[0].name});try{this.setState({newUpdate:js.default.gt(this.state.version,Is)})}catch(e){console.error(e)}},e=>{console.error("Failed to check for updates",e)}),dl(),this.gridUpdateTabs=this.updateTabs.bind(this),this.gridUpdatePostsVisual=this.updatePostsVisual.bind(this);const e=document.querySelector(".os-viewport");this.checkScroll=this.isScrolledBottom.bind(this),e&&(e.addEventListener("scroll",this.checkScroll),this.cardList.length)?0<this.lastScroll&&e.scrollTo(0,this.lastScroll):(this.BLACKLIST=await Ti(),this.newRequest(E))}componentWillUnmount(){this.gridUpdateTabs=this.gridUpdatePostsVisual=null;const e=document.querySelector(".os-viewport");e&&(this.lastScroll=e.scrollTop,e.removeEventListener("scroll",this.checkScroll))}isScrolledBottom(e){e=e.target;e.scrollTop+e.clientHeight>=e.scrollHeight&&this.loadMore()}setActiveTheme(e){this.CONFIG.theme.activeThemeKey=e,this.setState({activeThemeKey:e})}getActiveScheme(){return this.state.activeScheme}handleSearch(e){"Enter"===e.key?(this.setState({endOfList:!1}),this.newRequest(E,this.state.searchValue.trim().toLowerCase()),this.searchRequested=!0):"Backspace"!==e.key&&"Delete"!==e.key||!this.searchRequested||""!==this.state.searchValue.trim()||(this.setState({endOfList:!1}),this.newRequest(E,this.state.searchValue.trim().toLowerCase()),this.searchRequested=!1)}render(){const r=this.props["t"];return y.default.createElement("section",{className:"contentSpacing"},y.default.createElement("div",{className:"marketplace-header"},y.default.createElement("div",{className:"marketplace-header__left"},y.default.createElement("h1",null,this.props.title),this.state.newUpdate?y.default.createElement("button",{type:"button",title:r("grid.newUpdate"),className:"marketplace-header-icon-button",id:"marketplace-update",onClick:()=>window.location.href="https://github.com/spicetify/spicetify-marketplace"},y.default.createElement(Zi,null)," ",this.state.version):null),y.default.createElement("div",{className:"marketplace-header__right"},this.CONFIG.visual.themeDevTools?y.default.createElement("button",{type:"button",title:r("devTools.title"),className:"marketplace-header-icon-button",onClick:()=>Ii("THEME_DEV_TOOLS")},y.default.createElement(qi,null)):null,this.state.activeScheme?y.default.createElement(fi,{onChange:e=>this.updateColourSchemes(this.state.schemes,e),sortBoxOptions:Us(this.state.schemes),sortBySelectedFn:e=>e.key===this.getActiveScheme()}):null,y.default.createElement("div",{className:"searchbar--bar__wrapper"},y.default.createElement("input",{className:"searchbar-bar",type:"text",placeholder:`${r("grid.search")} ${r("tabs."+this.CONFIG.activeTab)}...`,value:this.state.searchValue,onChange:e=>{this.setState({searchValue:e.target.value})},onKeyDown:this.handleSearch.bind(this)})),y.default.createElement("button",{type:"button",title:r("settings.title"),className:"marketplace-header-icon-button",id:"marketplace-settings-button",onClick:()=>Ii("SETTINGS",this.CONFIG,this.updateAppConfig)},y.default.createElement(Gi,null)))),[{handle:"extension",name:"Extensions"},{handle:"theme",name:"Themes"},{handle:"snippet",name:"Snippets"},{handle:"app",name:"Apps"}].map(t=>{var e=this.cardList.filter(e=>e.props.type===t.handle).filter(e=>{const t=this.state["searchValue"],{title:r,user:n}=e.props.item;if(""===t.trim()||r.toLowerCase().includes(t.trim().toLowerCase())||null!=n&&n.toLowerCase().includes(t.trim().toLowerCase()))return e}).map(e=>y.default.cloneElement(e,{activeThemeKey:this.state.activeThemeKey,key:Ks(e.props)}));return e.length?y.default.createElement(y.default.Fragment,null,y.default.createElement("h2",{className:"marketplace-card-type-heading"},r("tabs."+t.name)),y.default.createElement("div",{className:"marketplace-grid main-gridContainer-gridContainer main-gridContainer-fixedWidth","data-tab":this.CONFIG.activeTab,"data-card-type":r("tabs."+t.name)},e)):null}),"Snippets"===this.CONFIG.activeTab?y.default.createElement(_,{classes:["marketplace-add-snippet-btn"],onClick:()=>Ii("ADD_SNIPPET")},"+ ",r("grid.addCSS")):null,y.default.createElement("footer",{className:"marketplace-footer"},!this.state.endOfList&&(this.state.rest?y.default.createElement($i,{onClick:this.loadMore.bind(this)}):y.default.createElement(Bi,null))),y.default.createElement(Wi,{switchCallback:this.switchTo.bind(this),links:this.CONFIG.tabs,activeLink:this.CONFIG.activeTab}))}},hl=is()(Fe),L=t(m("react")),r=class extends L.default.Component{constructor(){super(...arguments),this.state={isInstalled:this.props.data.isInstalled(),html:`<p>${this.props.t("readmePage.loading")}</p>`},this.getReadmeHTML=async()=>fetch(this.props.data.readmeURL).then(e=>{if(e.ok)return e.text();throw Spicetify.showNotification(`${this.props.t("readmePage.errorLoading")} (HTTP ${e.status})`,!0)}).then(e=>zs(e,this.props.data.user,this.props.data.repo)).then(e=>(e||Spicetify.Platform.History.goBack(),e)).catch(e=>(console.error(e),Spicetify.Platform.History.goBack(),null))}componentDidMount(){this.getReadmeHTML().then(e=>{null!=e&&this.setState({html:e})})}componentDidUpdate(){var e;const t=null==(e=document.querySelector("#marketplace-readme"))?void 0:e.closest("main");if(t){const r=setInterval(()=>{t.style.overflowY="visible",t.style.overflowY="auto",document.querySelector(".os-scrollbar-vertical.os-scrollbar-unusable")&&t||clearInterval(r)},1e3)}document.querySelectorAll("#marketplace-readme img").forEach(e=>{e.addEventListener("error",e=>{const t=e.target;e=t.getAttribute("src"),e=`https://raw.githubusercontent.com/${this.props.data.user}/${this.props.data.repo}/${this.props.data.branch}/`+e;t.setAttribute("src",e)},{once:!0})})}buttonContent(){return"app"===this.props.data.type?{icon:L.default.createElement(tl,null),text:this.props.t("github")}:this.state.isInstalled?{icon:L.default.createElement(Yi,null),text:this.props.t("remove")}:{icon:L.default.createElement(Zi,null),text:this.props.t("install")}}render(){return L.default.createElement("section",{className:"contentSpacing"},L.default.createElement("div",{className:"marketplace-header"},L.default.createElement("div",{className:"marketplace-header__left"},L.default.createElement("h1",null,this.props.title)),L.default.createElement("div",{className:"marketplace-header__right"},L.default.createElement(_,{classes:["marketplace-header__button"],onClick:e=>{e.preventDefault(),this.props.data.install(),this.setState({isInstalled:!this.state.isInstalled})},label:this.buttonContent().text},this.buttonContent().icon," ",this.buttonContent().text))),"<p>Loading...</p>"===this.state.html?L.default.createElement("footer",{className:"marketplace-footer"},L.default.createElement(Bi,null)):L.default.createElement("div",{id:"marketplace-readme",className:"marketplace-readme__container",dangerouslySetInnerHTML:{__html:this.state.html}}))}},fl=is()(r),sa=(f.use($o).use(cs).init({resources:{en:{translation:{settings:{title:"Settings",optionsHeading:"Options",starCountLabel:"Stars count",tagsLabel:"Tags",devToolsLabel:"Theme developer tools",hideInstalledLabel:"Hide installed when browsing",colourShiftLabel:"Shift colours every minute",albumArtBasedColors:"Change colours based on album art",albumArtBasedColorsMode:"The mode that the colorapi uses to generate colour schemes",tabsHeading:"Tabs",resetHeading:"Reset",resetBtn:"$t(settings.resetHeading)",resetDescription:"Uninstall all extensions and themes, and reset preferences",backupHeading:"Back up/Restore",backupLabel:"Back up or restore all Marketplace data. This does not include settings for anything installed via Marketplace.",backupBtn:"Open"},tabs:{Extensions:"Extensions",Themes:"Themes",Snippets:"Snippets",Apps:"Apps",Installed:"Installed"},snippets:{addTitle:"Add Snippet",editTitle:"Edit Snippet",viewTitle:"View Snippet",customCSS:"Custom CSS",customCSSPlaceholder:"Input your own custom CSS here! You can find them in the installed tab for management.",snippetName:"Snippet Name",snippetNamePlaceholder:"Enter a name for your custom snippet",snippetDesc:"Snippet Description",snippetDescPlaceholder:"Enter a description for your custom snippet",snippetPreview:"Snippet Preview",optional:"Optional",addImage:"Add image",changeImage:"Change image",saveCSS:"Save CSS"},reloadModal:{title:"Reload",description:"A page reload is required to complete this operation.",reloadNow:"Reload now",reloadLater:"Reload later"},backupModal:{title:"$t(settings.backupHeading)",settingsCopied:"Settings copied to clipboard",noDataPasted:"No data pasted",invalidJSON:"Invalid JSON",inputLabel:"Marketplace Settings",inputPlaceholder:"Copy/paste your settings here",exportBtn:"Export",importBtn:"Import",fileImportBtn:"Import from file"},devTools:{title:"Theme Dev Tools",noThemeInstalled:"Error: No marketplace theme installed",noThemeManifest:"Error: No theme manifest found",colorIniEditor:"Color.ini Editor",colorIniEditorPlaceholder:"[your-colour-scheme-name]",invalidCSS:"Invalid CSS"},grid:{spicetifyMarketplace:"Spicetify Marketplace",newUpdate:"New update",addCSS:"Add CSS",search:"Search",installed:"Installed",lastUpdated:"Last updated {{val, datetime}}",externalJS:"external JS",dark:"dark",light:"light"},readmePage:{title:"$t(grid.spicetifyMarketplace) - Readme",loading:"Loading...",errorLoading:"Error loading README"},github:"GitHub",install:"Install",remove:"Remove",save:"Save",colour_one:"colour",colour_other:"colours",favourite:"favourite"}},"en-US":{translation:{settings:{colourShiftLabel:"Shift colors every minute",albumArtBasedColors:"Change colors based on album art",albumArtBasedColorsMode:"The mode that the colorapi uses to generate color schemes"},devTools:{colorIniEditorPlaceholder:"[your-color-scheme-name]"},colour_one:"color",colour_other:"colors",favourite:"favorite"}},es:{translation:{settings:{title:"Ajustes",optionsHeading:"Opciones",starCountLabel:"Numero de estrellas",tagsLabel:"Etiquetas",devToolsLabel:"Herramientas para desarrolladores de temas",hideInstalledLabel:"Esconder instalado cuando buscando",colourShiftLabel:"Cambiar colores cada minuto",tabsHeading:"Pestañas",resetHeading:"Reestablecer",resetBtn:"$t(settings.resetHeading)",resetDescription:"Borrar todas estensiones and temas, y borrar preferencias",backupHeading:"Haz una copia/Reestablecer desde una copia",backupLabel:"Haz una copia o reestablece todos los datos de Marketplace desde una copia. Esto no incluye ajustes para las cosas instaladas con Marketplace.",backupBtn:"Abrir"},tabs:{Extensions:"Extensiónes",Themes:"Temas",Snippets:"Codigos",Apps:"Aplicaciones",Installed:"Instalados"},snippets:{addTitle:"Añadir Codigo",editTitle:"Editar Codigo",viewTitle:"Ver Codigo",customCSS:"Custom CSS",customCSSPlaceholder:"¡Crea tu propio CSS aqui! Puedes encontrarlos en la pestaña de instalados para administrarlos.",snippetName:"Nombre del codigo",snippetNamePlaceholder:"Asignale un nombre para tu codigo personalizado",snippetDesc:"Descripcion del codigo",snippetDescPlaceholder:"Crea una description para tu codigo personalizado",snippetPreview:"Codigo",optional:"Opcional",addImage:"Añadir imagen",changeImage:"Cambiar imagen",saveCSS:"Guardar CSS"},reloadModal:{title:"Recargar",description:"Una recarga de ventada es necesaria para completar esta operación.",reloadNow:"Recargar ahora",reloadLater:"Recargar después"},backupModal:{title:"$t(settings.backupHeading)",settingsCopied:"Ajustes copiados al portapapeles",noDataPasted:"No data pegado",invalidJSON:"JSON invalido",inputLabel:"Ajustes de Marketplace",inputPlaceholder:"Copia/pega tus ajustes aqui",exportBtn:"Exportar",importBtn:"Importar",fileImportBtn:"Importar desde un archivo"},devTools:{title:"Herramientas de desarrollador de temas",noThemeInstalled:"Error: No tema de marketplace instalado",noThemeManifest:"Error: No manifiesto de tema encontrado",colorIniEditor:"Editor de Color.ini",colorIniEditorPlaceholder:"[nombre-de-esquema-de-color]",invalidCSS:"CSS invalido"},grid:{spicetifyMarketplace:"Marketplace de Spicetify",newUpdate:"Nueva actualización",addCSS:"Añadir CSS",search:"Buscar",installed:"Instalado",lastUpdated:"Ultima actualización {{val, datetime}}",externalJS:"JS external",dark:"oscuro",light:"claro"},readmePage:{title:"$t(grid.spicetifyMarketplace) - Readme",loading:"Cargando...",errorLoading:"Error cargando README"},github:"GitHub",install:"Instalar",remove:"Borrar",save:"Guardar",colour_one:"color",colour_other:"colores",favourite:"favorito"}},fr:{translation:{settings:{title:"Réglages",optionsHeading:"Options",starCountLabel:"Nombres d’étoiles",tagsLabel:"Tags",devToolsLabel:"Outils pour les développeurs de thèmes",hideInstalledLabel:"Masquer ceux étant installés lors de la navigation",colourShiftLabel:"Changer de couleure chaque minutes",tabsHeading:"Onglets",resetHeading:"Réinitialiser",resetBtn:"$t(settings.resetHeading)",resetDescription:"Désinstaller toutes les extensions et tous les thèmes, ainsi que l’ensemble des réglages",backupHeading:"Sauvegarde/Restauration",backupLabel:"Sauvegarder ou restaurer toutes les données du Marché. Celà n'inclue pas les réglages pour quoi que ce soit installé depuis le Marché.",backupBtn:"Ouvrir"},tabs:{Extensions:"Extensions",Themes:"Thèmes",Snippets:"Bribes",Apps:"Applications",Installed:"Installé(s)"},snippets:{addTitle:"Ajouter Bribe",editTitle:"Éditer Bribe",viewTitle:"Voir Bribe",customCSS:"CSS personnalisé",customCSSPlaceholder:"Insérez votre propre CSS personnalisé ici! Vous pouvez les retrouver dans l’onglet Installé pour les gérrer.",snippetName:"Nom de la bribe",snippetNamePlaceholder:"Entrer un nom pour votre bribe personnalisée",snippetDesc:"Description de la bribe",snippetDescPlaceholder:"Entrez une description pour votre bribe personnalisée",snippetPreview:"Prévisualiser la bribe",optional:"Optionnel",addImage:"Ajouter une image",changeImage:"Changer l’image",saveCSS:"Enregistrer le CSS"},reloadModal:{title:"Recharger",description:"Un rechargement de la page est requis pour finaliser cette opération.",reloadNow:"Recharger maintenant",reloadLater:"Recharger plus tard"},backupModal:{title:"Sauvegarder/Restaurer",settingsCopied:"Réglages copiés dans le presse-papier",noDataPasted:"Aucune donnée collée",invalidJSON:"JSON invalide",inputLabel:"Réglages du Marché",inputPlaceholder:"Copier/coller vos réglages ici",exportBtn:"Exporter",importBtn:"Importer",fileImportBtn:"Importer depuis un fichier"},devTools:{title:"Outils de développeurs de thèmes",noThemeInstalled:"Erreur: Aucun thème du marché n’est installé",noThemeManifest:"Erreur: Aucun manifeste de thème trouvé",colorIniEditor:"Éditeur Color.ini",colorIniEditorPlaceholder:"[nom-de-votre-schéma-de-couleur]",invalidCSS:"CSS invalide"},grid:{spicetifyMarketplace:"Marché Spicetify",newUpdate:"Nouvelle mise à jour",addCSS:"Ajouter CSS",search:"Rechercher",installed:"Installé",lastUpdated:"Dernière mise à jour {{val, datetime}}",externalJS:"JS externe",dark:"sombre",light:"clair"},readmePage:{title:"$t(grid.spicetifyMarketplace) - Readme",loading:"Chargement…",errorLoading:"Erreur lors du chargement du README"},github:"GitHub",install:"Installer",remove:"Supprimer",save:"Enregistrer",colour_one:"couleure",colour_other:"couleures",favourite:"favoris"}},"zh-TW":{translation:{settings:{title:"設定",optionsHeading:"選項",starCountLabel:"收藏數",tagsLabel:"標籤",devToolsLabel:"主題開發者工具",hideInstalledLabel:"瀏覽時隱藏已安裝項目",colourShiftLabel:"每分鐘進行色調偏移",tabsHeading:"分頁",resetHeading:"重設",resetBtn:"$t(settings.resetHeading)",resetDescription:"解除安裝所有擴充套件和主題， 並重設偏好設定",backupHeading:"備份與還原",backupLabel:"備份或還原所有 Marketplace 中的資料（不包含從 Marketplace 安裝的擴充元件的設定）。",backupBtn:"開啟"},tabs:{Extensions:"擴充套件",Themes:"主題",Snippets:"微調片段",Apps:"功能模組",Installed:"已安裝項目"},snippets:{addTitle:"加入微調片段",editTitle:"編輯微調片段",viewTitle:"檢視微調片段",customCSS:"自訂 CSS",customCSSPlaceholder:"這裡可以輸入您的自訂 CSS！您可以在「已安裝項目」分頁中看到這些片段，進而進行管理。",snippetName:"微調片段名稱",snippetNamePlaceholder:"輸入自訂微調片段的名稱",snippetDesc:"微調片段描述",snippetDescPlaceholder:"輸入自訂微調片段的描述",snippetPreview:"微調片段預覽圖",optional:"非必須",addImage:"加入影像",changeImage:"更改影像",saveCSS:"儲存 CSS"},reloadModal:{title:"重新載入",description:"需要重新載入頁面，才能完成這個操作。",reloadNow:"立即重新載入",reloadLater:"稍後重新載入"},backupModal:{title:"$t(settings.backupHeading)",settingsCopied:"已將設定複製至剪貼簿",noDataPasted:"沒有貼上資料",invalidJSON:"JSON 無效",inputLabel:"Marketplace 設定",inputPlaceholder:"在此複製或貼上設定",exportBtn:"匯出",importBtn:"匯入",fileImportBtn:"從檔案匯入"},devTools:{title:"主題開發者工具",noThemeInstalled:"錯誤：沒有安裝 Marketplace 主題",noThemeManifest:"錯誤：找不到主題資訊清單",colorIniEditor:"Color.ini 編輯器",colorIniEditorPlaceholder:"[您的色彩配置名稱]",invalidCSS:"CSS 無效"},grid:{spicetifyMarketplace:"Spicetify Marketplace",newUpdate:"有更新",addCSS:"加入 CSS",search:"搜尋",installed:"已經安裝",lastUpdated:"上次更新於 {{val, datetime}}",externalJS:"有外部 JS",dark:"暗色",light:"亮色"},readmePage:{title:"$t(grid.spicetifyMarketplace) – 說明",loading:"正在載入……",errorLoading:"載入 README 時發生錯誤"},github:"GitHub",install:"安裝",remove:"移除",save:"儲存",colour_one:"色彩",colour_other:"色彩",favourite:"收藏"}},"zh-CN":{translation:{settings:{title:"设置",optionsHeading:"选项",starCountLabel:"收藏数",tagsLabel:"标签",devToolsLabel:"主題开发者工具",hideInstalledLabel:"浏览时隐藏已安装项目",colourShiftLabel:"每分钟进行色调偏移",tabsHeading:"分页",resetHeading:"重置",resetBtn:"$t(settings.resetHeading)",resetDescription:"卸载所有扩展插件和主题，并重置设置"},tabs:{Extensions:"扩展插件",Themes:"主题",Snippets:"微调片段",Apps:"功能模组",Installed:"已安裝项目"},snippets:{addTitle:"加入微调片段",editTitle:"编辑微调片段",viewTitle:"检视微调片段",customCSS:"自定义 CSS",customCSSPlaceholder:"这里可以输入您的自定义 CSS！您可以在「已安裝项目」标签页中看到这些片段，进而进行管理。",snippetName:"微调片段名称",snippetNamePlaceholder:"输入自定义微调片段的名称",snippetDesc:"微调片段描述",snippetDescPlaceholder:"输入自定义微调片段的描述",snippetPreview:"微调片段预览图",optional:"非必要",addImage:"加入影像",changeImage:"更改影像",saveCSS:"保存 CSS"},reloadModal:{title:"重新加载",description:"需要重新加载页面，才能完成这个操作。",reloadNow:"立即重新加载",reloadLater:"稍后重新加载"},devTools:{title:"主題开发者工具",noThemeInstalled:"错误：未安装商场主题",noThemeManifest:"错误：找不到主题内容清单",colorIniEditor:"Color.ini 编辑器",colorIniEditorPlaceholder:"[您的色彩配置名称]",invalidCSS:"CSS 无效"},grid:{spicetifyMarketplace:"Spicetify 商场",newUpdate:"有更新",addCSS:"加入 CSS",search:"搜索",installed:"已安装",lastUpdated:"上次更新于 {{val, datetime}}",externalJS:"有外部 JS",dark:"暗色模式",light:"亮色模式"},readmePage:{title:"$t(grid.spicetifyMarketplace) – 说明",loading:"正在加载……",errorLoading:"加载 README 时发生错误"},github:"GitHub",install:"安裝",remove:"移除",save:"保存",colour_one:"色彩",colour_other:"色彩",favourite:"收藏"}}},detection:{order:["navigator","htmlTag"]},fallbackLng:"en",interpolation:{escapeValue:!1}}),class extends wa.default.Component{constructor(e){super(e),this.state={count:0,CONFIG:{}},this.updateConfig=e=>{this.CONFIG=i({},e),console.log("updated config",this.CONFIG),this.setState({CONFIG:i({},e)})};e=S(Rs,null);let t=[];try{if(t=JSON.parse(e),!Array.isArray(t))throw new Error("Could not parse marketplace tabs key");if(0===t.length)throw new Error("Empty marketplace tabs key");if(0<t.filter(e=>!e).length)throw new Error("Falsey marketplace tabs key")}catch(e){t=Ts,localStorage.setItem(Rs,JSON.stringify(t))}let r={},n=null;try{var a=S(As,null);if(a){var o=S(a,null);if(!o)throw new Error("No installed theme data");r=o.schemes,n=o.activeScheme}else console.log("No theme set as installed")}catch(e){console.error(e)}this.CONFIG={visual:{stars:JSON.parse(S("marketplace:stars",!0)),tags:JSON.parse(S("marketplace:tags",!0)),hideInstalled:JSON.parse(S("marketplace:hideInstalled",!1)),colorShift:JSON.parse(S("marketplace:colorShift",!1)),themeDevTools:JSON.parse(S("marketplace:themeDevTools",!1)),albumArtBasedColors:JSON.parse(S("marketplace:albumArtBasedColors",!1)),albumArtBasedColorsMode:S("marketplace:albumArtBasedColorsMode")||"monochrome-light",type:JSON.parse(S("marketplace:type",!1)),followers:JSON.parse(S("marketplace:followers",!1))},tabs:t,activeTab:S(Ls,t[0]),theme:{activeThemeKey:S(As,null),schemes:r,activeScheme:n}},this.CONFIG.activeTab&&this.CONFIG.tabs.filter(e=>e.name===this.CONFIG.activeTab).length||(this.CONFIG.activeTab=this.CONFIG.tabs[0].name)}render(){var e=Spicetify.Platform.History["location"];return e.pathname===Ms+"/readme"&&e.state.data?wa.default.createElement(fl,{title:v("readmePage.title"),data:e.state.data}):wa.default.createElement(hl,{title:v("grid.spicetifyMarketplace"),CONFIG:this.CONFIG,updateAppConfig:this.updateConfig})}}),ml=is()(sa),gl=t(m("react"));return ia=va,J(A({},"__esModule",{value:!0}),ia)})();const render=()=>marketplace.default();